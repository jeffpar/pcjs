(function(){/*
 https://www.pcjs.org/machines/modules/v2/message.js (C) 2012-2025 Jeff Parsons
 https://www.pcjs.org/machines/modules/v2/diskapi.js (C) 2012-2025 Jeff Parsons
 https://www.pcjs.org/machines/modules/v2/dumpapi.js (C) 2012-2025 Jeff Parsons
 https://www.pcjs.org/machines/modules/v2/reportapi.js (C) 2012-2025 Jeff Parsons
 https://www.pcjs.org/machines/modules/v2/userapi.js (C) 2012-2025 Jeff Parsons
 https://www.pcjs.org/machines/modules/v2/keys.js (C) 2012-2025 Jeff Parsons
 https://www.pcjs.org/machines/pcx86/modules/v2/x86.js (C) 2012-2025 Jeff Parsons
 https://www.pcjs.org/machines/pcx86/modules/v2/errors.js (C) 2012-2025 Jeff Parsons
 https://www.pcjs.org/machines/pcx86/modules/v2/interrupts.js (C) 2012-2025 Jeff Parsons
 https://www.pcjs.org/machines/modules/v2/embed.js (C) 2012-2025 Jeff Parsons
 https://www.pcjs.org/machines/modules/v2/defines.js (C) 2012-2025 Jeff Parsons
 https://www.pcjs.org/machines/modules/v2/format.js (C) 2012-2025 Jeff Parsons
 https://www.pcjs.org/machines/modules/v2/databuffer.js (C) 2012-2025 Jeff Parsons
 https://www.pcjs.org/machines/modules/v2/pcfs.js (C) 2012-2025 Jeff Parsons
 https://www.pcjs.org/machines/modules/v2/strlib.js (C) 2012-2025 Jeff Parsons
 https://www.pcjs.org/machines/modules/v2/usrlib.js (C) 2012-2025 Jeff Parsons
 https://www.pcjs.org/machines/modules/v2/weblib.js (C) 2012-2025 Jeff Parsons
 https://www.pcjs.org/machines/modules/v2/component.js (C) 2012-2025 Jeff Parsons
 https://www.pcjs.org/machines/modules/v2/jsonlib.js (C) 2012-2025 Jeff Parsons
 https://www.pcjs.org/machines/pcx86/modules/v2/defines.js (C) 2012-2025 Jeff Parsons
 https://www.pcjs.org/machines/pcx86/modules/v2/message.js (C) 2012-2025 Jeff Parsons
 https://www.pcjs.org/machines/pcx86/modules/v2/charset.js (C) 2012-2025 Jeff Parsons
 https://www.pcjs.org/machines/pcx86/modules/v2/driveinfo.js (C) 2012-2025 Jeff Parsons
 https://www.pcjs.org/machines/pcx86/modules/v2/panel.js (C) 2012-2025 Jeff Parsons
 https://www.pcjs.org/machines/pcx86/modules/v2/bus.js (C) 2012-2025 Jeff Parsons
 https://www.pcjs.org/machines/pcx86/modules/v2/memory.js (C) 2012-2025 Jeff Parsons
 https://www.pcjs.org/machines/pcx86/modules/v2/cpu.js (C) 2012-2025 Jeff Parsons
 https://www.pcjs.org/machines/pcx86/modules/v2/cpux86.js (C) 2012-2025 Jeff Parsons
 https://www.pcjs.org/machines/pcx86/modules/v2/fpux86.js (C) 2012-2025 Jeff Parsons
 https://www.pcjs.org/machines/pcx86/modules/v2/segx86.js (C) 2012-2025 Jeff Parsons
 https://www.pcjs.org/machines/pcx86/modules/v2/x86func.js (C) 2012-2025 Jeff Parsons
 https://www.pcjs.org/machines/pcx86/modules/v2/x86help.js (C) 2012-2025 Jeff Parsons
 https://www.pcjs.org/machines/pcx86/modules/v2/x86mods.js (C) 2012-2025 Jeff Parsons
 https://www.pcjs.org/machines/pcx86/modules/v2/x86ops.js (C) 2012-2025 Jeff Parsons
 https://www.pcjs.org/machines/pcx86/modules/v2/x86op0f.js (C) 2012-2025 Jeff Parsons
 https://www.pcjs.org/machines/pcx86/modules/v2/chipset.js (C) 2012-2025 Jeff Parsons
 https://www.pcjs.org/machines/pcx86/modules/v2/rom.js (C) 2012-2025 Jeff Parsons
 https://www.pcjs.org/machines/pcx86/modules/v2/ram.js (C) 2012-2025 Jeff Parsons
 https://www.pcjs.org/machines/pcx86/modules/v2/keyboard.js (C) 2012-2025 Jeff Parsons
 https://www.pcjs.org/machines/pcx86/modules/v2/video.js (C) 2012-2025 Jeff Parsons
 https://www.pcjs.org/machines/pcx86/modules/v2/parallel.js (C) 2012-2025 Jeff Parsons
 https://www.pcjs.org/machines/pcx86/modules/v2/serial.js (C) 2012-2025 Jeff Parsons
 https://www.pcjs.org/machines/pcx86/modules/v2/testctl.js (C) 2012-2025 Jeff Parsons
 https://www.pcjs.org/machines/pcx86/modules/v2/testmon.js (C) 2012-2025 Jeff Parsons
 https://www.pcjs.org/machines/pcx86/modules/v2/mouse.js (C) 2012-2025 Jeff Parsons
 https://www.pcjs.org/machines/pcx86/modules/v2/disk.js (C) 2012-2025 Jeff Parsons
 https://www.pcjs.org/machines/pcx86/modules/v2/fdc.js (C) 2012-2025 Jeff Parsons
 https://www.pcjs.org/machines/pcx86/modules/v2/hdc.js (C) 2012-2025 Jeff Parsons
 https://www.pcjs.org/machines/modules/v2/dbglib.js (C) 2012-2025 Jeff Parsons
 https://www.pcjs.org/machines/pcx86/modules/v2/debugger.js (C) 2012-2025 Jeff Parsons
 https://www.pcjs.org/machines/pcx86/modules/v2/computer.js (C) 2012-2025 Jeff Parsons
 https://www.pcjs.org/machines/modules/v2/state.js (C) 2012-2025 Jeff Parsons
 https://www.pcjs.org/machines/modules/v2/save.js (C) 2012-2025 Jeff Parsons
*/
var m;function aa(a){var b=0;return function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}}}function ba(a){var b="undefined"!=typeof Symbol&&Symbol.iterator&&a[Symbol.iterator];if(b)return b.call(a);if("number"==typeof a.length)return{next:aa(a)};throw Error(String(a)+" is not an iterable or ArrayLike");}function ca(a){if(!(a instanceof Array)){a=ba(a);for(var b,c=[];!(b=a.next()).done;)c.push(b.value);a=c}return a}
var da="function"==typeof Object.create?Object.create:function(a){function b(){}b.prototype=a;return new b},ea="function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){if(a==Array.prototype||a==Object.prototype)return a;a[b]=c.value;return a};
function fa(a){a=["object"==typeof globalThis&&globalThis,a,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var b=0;b<a.length;++b){var c=a[b];if(c&&c.Math==Math)return c}throw Error("Cannot find global object");}var ha=fa(this);function ia(a,b){if(b)a:{var c=ha;a=a.split(".");for(var d=0;d<a.length-1;d++){var e=a[d];if(!(e in c))break a;c=c[e]}a=a[a.length-1];d=c[a];b=b(d);b!=d&&null!=b&&ea(c,a,{configurable:!0,writable:!0,value:b})}}var ja;
if("function"==typeof Object.setPrototypeOf)ja=Object.setPrototypeOf;else{var ka;a:{var la={a:!0},ma={};try{ma.__proto__=la;ka=ma.a;break a}catch(a){}ka=!1}ja=ka?function(a,b){a.__proto__=b;if(a.__proto__!==b)throw new TypeError(a+" is not extensible");return a}:null}var na=ja;
function oa(a,b){a.prototype=da(b.prototype);a.prototype.constructor=a;if(na)na(a,b);else for(var c in b)if("prototype"!=c)if(Object.defineProperties){var d=Object.getOwnPropertyDescriptor(b,c);d&&Object.defineProperty(a,c,d)}else a[c]=b[c];a.WK=b.prototype}function pa(){for(var a=Number(this),b=[],c=a;c<arguments.length;c++)b[c-a]=arguments[c];return b}
ia("String.prototype.replaceAll",function(a){return a?a:function(b,c){if(b instanceof RegExp&&!b.global)throw new TypeError("String.prototype.replaceAll called with a non-global RegExp argument.");return b instanceof RegExp?this.replace(b,c):this.replace(new RegExp(String(b).replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08"),"g"),c)}});
ia("Math.trunc",function(a){return a?a:function(b){b=Number(b);if(isNaN(b)||Infinity===b||-Infinity===b||0===b)return b;var c=Math.floor(Math.abs(b));return 0>b?-c:c}});ia("String.prototype.repeat",function(a){return a?a:function(b){if(null==this)throw new TypeError("The 'this' value for String.prototype.repeat must not be null or undefined");var c=this;if(0>b||1342177279<b)throw new RangeError("Invalid count value");b|=0;for(var d="";b;)if(b&1&&(d+=c),b>>>=1)c+=c;return d}});
ia("Number.isNaN",function(a){return a?a:function(b){return"number"===typeof b&&isNaN(b)}});ia("Array.prototype.fill",function(a){return a?a:function(b,c,d){var e=this.length||0;0>c&&(c=Math.max(0,e+c));if(null==d||d>e)d=e;d=Number(d);0>d&&(d=Math.max(0,e+d));for(c=Number(c||0);c<d;c++)this[c]=b;return this}});function ra(a){return a?a:Array.prototype.fill}ia("Int8Array.prototype.fill",ra);ia("Uint8Array.prototype.fill",ra);ia("Uint8ClampedArray.prototype.fill",ra);
ia("Int16Array.prototype.fill",ra);ia("Uint16Array.prototype.fill",ra);ia("Int32Array.prototype.fill",ra);ia("Uint32Array.prototype.fill",ra);ia("Float32Array.prototype.fill",ra);ia("Float64Array.prototype.fill",ra);
ia("Symbol",function(a){function b(f){if(this instanceof b)throw new TypeError("Symbol is not a constructor");return new c(d+(f||"")+"_"+e++,f)}function c(f,g){this.A=f;ea(this,"description",{configurable:!0,writable:!0,value:g})}if(a)return a;c.prototype.toString=function(){return this.A};var d="jscomp_symbol_"+(1E9*Math.random()>>>0)+"_",e=0;return b});
ia("Symbol.iterator",function(a){if(a)return a;a=Symbol("Symbol.iterator");for(var b="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),c=0;c<b.length;c++){var d=ha[b[c]];"function"===typeof d&&"function"!=typeof d.prototype[a]&&ea(d.prototype,a,{configurable:!0,writable:!0,value:function(){return sa(aa(this))}})}return a});function sa(a){a={next:a};a[Symbol.iterator]=function(){return this};return a}
function ta(a,b){a instanceof String&&(a+="");var c=0,d=!1,e={next:function(){if(!d&&c<a.length){var f=c++;return{value:b(f,a[f]),done:!1}}d=!0;return{done:!0,value:void 0}}};e[Symbol.iterator]=function(){return e};return e}ia("Array.prototype.keys",function(a){return a?a:function(){return ta(this,function(b){return b})}});ia("Number.parseInt",function(a){return a||parseInt});ia("Math.sign",function(a){return a?a:function(b){b=Number(b);return 0===b||isNaN(b)?b:0<b?1:-1}});
ia("Array.prototype.findIndex",function(a){return a?a:function(b,c){a:{var d=this;d instanceof String&&(d=String(d));for(var e=d.length,f=0;f<e;f++)if(b.call(c,d[f],f,d)){b=f;break a}b=-1}return b}});var ua="undefined"!=typeof window,va="undefined"!=typeof window?{}:global,r="undefined"!=typeof window?window:global,wa="undefined"!=typeof document?document:{},xa={machines:{},components:[],commands:{},files:null};r.PCjs?xa=r.PCjs:r.PCjs=xa;r.LOCALDISKS=!1;
var ya={log:68719476736,warn:549755813888,halt:70368744177664,buffer:0x800000000000};function za(){this.A={};for(var a=0;23>a;a++)this.A["ACDFGHMNSTWYBbdfjcsoXx%"[a]]=null}
function Ca(){var a=pa.apply(0,arguments);if(void 0===a[0])a=new Date(Date.now());else if("string"===typeof a[0]){var b=a[0];0>b.indexOf(":")?b+=" "+(a[1]||"00:00:00 UTC"):b.match(/^[0-9][0-9][0-9][0-9]-[0-9][0-9]-[0-9][0-9] [0-9][0-9]:[0-9][0-9]:[0-9][0-9]$/)&&(a[1]||(b+=" UTC"));a=new Date(b)}else a=void 0===a[1]?new Date(a[0]):new Date(Date.UTC.apply(Date,ca(a)));return a}
za.prototype.B=function(a){var b=pa.apply(1,arguments);if(!b||!b.length)return a;var c="",d=a.split(/%([-+ 0#]*)([0-9]*|\*)(\.[0-9]+|)([bwhlL]?)([A-Za-z%])/),e=0,f;for(f=0;f<d.length-6;f+=6){c+=d[f];var g=d[f+5];if(void 0===this.A[g])c+="%"+d[f+1]+d[f+2]+d[f+3]+d[f+4]+g;else{if(e<b.length){var h=b[e];"%"!=g&&e++}else h=b[b.length-1];var k=!1,l=d[f+1],p=0<=l.indexOf("#"),n=0<=l.indexOf("0"),q=d[f+2];"*"==q?(q=h,h=e<b.length?b[e++]:b[b.length-1]):q=+q||0;var u=d[f+3];u=u?+u.substr(1):-1;var y=d[f+4],
N=null,E=0,G="",K=0<="ACDFGHMNSTWY".indexOf(g)&&"object"!=typeof h?Ca(h):h;switch(g){case "C":c+=isNaN(K.getTime())?void 0:this.B("%#W, %#F %#D, %#Y".replaceAll("#",p?"#":""),K);continue;case "D":h=p?K.getUTCDate():K.getDate();g="d";break;case "A":case "G":case "H":h=p?K.getUTCHours():K.getHours();"A"==g?(h=12>h?"am":"pm",g="s"):("G"==g&&(h=h?12<h?h-12:h:12),g="d");break;case "F":case "M":h=p?K.getUTCMonth():K.getMonth();"F"==g?(h=Da[h],g="s"):(h++,g="d");break;case "N":h=p?K.getUTCMinutes():K.getMinutes();
g="d";break;case "S":h=p?K.getUTCSeconds():K.getSeconds();g="d";break;case "T":c+=isNaN(K.getTime())?void 0:this.B("%#Y-%#02M-%#02D %#02H:%#02N:%#02S".replaceAll("#",p?"#":""),K);continue;case "W":h=Ea[p?K.getUTCDay():K.getDay()];g="s";break;case "Y":h=p?K.getUTCFullYear():K.getFullYear(),0<u&&(h%=Math.pow(10,u)),g="d"}switch(g){case "b":c+=h?"true":"false";break;case "d":h=Math.trunc(h),0<=u&&(n=!0,q<u&&(q=u),u=-1);case "f":h=+h;g=h+"";0<=u&&(g=h.toFixed(u));g.length<q&&(n?(0>h&&(q--,g=g.substr(1)),
g=("0".repeat(q)+g).slice(-q),0>h&&(g="-"+g)):g=(" ".repeat(q)+g).slice(-q));c+=g;break;case "j":c+=JSON.stringify(h,null,q||void 0);break;case "c":h="string"==typeof h?h[0]:String.fromCharCode(h);case "s":if(void 0!=h)for("string"!=typeof h&&(h=h.toString()),0<=u&&(h=h.substr(0,u));h.length<q;)h=0<=l.indexOf("-")?h+" ":" "+h;c+=h;break;case "B":E=2,p&&(G="0b");case "o":E||(E=8),!G&&p&&(G="0o");case "X":N=Fa;case "x":g="";E||(E=16);!G&&p&&(G="0x");N||(N=Ga);"string"==typeof h&&"-"==h[0]&&(k=!0,h=
h.slice(1));h=Math.trunc(h);k&&(h=-h);0>h&&((h|0)==h?h>>>=0:Math.abs(h)<=Math.pow(2,53)&&(h+=Math.pow(2,53)));0<=u&&(n=!0,q<u&&(q=u));n&&!q&&("b"==y?q=2:"h"==y||"w"==y?q=4:"l"==y?q=8:(q=Math.abs(h),q=255>=q?2:65535>=q?4:4294967295>=q?8:9),q+=G.length);q-=G.length;do k=16,Number.isNaN(h)||(k=h&E-1,h=Math.trunc(h/E)),n||!g||k||h?g=N[k]+g:(G&&(g=G+g,G=""),0<q&&(g=" "+g));while(0<--q||h);c+=G+g;break;case "%":c+="%";break;default:c=this.A[g]?c+this.A[g](g,l,q,u,h):c+("(unimplemented sprintf type: %"+
g+")")}}}return c+=d[f]};
var Ea="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),Da="January February March April May June July August September October November December".split(" "),Ga="0123456789abcdef?",Fa="0123456789ABCDEF?",Ia={163840:[40,1,8,,254],184320:[40,1,9,,252],327680:[40,2,8,,255],368640:[40,2,9,,253],737280:[80,2,9,,249],1228800:[80,2,15,,249],1474560:[80,2,18,,240],1720320:[80,2,21,,240],1884160:[80,2,23,,249],2949120:[80,2,36,,240],10653696:[306,4,17],21411840:[615,4,17],256256:[77,1,
26,128],2494464:[203,2,12,512],5242880:[256,2,40,256],10485760:[512,2,40,256]},t={Fg:0,Nl:1,Ql:2,Nj:3,Rl:4,Sl:5,Tl:6,Ul:7,Oj:8,Qh:9,Rh:10,Vl:11,Wl:12,Sh:13,Xl:14,Yl:15,Zl:16,$l:17,am:18,bm:19,Pj:20,cm:21,dm:22,em:23,fm:24,gm:25,Qj:26,Lg:27," ":32,"!":33,'"':34,"#":35,$:36,"%":37,"&":38,"'":39,"(":40,")":41,"*":42,"+":43,",":44,"-":45,".":46,"/":47,0:48,1:49,2:50,3:51,4:52,5:53,6:54,7:55,8:56,9:57,":":58,";":59,"<":60,"=":61,">":62,"?":63,"@":64,Ie:65,Lh:66,Gg:67,Uh:68,E:69,$h:70,ki:71,li:72,ni:73,
oi:74,pi:75,si:76,ti:77,vi:78,zi:79,Bi:80,Q:81,Di:82,Ii:83,Oi:84,Qi:85,Si:86,Ui:87,Vi:88,Wi:89,og:90,"[":91,"\\":92,"]":93,"^":94,_:95,"`":96,a:97,b:98,c:99,d:100,e:101,f:102,js:103,ls:104,ms:105,As:106,k:107,Bs:108,Gs:109,n:110,Mt:111,p:112,q:113,r:114,nu:115,t:116,su:117,tu:118,w:119,x:120,y:121,z:122,"{":123,"|":124,"}":125,"~":126,Wh:127},Ka={Comma:188,Period:190,Semicolon:186,Quote:222,BracketLeft:219,BracketRight:221,Backquote:192,Backslash:220,Minus:189,Equal:187,AltLeft:18,AltRight:18,CapsLock:20,
ControlLeft:17,ControlRight:17,OSLeft:91,OSRight:93,ShiftLeft:16,ShiftRight:16,Enter:13,Space:32,Tab:9,Delete:46,End:35,Home:36,Insert:45,PageDown:34,PageUp:33,ArrowDown:40,ArrowLeft:37,ArrowRight:39,ArrowUp:38,Escape:27,PrintScreen:44,ScrollLock:145,Pause:19,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NumLock:144,Numpad0:96,Numpad1:97,Numpad2:98,Numpad3:99,Numpad4:100,Numpad5:101,Numpad6:102,Numpad7:103,Numpad8:104,Numpad9:105,NumpadAdd:107,NumpadSubtract:109,
NumpadMultiply:106,NumpadDivide:111,NumpadDecimal:110,NumpadEnter:Ja},Ja=2013,La={};La[173]=t["-"];La[186]=t[";"];La[187]=t["="];La[189]=t["-"];La[188]=t[","];La[190]=t["."];La[191]=t["/"];La[192]=t["`"];La[219]=t["["];La[220]=t["\\"];La[221]=t["]"];La[222]=t["'"];var Ma={};Ma[t["1"]]=t["!"];Ma[t["2"]]=t["@"];Ma[t["3"]]=t["#"];Ma[t["4"]]=t.$;Ma[t["5"]]=t["%"];Ma[t["6"]]=t["^"];Ma[t["7"]]=t["&"];Ma[t["8"]]=t["*"];Ma[t["9"]]=t["("];Ma[t["0"]]=t[")"];Ma[186]=t[":"];Ma[187]=t["+"];Ma[188]=t["<"];
Ma[189]=t._;Ma[190]=t[">"];Ma[191]=t["?"];Ma[192]=t["~"];Ma[219]=t["{"];Ma[220]=t["|"];Ma[221]=t["}"];Ma[222]=t['"'];Ma[173]=t._;Ma[61]=t["+"];Ma[59]=t[":"];
function Na(a){var b=null,c=0==a.indexOf(Oa)?xa.files:null;if(c){a=a.slice(Oa.length+1).split("/");var d,e;for(d=0;d<a.length;d++){var f=a[d],g=!1;if(!f){b=c;break}for(e=0;e<c.files.length;e++){var h=c.files[e];if(h.name.toLowerCase()==f.toLowerCase()){if(d==a.length-1){b=h;break}if(h.files){c=h;g=!0;break}}}if(b)break;if(!g&&d<a.length-1)break}}return b}var Oa="/pcfs",Pa={ZI:1,UF:2,iK:4,BK:8,SG:15,Iy:16,CC:32};xa.files||(xa.files={name:"",size:0,Tr:Pa.Iy,SK:new Date,files:[]});function Qa(){}
function Ra(a,b){if(a){b||(b=10);var c,d=0<a.indexOf(",");d&&(a=a.replace(/,/g,""));var e=c=a.charAt(0);"#"==c?(b=8,c=""):"$"==c&&(b=16,c="");e!=c?a=a.substr(1):(e=c=a.substr(0,2),"0b"==c&&d||"^B"==c?(b=2,c=""):"0o"==c||"^O"==c?(b=8,c=""):"^D"==c?(b=10,c=""):"0x"==c&&(b=16,c=""),e!=c&&(a=a.substr(2)));e=c=a.slice(-1);"Y"==c||"y"==c?(b=2,c=""):"."==c?(b=10,c=""):"H"==c||"h"==c?(b=16,c=""):"K"==c?c="000":"M"==c?c="000000":"G"==c&&(c="000000000");e!=c&&(a=a.slice(0,-1)+c);var f;e=0;10>=b&&(c=a.match(/(-?[0-9]+)B([0-9]*)/))&&
(a=c[1],e=35-((c[2]||35)&255));if((b&&10!=b?16==b?null!==a.match(/^-?[0-9a-f]+$/i):8==b?null!==a.match(/^-?[0-7]+$/):2==b&&null!==a.match(/^-?[01]+$/):null!==a.match(/^-?[0-9]+$/))&&!isNaN(f=parseInt(a,b))){e&&(0>f&&(f+=Math.pow(2,36)),f=0<e?f*Math.pow(2,e):Math.trunc(f/Math.pow(2,-e)));var g=f}}return g}
function Sa(a,b,c,d,e){e=void 0===e?0:e;var f="";isNaN(a)||"number"!=typeof a?a=null:(0>a&&-1<a&&(a=-1),0>a&&(a+=Math.pow(b,c)),a>=Math.pow(b,c)&&(c=Math.ceil(Math.log(a)/Math.log(b))));for(var g=e||-1;0<c--;){g||(f=","+f,g=e);if(null==a)f="?"+f;else{var h=a%b;h+=0<=h&&9>=h?48:55;f=String.fromCharCode(h)+f;a=Math.trunc(a/b)}g--}return(void 0===d?"":d)+f}function Ta(a,b,c){b?36<b&&(b=36):(b=Math.abs(a),b=255>=b?8:262143>=b?18:36);return Sa(a,2,b,"",c)}
function Va(a,b,c){b?12<b&&(b=12):(b=Math.abs(a),b=262143>=b?6:16777215>=b?8:12);return Sa(a,8,b,c?"0o":"")}function Wa(a,b){b?11<b&&(b=11):b=99999>=Math.abs(a)?5:11;return Sa(a,10,b)}function Xa(a,b,c){b?9<b&&(b=9):(b=Math.abs(a),b=255>=b?2:65535>=b?4:4294967295>=b?8:9);return Sa(a,16,b,c?"0x":"")}function Ya(a){return Xa(a,2,!0)}function Za(a){return Xa(a,4,!0)}
function $a(a,b){var c=a,d=a.lastIndexOf("/");0<=d&&(c=a.substr(d+1));d=c.indexOf("&");0<d&&(c=c.substr(0,d));b&&(d=c.lastIndexOf("."),0<d&&(c=c.substring(0,d)));return c}function ab(a){var b="",c=a.lastIndexOf(".");0<=c&&(b=a.substr(c+1).toLowerCase(),"json5"==b&&(b="json"));return b}function bb(a,b){return-1!==a.indexOf(b,a.length-b.length)}function cb(a){return a.replace(/[&<>"'$]/g,function(b){return db[b]})}function eb(a,b){return fb("%"+b+"."+Math.abs(b)+"s",a)}
function gb(a){return String.prototype.trim?a.trim():a.replace(/^\s+|\s+$/g,"")}function hb(a){var b;a!=ib.vv&&a!=ib.Yw&&(b=jb[a]);return b=b?"<"+b+">":String.fromCharCode(a)}
var db={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&apos;",$:"&dollar;"},jb={0:"NUL",1:"SOH",2:"STX",3:"ETX",4:"EOT",5:"ENQ",6:"ACK",7:"BEL",8:"BS",9:"TAB",10:"LF",11:"VT",12:"FF",13:"CR",14:"SO",15:"SI",16:"DLE",17:"XON",18:"DC2",19:"XOFF",20:"DC4",21:"NAK",22:"SYN",23:"ETB",24:"CAN",25:"EM",26:"SUB",27:"ESC",28:"FS",29:"GS",30:"RS",31:"US",127:"DEL"},ib={Yw:10,vv:13},kb=new za,fb=kb.B.bind(kb);
function lb(a,b,c){var d=0,e=a.length,f=0;for(void 0===c&&(c=function(k,l){return k>l?1:k<l?-1:0});d<e;){var g=d+e>>1,h=void 0;h=c(b,a[g]);0<h?d=g+1:(e=g,f=!h)}return f?d:~d}function mb(a,b,c){c=lb(a,b,c);0>c&&a.splice(-(c+1),0,b)}function nb(a,b){var c=0,d=1,e;for(e in a){if(d>=arguments.length)break;var f=a[e],g=arguments[d++];c=c&~f.Nn|g<<f.shift&f.Nn}return c}function pb(a,b){return(b&a.Nn)>>a.shift}
function qb(a,b){if(Array.prototype.indexOf)return a.indexOf(b,c);var c=c||0;0>c&&(c+=a.length);0>c&&(c=0);for(var d=a.length;c<d;c++)if(c in a&&a[c]===b)return c;return-1}var rb=[31,28,31,30,31,30,31,31,30,31,30,31];
function sb(a,b,c,d,e){function f(){if(4!==p.readyState)return e&&e(1),null;try{h=n?p.response:p.responseText}catch(y){tb(68719476736,"getResource(%s) exception: %s\n",a,y.message)}if(null!=h&&(200==p.status||!p.status&&h.length&&"file:"==(r.location?r.location.protocol:"file:")))tb(2267742732288,"getResource(%s): returned %d bytes\n",a,h.length);else if(g=p.status||-1,tb(2199023255552,"getResource(%s) error: %d\n",a,g),!p.status&&!ub){var u=a.match(/(^https?:\/\/[^/]+)(.*)/);u&&(ub=!0,vb("PCjs was unable to perform a cross-origin resource request to '"+
u[1]+"'.\n\nIf you're running an ad blocker, try adding '"+wb()+"' to your whitelist (or find a smarter ad blocker)."))}e&&e(2);d&&d(a,h,g);return[h,g]}b=void 0===b?"text":b;c=void 0===c?!1:c;var g=0,h=null,k=null,l=r.resources;if("object"==typeof l&&(h=l[a]))return d&&d(a,h,g),[h,g];if(c&&"function"==typeof l)return l(a,function(u,y){d&&d(a,u,y)}),k;a=r.LOCALDISKS&&yb().match(/^(.+\.local|localhost|0\.0\.0\.0|pcjs)$/)?a.replace(/^\/(diskettes|gamedisks|miscdisks|harddisks|decdisks|pcsigdisks|pcsig[0-9a-z]*-disks|private)\//,
"/disks/$1/").replace(/^\/discs\/([^/]*)\//,"/disks/cdroms/$1/"):a.replace(/^\/(disks\/|)(diskettes|gamedisks|miscdisks|harddisks|decdisks|pcsigdisks|pcsig[0-9a-z]*-disks|private)\//,"https://$2.pcjs.org/").replace(/^\/(disks\/cdroms|discs)\/([^/]*)\//,"https://$2.pcjs.org/");tb(2199023255552,"getResource(%s)\n",a);if(va.OB&&0!=a.indexOf("http")){try{l="arraybuffer"==b?null:"utf8",h=va.OB(a,l),l||(h=h.buffer,h.buffer&&(h=h.buffer))}catch(u){g=u.errno}if(void 0!==h)return d&&d(a,h,g),[h,g]}if(0==a.indexOf(Oa)&&
(l=Na(a)))return h=l.data,d&&d(a,h,g),[h,g];!a.match(/^[A-Z]:/i)&&0>a.indexOf("?")&&(a=encodeURI(a));if(r.XMLHttpRequest)var p=new r.XMLHttpRequest;else if(r.ActiveXObject)p=new r.ActiveXObject("Microsoft.XMLHTTP");else if(r.fetch)return fetch(a).then(function(u){switch(b){case "json":case "text":return u.text();case "arraybuffer":return u.arrayBuffer();default:throw Error("unsupported response type: "+b);}}).then(function(u){tb(2267742732288,"getResource(%s): fetched %d bytes\n",a,u.length);d&&d(a,
u,g)}).catch(function(){tb(68719476736,"getResource(%s) fetch error: %d\n",a,g);d&&d(a,h,g)}),k;var n=!1;l="string"===typeof p.responseType;c&&(p.onreadystatechange=f);e&&e(0);if(b&&"object"==typeof b){l="";for(var q in b)b.hasOwnProperty(q)&&(l&&(l+="&"),l+=q+"="+encodeURIComponent(b[q]));l=l.replace(/%20/g,"+");tb(2267742732288,"getResource(%s): posted %d bytes\n",a,l.length);p.open("POST",a,c);p.setRequestHeader("Content-type","application/x-www-form-urlencoded");p.send(l)}else p.open("GET",a,
c),"arraybuffer"==b&&(l?(n=!0,p.responseType=b):p.overrideMimeType("text/plain; charset=x-user-defined")),p.send();c||(p.readyState=4,k=f());return k}
function zb(a){a=a.replace("/disks/pc/","/disks/pcx86/");a=a.replace("/disks/pcx86/private/","/disks-private/pcx86/");0>a.indexOf("archive.pcjs.org")&&(a=a.replace("/disks/pcx86/","/disks-demo/pcx86/"));a=a.replace("/pcjs-disks/","/disks-demo/");a=a.replace("/pcjs-games/","/disks-game/");a=a.replace("/disks-demo/pcx86/games/","/disks-game/pcx86/");a=a.replace("/private-disks/","/disks-private/");return a=a.replace("/fixed/","/drives/")}
function yb(){return r.location?r.location.hostname:"localhost"}function wb(){return r.location?r.location.protocol+"//"+r.location.host:"https://www.pcjs.org"}function Bb(){return r.navigator?r.navigator.userAgent:""}function Cb(){if(null==Db){var a=!1;if(r.localStorage)try{r.localStorage.setItem("PCjs.localStorage","PCjs.localStorage"),a="PCjs.localStorage"==r.localStorage.getItem("PCjs.localStorage"),r.localStorage.removeItem("PCjs.localStorage")}catch(b){Eb(b),a=!1}Db=a}return Db}
function Eb(a){tb(1099511627776,"Local storage error: %s\n",a.message)}function Fb(a){if(Cb())try{var b=r.localStorage.getItem(a)}catch(c){Eb(c)}return b}function Hb(a,b){if(Cb())try{return r.localStorage.setItem(a,b),!0}catch(c){Eb(c)}return!1}function Kb(a){if(r.navigator){var b=Bb();return"iOS"==a&&(!!b.match(/(iPod|iPhone|iPad)/)||"MacIntel"===r.navigator.platform&&1<r.navigator.maxTouchPoints)||"MSIE"==a&&!!b.match(/(MSIE|Trident)/)||0<=b.indexOf(a)}return!1}
function Lb(a){var b=Mb("mobile");if(b)return"true"==b;if(Kb("Mobi")){if(!a)return!0;(b="!"==a[0])&&(a=a.substr(1));return Kb(a)!=b}return!1}function Nb(a,b,c){if(a)for(var d=0;d<Ob.length;d++){var e=Ob[d];if(c){if(e+=c,b+e in a)return e}else if(e=e?e+b[0].toUpperCase():b[0],e+=b.substr(1),e in a)return e}return null}
function Mb(a){if(!Qb){var b,c={};if(r.location){b||(b=r.location.search.substr(1));for(var d,e=/\+/g,f=/([^&=]+)=?([^&]*)/g;d=f.exec(b);)c[decodeURIComponent(d[1].replace(e," "))]=decodeURIComponent(d[2].replace(e," "))}Qb=c}return Qb[a]||Qb[a.toLowerCase()]}
function Rb(a,b,c,d){var e=null,f;"string"!=typeof a?"function"==typeof Blob&&"undefined"!=typeof URL&&URL&&"function"==typeof URL.createObjectURL&&(f=URL.createObjectURL(new Blob([a],{type:"application/octet-stream"}))):f="data:application/"+b+(c?";base64":"")+","+(c?a:encodeURIComponent(a));if(f)if(d&&(e=document.createElement("a"),"string"!=typeof e.download&&(e=null)),e){e.href=f;e.download=d;document.body.appendChild(e);e.click();document.body.removeChild(e);var g="Check your Downloads folder for "+
d+"."}else r.open&&(r.open(f),g="Check your browser for a new window/tab containing the requested data"+(d?" ("+d+")":"")+".");else g="Operation unsupported by your browser.";return g}function Sb(a,b,c){function d(){--a;0<=a&&(b()||(a=0));0<a?setTimeout(d,0):c()}d()}
function Tb(a,b){function c(){b(100===d)&&(e=setTimeout(c,d),d=100)}var d=0,e=null,f=!1;a.onmousedown=function(){f||e||(d=500,c())};a.ontouchstart=function(){e||(d=500,c())};a.onmouseup=a.onmouseout=function(){e&&(clearTimeout(e),e=null)};a.ontouchend=a.ontouchcancel=function(){e&&(clearTimeout(e),e=null);f=!0}}function Ub(a,b){r.addEventListener&&r.addEventListener(a,b)}function Vb(a){Xb.init.push(a)}
function Yb(a){tb(274877906944,"%s\n\nIf it happens again, please send the URL to support@pcjs.org. Thanks.\n",a)}function Zb(a){if((a=Xb[a])&&$b)try{for(var b=0;b<a.length;b++)a[b]()}catch(c){Yb("An unexpected error occurred: "+c.message)}}function ac(a){!$b&&a?($b=!0,bc&&Zb("init"),cc&&Zb("show")):$b=a}var Qb=null,Xb={init:[],show:[],exit:[]},Ob=["","moz","ms","webkit"],bc=!1,cc=!1,$b=!0,ub=!1,Db=null;Ub("load",function(){bc=!0;Zb("init",!0)});Ub("pageshow",function(){cc=!0;Zb("show",!0)});
Ub(Kb("iOS")?"pagehide":Kb("Opera")?"unload":"beforeunload",function(){Zb("exit",!0)});
function dc(a,b,c){this.type=a;b||(b={id:"",name:""});this.name=b.name;this.lq=b.comment;this.Go=b;++ec;this.id=this.id=b.id||"";this.exports={};this.oa=this.bindings={};a=this.id.indexOf(".");0>a?(this.pd="PCjs",this.Yb=this.id):(this.pd=this.id.substr(0,a),this.Yb=this.id.substr(a+1));this.flags={ready:!1,cj:!1,yn:!1,hj:!1,Hc:!1,Dg:!1,error:!1};this.Yk=null;this.flags.error=!1;this.Zc=c||0;this.fa=this.G=this.ra=this.Ea=null;xa.components.push(this)}
function fc(a,b,c){xa.machines[a]&&b&&(xa.machines[a][b]=c,"parms"==b&&"string"==typeof c&&(xa.machines[a].config=eval("("+c+")")))}function gc(){return Date.now()||+new Date}function tb(a){var b=pa.apply(1,arguments),c=0;"number"==typeof a&&(c=a,a=b.shift());if(68719476736<=c&&1099511627776>=c){var d=!1;1099511627776==c?(d=!0,a="Error: "+a):549755813888==c?(d=!0,a="Warning: "+a):274877906944==c&&(d=!0);b=fb.apply(Qa,[a].concat(ca(b))).trim();d?vb(b):console.log(b)}}
function hc(a){tb(1099511627776,a)}function vb(a){r.alert&&r.alert(a);console.log(a)}function ic(a){var b=!1;r.confirm&&(b=r.confirm(a));return b}function jc(a,b){a.value+=b;b=a.value;8192<b.length&&(a.value=b.substr(b.length-4096));a.scrollTop=a.scrollHeight}function kc(a,b,c){var d=a.value,e=d.lastIndexOf(b);d=0>e?d+(b+"\n"):d.substr(0,e)+c+d.substr(e+b.length);8192<d.length&&(d=d.substr(d.length-4096));a.value=d;a.scrollTop=a.scrollHeight}
function lc(a,b){if(b){var c=nc("Panel",a.id);c&&(c=c.oa[b])&&a.Sb("",b,c)}}
function oc(a,b){b=pc("pcx86-control","",b.parentNode);for(var c=0;c<b.length;c++)for(var d=b[c].childNodes,e=0;e<d.length;e++){var f=d[e];if(1===f.nodeType){var g=f.getAttribute("class");if(g)for(var h=g.split(" "),k=0;k<h.length;k++)switch(g=h[k],g){case "pcx86-binding":(g=qc(f))&&void 0!==g.binding?a.Sb(g.type,g.binding,f,g.value):g&&"description"==g.type||tb(549755813888,'Component "%s" missing binding%s\n',a.toString(),g?" for "+g.type:""),k=h.length}}}}
function rc(a){var b,c=[];a&&0<(b=a.indexOf("."))&&(a=a.substr(0,b+1));var d=xa.components;for(b=0;b<d.length;b++){var e=d[b];a&&0!=e.id.indexOf(a)||c.push(e)}return c}function sc(a,b){if(void 0!==a){var c;b&&0<(c=b.indexOf("."))&&(a=b.substr(0,c+1)+a);var d=xa.components;for(c=0;c<d.length;c++)if(d[c].id===a)return d[c];d.length&&!1!==b&&tb(549755813888,'Component ID "%s" not found\n',a)}return null}
function nc(a,b){var c=void 0===c?null:c;if(void 0!==a){var d;b&&(b=0<(d=b.indexOf("."))?b.substr(0,d+1):"");var e=xa.components;for(d=0;d<e.length;d++)if(c)c==e[d]&&(c=null);else if(!(a!=e[d].type||b&&e[d].id.indexOf(b)))return e[d]}return null}function qc(a){var b=null;if(a.getAttribute){if(a=a.getAttribute("data-value"))try{b=eval("("+a+")")}catch(d){hc(d.message+" ("+a+")")}}else if(b=a.config||null){a=a.id;var c=b.id;a&&c&&0>c.indexOf(".")&&(b.id=a+"."+c)}return b}
function pc(a,b,c){b=void 0===b?"":b;c=void 0===c?wa:c;var d=[];b&&(a+="-"+b,"machine"!=b&&(a+="-object"));if(ua)if(c.getElementsByClassName)d=c.getElementsByClassName(a);else{if(c.getElementsByTagName){b=c.getElementsByTagName("*");var e=new RegExp("(^| )"+a+"( |$)");a=0;for(c=b.length;a<c;a++)e.test(b[a].className)&&d.push(b[a])}}else for(a=Object.keys(xa.machines),c=0;c<a.length;c++){e=a[c];var f=xa.machines[e].config;if(f&&(f=f[b])){Array.isArray(f)||(f=[f]);f=ba(f);for(var g=f.next();!g.done;g=
f.next())d.push({id:e,config:g.value})}}return d}
function tc(a,b){var c=!1,d=xa.commands;a+=".machine";if(!b)delete d[a],c=!0;else if("string"==typeof b&&!d[a]){c=!0;for(var e=a,f=b.length,g=[],h=[],k="",l=null,p=0;p<f;p++){var n=b[p];if('"'==n||"'"==n)l&&n!=l?k+=n:(l?l=null:l=n,k&&(h.push(k),k=""));else{if(!l){if("\r"==n||"\n"==n)n=";";if(" "==n||"\t"==n||";"==n){k&&(h.push(k),k="");";"==n&&h.length&&(g.push(h),h=[]);continue}}k+=n}}k&&h.push(k);h.length&&g.push(h);d[e]=g;uc(a)||(c=!1)}return c}
function uc(a){for(var b=!0,c=xa.commands[a];c&&c.length;){var d=c.splice(0,1)[0],e=d[0];tb(8796093022208,d.join(" "));var f=null;0<=vc.indexOf(e)&&(f=function(){return function(){uc(a)}}());var g=wc[e];if(g)if(!f)b=g(d[1],d[2],d[3]);else{if(!g(f,d[1],d[2],d[3]))break}else{b=!1;var h=nc(d[1],a);if(h)if(g=xc[e])b=g(h,d[2],d[3]);else{var k=h.exports;if(k&&(g=k[e]))if(b=!0,!f)b=g.call(h,d[2],d[3]);else if(!g.call(h,f,d[2],d[3]))break}}if(!b){vb("Script error: '"+e+"' command "+(g?" failed":" not recognized"));
break}}c&&!c.length&&delete xa.commands[a];return b}m=dc.prototype;m.toString=function(){return this.name?this.name:this.id||this.type};
m.Sb=function(a,b,c){switch(b){case "clear":return this.oa[b]||(this.oa[b]=c,c.onclick=function(d){return function(){d.oa.print&&(d.oa.print.value="")}}(this)),!0;case "print":return this.oa[b]||(this.oa[b]=c,c.value="",this.print=function(d,e){return function(f,g){f||(f="");4398046511104==(void 0===g?0:g)&&"...\n"==f.slice(-4)?kc(e,f.slice(0,-1),f.slice(0,-1)+"."):jc(e,f)}}(this,c)),!0;default:return!1}};m.print=function(a,b){tb(void 0===b?0:b,a)};
function yc(a,b){a.flags.error=!0;a.J(274877906944,"%s\n",b)}function zc(a){return a.flags.error?(a.print(a.toString()+" error\n"),!0):!1}function Bc(a,b){b&&(a.flags.ready?b():a.Yk=b);return a.flags.ready}function Cc(a,b){a.flags.error||(a.flags.ready=!1!==b,a.flags.ready&&(b=a.Yk,a.Yk=null,b&&b()))}function Dc(a,b){a.flags.cj&&(b?a.flags.yn=!0:void 0===b&&a.print(a.toString()+" busy\n"));return a.flags.cj}
function Ec(a,b){if(a.flags.yn)return a.flags.cj=!1,a.flags.yn=!1;if(a.flags.error)return a.print(a.toString()+" error\n"),!1;a.flags.cj=b;return a.flags.cj}m.Gc=function(){return this.flags.Hc=!0};m.Fc=function(a,b){b&&(this.flags.Hc=!1);return!0};function Fc(a,b){var c=Math.pow(2,32);return(a&~b)+((a/c|0)&~(b/c|0))*c}function Gc(a,b){var c=Math.pow(2,32);return(a|b)+(a/c|0|b/c|0)*c}function Hc(a,b){var c=Math.pow(2,32),d=b/c|0;return(a&b)==(b|0)&&((a/c|0)&d)==d}
function v(a,b){b=void 0===b?0:b;b&1&&--b;b=b||a.Zc;return!Hc(b,2199023255552)&&(Hc(0xff000000000-(a.fa?618475290624:0),b)||a.fa&&Hc(a.fa.Zc,b))?!0:!1}m.J=function(a){var b=pa.apply(1,arguments),c=0;"number"==typeof a&&(c=a||4398046511104,a=b.shift(),Hc(c,68719476736)?a=(this.id||this.type||"log")+": "+a:Hc(c,137438953472)&&(a=this.type+": "+a));v(this,c)&&(b=fb.apply(Qa,[a].concat(ca(b))),this.fa&&this.fa.message?this.fa.message(b,c):this.print(b,c))};
function w(a,b,c,d,e,f,g){g=void 0===g?a.Zc:g;a.fa&&(!0===g&&(g=0),Ic(a.fa,a,b,c,d,e,f,g))}var vc=["hold","sleep","wait"],wc={alert:function(a){vb(a);return!0},sleep:function(a,b){setTimeout(a,+b);return!1}},xc={select:function(a,b,c){var d=!1;if(a=a.bindings[b])for(b=0;b<a.options.length;b++)if(a.options[b].textContent==c){a.selectedIndex!=b&&(a.selectedIndex=b);d=!0;break}return d}},ec=0;
Array.prototype.indexOf||(Array.prototype.indexOf=function(a,b){b=b||0;for(var c=this.length;b<c;b++)if(this[b]===a)return b;return-1});Array.isArray||(Array.isArray=function(a){return"[object Array]"===Object.prototype.toString.call(a)});
Function.prototype.bind||(Function.prototype.bind=function(a){function b(){return e.apply(this instanceof c&&a?this:a,d.concat(Array.prototype.slice.call(arguments)))}function c(){}if("function"!=typeof this)throw new TypeError("Function.prototype.bind: non-callable object");var d=Array.prototype.slice.call(arguments,1),e=this;c.prototype=this.prototype;b.prototype=new c;return b});
function Jc(a,b,c,d,e,f){c=void 0===c?"/pcx86":c;d=void 0===d?"":d;e=void 0===e?"":e;f=void 0===f?[]:f;for(var g in b)if("@"==g[0])"@server"==g&&(d=b[g]);else{var h=b[g],k=h["@products"];if(k)Jc(a,k,c+"/"+g,d,e,f);else if(k=h["@versions"]){h["@server"]&&(d=h["@server"]);for(var l in k){var p=k[l],n=p["@media"];if(n)for(var q=0;q<n.length;q++){var u=n[q];if(u["@diskette"]){var y=u["@format"];if(y&&f.length&&(y=y.match(/^PC([0-9]+)K$/))&&(y=+y[1],1==f[0]&&180<y||40==f[1]&&360<y))continue;y=u["@title"];
y||(y=p["@title"],y||(y=h["@title"],l&&(y+=" "+l)),1<n.length&&(y+=" (Disk "+(q+1)+")"));y={name:y,path:u["@link"]||d+c+"/"+g+"/"+(l?l+"/":"")+u["@diskette"]};u["@localonly"]&&"localhost"!=e||a.push(y)}}}}else"@"!=g[0]&&Jc(a,h,c+"/"+g,h["@server"]||d,e,f)}}ya.cpu=2;ya.seg=4;ya.desc=8;ya.port=32;ya.tss=16;ya.iopm=64;ya["int"]=1024;ya.nmi=128;ya.fault=512;ya.trap=256;ya.bus=4096;ya.irq=2048;ya.mem=8192;ya.dma=16384;ya.fdc=32768;ya.hdc=65536;ya.disk=131072;ya.pic=262144;ya.timer=524288;ya.cmos=1048576;
ya.rtc=2097152;ya["8042"]=4194304;ya.kbd=8388608;ya.parallel=16777216;ya.serial=33554432;ya.mouse=67108864;ya.speaker=134217728;ya.chipset=268435456;ya.video=536870912;ya.computer=1073741824;ya.dos=4294967296;ya.data=2147483648;ya.event=8589934592;ya.key=17179869184;
var Kc={rl:4,cd:5,cf:6,Vd:7,Wd:8,yb:9,Cc:11,Dc:12,yg:4,Ks:60,Ls:83,Qc:3,nc:9,rd:16,ql:1,Ps:19,Rs:28,Ts:16,Ss:21,Qs:37,Ns:2,Wn:9,Os:5,Ms:33,Yn:10,Xn:8,mj:3,lj:15,ht:51,Zn:1,it:2,jt:4,gt:32,$n:15,lt:15,pb:16,qb:4,nt:11,mt:18,kt:24,Ec:4,ot:2,Ch:16,pt:17,fo:18,qt:19,eo:5,ho:6,vt:2,ut:8,st:9,tt:10,rt:10,io:10,jo:10,Vs:80,Xs:124,Us:86,Ws:134,Zs:101,bt:145,Ys:107,$s:151,xt:70,zt:93,wt:76,yt:104,dt:80,ft:108,ct:86,et:114,oj:3,nj:16,oo:10,no:8,At:51,Rc:8,Bt:17,Ct:36,Dd:11,Dt:16,zg:10,oe:2,Tn:18,Un:7,Vn:15,
ao:12,bo:7,co:11,ko:18,lo:7,mo:15,po:15,qo:7,ro:13,vo:11,wo:7,xo:8,Et:8,Ht:12,Ft:18,Gt:17,It:15,to:8,so:20,uo:2,Ao:3,pj:9,zo:5,yo:11,Co:4,Bo:17,Jt:11},Lc={rl:0,cd:0,cf:0,Vd:0,Wd:0,yb:0,Cc:1,Dc:1,yg:3,Ks:14,Ls:16,Qc:2,nc:7,rd:7,ql:0,Ps:7,Rs:13,Ts:7,Ss:11,Qs:16,Ns:3,Wn:6,Os:2,Ms:13,Yn:5,Xn:5,mj:2,lj:7,ht:23,Zn:0,it:1,jt:3,gt:17,$n:7,lt:11,pb:7,qb:3,nt:7,mt:11,kt:15,Ec:2,ot:3,Ch:7,pt:8,fo:8,qt:8,eo:4,ho:4,vt:2,ut:3,st:5,tt:2,rt:3,io:5,jo:3,Vs:14,Xs:22,Us:17,Ws:25,Zs:17,bt:25,Ys:20,$s:28,xt:13,zt:21,
wt:16,yt:24,dt:13,ft:21,ct:16,et:24,oj:2,nj:7,oo:5,no:5,At:19,Rc:5,Bt:5,Ct:17,Dd:3,Dt:5,zg:3,oe:0,Tn:8,Un:5,Vn:9,ao:5,bo:5,co:4,ko:5,lo:5,mo:4,po:7,qo:5,ro:8,vo:3,wo:4,xo:3,Et:11,Ht:11,Ft:15,Gt:15,It:7,to:5,so:8,uo:0,Ao:2,pj:6,zo:3,yo:6,Co:3,Bo:5,Jt:5},Mc="\x00\u263a\u263b\u2665\u2666\u2663\u2660\u2022\u25d8\u25cb\u25d9\u2642\u2640\u266a\u266b\u263c\u25ba\u25c4\u2195\u203c\u00b6\u00a7\u25ac\u21a8\u2191\u2193\u2192\u2190\u221f\u2194\u25b2\u25bc !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~\u2302\u00c7\u00fc\u00e9\u00e2\u00e4\u00e0\u00e5\u00e7\u00ea\u00eb\u00e8\u00ef\u00ee\u00ec\u00c4\u00c5\u00c9\u00e6\u00c6\u00f4\u00f6\u00f2\u00fb\u00f9\u00ff\u00d6\u00dc\u00a2\u00a3\u00a5\u20a7\u0192\u00e1\u00ed\u00f3\u00fa\u00f1\u00d1\u00aa\u00ba\u00bf\u2310\u00ac\u00bd\u00bc\u00a1\u00ab\u00bb\u2591\u2592\u2593\u2502\u2524\u2561\u2562\u2556\u2555\u2563\u2551\u2557\u255d\u255c\u255b\u2510\u2514\u2534\u252c\u251c\u2500\u253c\u255e\u255f\u255a\u2554\u2569\u2566\u2560\u2550\u256c\u2567\u2568\u2564\u2565\u2559\u2558\u2552\u2553\u256b\u256a\u2518\u250c\u2588\u2584\u258c\u2590\u2580\u03b1\u00df\u0393\u03c0\u03a3\u03c3\u00b5\u03c4\u03a6\u0398\u03a9\u03b4\u221e\u03c6\u03b5\u2229\u2261\u00b1\u2265\u2264\u2320\u2321\u00f7\u2248\u00b0\u2219\u00b7\u221a\u207f\u00b2\u25a0\u00a0".split(""),
Nc=["XT","AT","COMPAQ"],Oc=[{0:[306,2],1:[375,8],2:[306,6],3:[306,4]},{0:[1024,16,21,2048],1:[306,4],2:[615,4],3:[615,6],4:[940,8],5:[940,6],6:[615,4],7:[462,8],8:[733,5],9:[900,15],10:[820,3],11:[855,5],12:[855,7],13:[306,8],14:[733,7],16:[612,4],17:[977,5],18:[977,7],19:[1024,7],20:[733,5],21:[733,7],22:[733,5],23:[306,4]},{0:[1024,16,21,2048],1:[306,4],2:[615,4],3:[615,6],4:[1023,8],5:[940,6],6:[697,5],7:[462,8],8:[925,5],9:[900,15],10:[980,5],11:[925,7],12:[925,9],13:[612,8],14:[980,4],16:[612,
4],17:[980,5],18:[966,6],19:[1023,8],20:[733,5],21:[733,7],22:[768,6],23:[771,6],24:[966,14],25:[966,16],26:[1023,14],27:[966,10],28:[771,3],29:[578,4],30:[615,4,25],31:[615,8,25],32:[966,3,34],33:[966,5,34],34:[966,7,34],35:[966,8,34],36:[966,9,34],37:[966,5,34],38:[1023,9,33],39:[1023,11,33],40:[1023,13,33],41:[1023,15,33],42:[1023,16,34],43:[756,4,26],44:[756,2,26],45:[768,4,26],46:[768,2,26],47:[966,5,25]}],Pc={16:{0:"set mode (@AL)",1:"set cursor type (start=@CH,end=@CL)",2:"set cursor pos (row=@DH,col=@DL,page=@BH)",
3:"read cursor pos (page=@BH)",4:"read light pen",5:"set display page (@AL)",6:"scroll up (lines=@AL)",7:"scroll down (lines=@AL)",8:"read character (page=@BH)",9:"write char/attr (@AL,attr=@BL,count=@CX)",10:"write char (@AL,count=@CX)",11:"set palette (id=@BH,color=@BL)",12:"write dot (row=@DX,col=@CX)",13:"read dot (row=@DX,col=@CX)",14:"write tty (@AL)"},19:{0:"disk reset",1:"get status",2:"read drive @DL (@CH:@DH:@CL,@AL) into @ES:@BX",3:"write drive @DL (@CH:@DH:@CL,@AL) from @ES:@BX",4:"verify drive @DL (@CH:@DH:@CL,@AL)",
5:"format drive @DL using @ES:@BX",8:"read drive @DL parameters",21:"get drive @DL DASD type",22:"get drive @DL change line status",23:"set drive @DL DASD type",24:"set drive @DL media type"},21:{128:"open device",129:"close device",130:"program termination",131:"wait @CX:@DXus for event",132:"joystick support",133:"SYSREQ pressed",134:"wait @CX:@DXus",135:"move block (@CX words)",136:"get extended memory size",137:"processor to virtual mode",144:"device busy loop",145:"interrupt complete flag set"},
33:{0:"terminate program",1:"read character (AL) from stdin with echo",2:"write character #@DL to stdout",3:"read character (AL) from stdaux",4:"write character #@DL to stdaux",5:"write character #@DL to stdprn",6:"direct console output (input if @DL=FF)",7:"direct console input without echo",8:"read character (AL) from stdin without echo",9:"write string $@DS:@DX to stdout",10:"buffered input (DS:DX)",11:"get stdin status",12:"flush buffer and read stdin",13:"disk reset",14:"select default drive @DL",
15:"open file using FCB ^@DS:@DX",16:"close file using FCB ^@DS:@DX",17:"find first matching file using FCB ^@DS:@DX",18:"find next matching file using FCB ^@DS:@DX",19:"delete file using FCB ^@DS:@DX",20:"sequential read from file using FCB ^@DS:@DX",21:"sequential write to file using FCB ^@DS:@DX",22:"create or truncate file using FCB ^@DS:@DX",23:"rename file using FCB ^@DS:@DX",25:"get current default drive (AL)",26:"set disk transfer area (DTA=@DS:@DX)",27:"get allocation information for default drive",
28:"get allocation information for specific drive @DL",31:"get drive parameter block for default drive",33:"read random record from file using FCB ^@DS:@DX",34:"write random record to file using FCB ^@DS:@DX",35:"get file size using FCB ^@DS:@DX",36:"set random record number for FCB ^@DS:@DX",37:"set address @DS:@DX of interrupt vector @AL",38:"create new PSP at segment @DX",39:"random block read from file using FCB ^@DS:@DX",40:"random block write to file using FCB ^@DS:@DX",41:"parse filename $@DS:@SI into FCB @ES:@DI using @AL",
42:"get system date (year=CX, mon=DH, day=DL)",43:"set system date (year=@CX, mon=@DH, day=@DL)",44:"get system time (hour=CH, min=CL, sec=DH, 100ths=DL)",45:"set system time (hour=@CH, min=@CL, sec=@DH, 100ths=@DL)",46:"set verify flag @AL",47:"get disk transfer area (DTA=ES:BX)",48:"get DOS version (AL=major, AH=minor)",49:"terminate and stay resident",50:"get drive parameter block (DPB=DS:BX) for drive @DL",51:"extended break check",52:"get address (ES:BX) of InDOS flag",53:"get address (ES:BX) of interrupt vector @AL",
54:"get free disk space of drive @DL",55:"get(0)/set(1) switch character @DL (@AL)",56:"get country-specific information",57:"create subdirectory $@DS:@DX",58:"remove subdirectory $@DS:@DX",59:"set current directory $@DS:@DX",60:"create or truncate file $@DS:@DX with attributes @CX",61:"open file $@DS:@DX with mode @AL",62:"close file @BX",63:"read @CX bytes from file @BX into buffer @DS:@DX",64:"write @CX bytes to file @BX from buffer @DS:@DX",65:"delete file $@DS:@DX",66:"set position @CX:@DX of file @BX relative to @AL",
67:"get(0)/set(1) attributes @CX of file $@DS:@DX (@AL)",68:"get device information (IOCTL)",69:"duplicate file handle @BX",70:"force file handle @CX to duplicate file handle @BX",71:"get current directory (DS:SI) for drive @DL",72:"allocate memory segment with @BX paragraphs",73:"free memory segment @ES",74:"resize memory segment @ES to @BX paragraphs",75:"load program $@DS:@DX using parameter block @ES:@BX",76:"terminate with return code @AL",77:"get return code (AL)",78:"find first matching file $@DS:@DX with attributes @CX",
79:"find next matching file",80:"set current PSP @BX",81:"get current PSP (bx)",82:"get system variables (ES:BX)",83:"translate BPB @DS:@SI to DPB (ES:BP)",84:"get verify flag (AL)",85:"create child PSP at segment @DX",86:"rename file $@DS:@DX to $@ES:@DI",87:"get(0)/set(1) file @BX date @DX and time @CX (@AL)",88:"get(0)/set(1) memory allocation strategy (@AL)",89:"get extended error information",90:"create temporary file $@DS:@DX with attributes @CX",91:"create file $@DS:@DX with attributes @CX",
92:"lock(0)/unlock(1) file @BX region @CX:@DX length @SI:@DI (@AL)",93:"critical error information (@AL)",96:"get fully-qualified filename from $@DS:@SI",99:"get lead byte table (@AL)",108:"extended open file $@DS:@SI"},65:{79:"check debugger loaded"}},Qc={ez:32,VMM:{id:1,cb:"Get_VMM_Version Get_Cur_VM_Handle Test_Cur_VM_Handle Get_Sys_VM_Handle Test_Sys_VM_Handle Validate_VM_Handle Get_VMM_Reenter_Count Begin_Reentrant_Execution End_Reentrant_Execution Install_V86_Break_Point Remove_V86_Break_Point Allocate_V86_Call_Back Allocate_PM_Call_Back Call_When_VM_Returns Schedule_Global_Event Schedule_VM_Event Call_Global_Event Call_VM_Event Cancel_Global_Event Cancel_VM_Event Call_Priority_VM_Event Cancel_Priority_VM_Event Get_NMI_Handler_Addr Set_NMI_Handler_Addr Hook_NMI_Event Call_When_VM_Ints_Enabled Enable_VM_Ints Disable_VM_Ints Map_Flat Map_Lin_To_VM_Addr Adjust_Exec_Priority Begin_Critical_Section End_Critical_Section End_Crit_And_Suspend Claim_Critical_Section Release_Critical_Section Call_When_Not_Critical Create_Semaphore Destroy_Semaphore Wait_Semaphore Signal_Semaphore Get_Crit_Section_Status Call_When_Task_Switched Suspend_VM Resume_VM No_Fail_Resume_VM Nuke_VM Crash_Cur_VM Get_Execution_Focus Set_Execution_Focus Get_Time_Slice_Priority Set_Time_Slice_Priority Get_Time_Slice_Granularity Set_Time_Slice_Granularity Get_Time_Slice_Info Adjust_Execution_Time Release_Time_Slice Wake_Up_VM Call_When_Idle Get_Next_VM_Handle Set_Global_Time_Out Set_VM_Time_Out Cancel_Time_Out Get_System_Time Get_VM_Exec_Time Hook_V86_Int_Chain Get_V86_Int_Vector Set_V86_Int_Vector Get_PM_Int_Vector Set_PM_Int_Vector Simulate_Int Simulate_Iret Simulate_Far_Call Simulate_Far_Jmp Simulate_Far_Ret Simulate_Far_Ret_N Build_Int_Stack_Frame Simulate_Push Simulate_Pop _HeapAllocate _HeapReAllocate _HeapFree _HeapGetSize _PageAllocate _PageReAllocate _PageFree _PageLock _PageUnLock _PageGetSizeAddr _PageGetAllocInfo _GetFreePageCount _GetSysPageCount _GetVMPgCount _MapIntoV86 _PhysIntoV86 _TestGlobalV86Mem _ModifyPageBits _CopyPageTable _LinMapIntoV86 _LinPageLock _LinPageUnLock _SetResetV86Pageable _GetV86PageableArray _PageCheckLinRange _PageOutDirtyPages _PageDiscardPages _GetNulPageHandle _GetFirstV86Page _MapPhysToLinear _GetAppFlatDSAlias _SelectorMapFlat _GetDemandPageInfo _GetSetPageOutCount Hook_V86_Page _Assign_Device_V86_Pages _DeAssign_Device_V86_Pages _Get_Device_V86_Pages_Array MMGR_SetNULPageAddr _Allocate_GDT_Selector _Free_GDT_Selector _Allocate_LDT_Selector _Free_LDT_Selector _BuildDescriptorDWORDs _GetDescriptor _SetDescriptor _MMGR_Toggle_HMA Get_Fault_Hook_Addrs Hook_V86_Fault Hook_PM_Fault Hook_VMM_Fault Begin_Nest_V86_Exec Begin_Nest_Exec Exec_Int Resume_Exec End_Nest_Exec Allocate_PM_App_CB_Area Get_Cur_PM_App_CB Set_V86_Exec_Mode Set_PM_Exec_Mode Begin_Use_Locked_PM_Stack End_Use_Locked_PM_Stack Save_Client_State Restore_Client_State Exec_VxD_Int Hook_Device_Service Hook_Device_V86_API Hook_Device_PM_API System_Control Simulate_IO Install_Mult_IO_Handlers Install_IO_Handler Enable_Global_Trapping Enable_Local_Trapping Disable_Global_Trapping Disable_Local_Trapping List_Create List_Destroy List_Allocate List_Attach List_Attach_Tail List_Insert List_Remove List_Deallocate List_Get_First List_Get_Next List_Remove_First _AddInstanceItem _Allocate_Device_CB_Area _Allocate_Global_V86_Data_Area _Allocate_Temp_V86_Data_Area _Free_Temp_V86_Data_Area Get_Profile_Decimal_Int Convert_Decimal_String Get_Profile_Fixed_Point Convert_Fixed_Point_String Get_Profile_Hex_Int Convert_Hex_String Get_Profile_Boolean Convert_Boolean_String Get_Profile_String Get_Next_Profile_String Get_Environment_String Get_Exec_Path Get_Config_Directory OpenFile Get_PSP_Segment GetDOSVectors Get_Machine_Info GetSet_HMA_Info Set_System_Exit_Code Fatal_Error_Handler Fatal_Memory_Error Update_System_Clock Test_Debug_Installed Out_Debug_String Out_Debug_Chr In_Debug_Chr Debug_Convert_Hex_Binary Debug_Convert_Hex_Decimal Debug_Test_Valid_Handle Validate_Client_Ptr Test_Reenter Queue_Debug_String Log_Proc_Call Debug_Test_Cur_VM Get_PM_Int_Type Set_PM_Int_Type Get_Last_Updated_System_Time Get_Last_Updated_VM_Exec_Time Test_DBCS_Lead_Byte _AddFreePhysPage _PageResetHandlePAddr _SetLastV86Page _GetLastV86Page _MapFreePhysReg _UnmapFreePhysReg _XchgFreePhysReg _SetFreePhysRegCalBk Get_Next_Arena Get_Name_Of_Ugly_TSR Get_Debug_Options Set_Physical_HMA_Alias _GetGlblRng0V86IntBase _Add_Global_V86_Data_Area GetSetDetailedVMError Is_Debug_Chr Clear_Mono_Screen Out_Mono_Chr Out_Mono_String Set_Mono_Cur_Pos Get_Mono_Cur_Pos Get_Mono_Chr Locate_Byte_In_ROM Hook_Invalid_Page_Fault Unhook_Invalid_Page_Fault Set_Delete_On_Exit_File Close_VM Enable_Touch_1st_Meg Disable_Touch_1st_Meg Install_Exception_Handler Remove_Exception_Handler Get_Crit_Status_No_Block _GetLastUpdatedThreadExecTime _Trace_Out_Service _Debug_Out_Service _Debug_Flags_Service VMMAddImportModuleName VMM_Add_DDB VMM_Remove_DDB Test_VM_Ints_Enabled _BlockOnID Schedule_Thread_Event Cancel_Thread_Event Set_Thread_Time_Out Set_Async_Time_Out _AllocateThreadDataSlot _FreeThreadDataSlot _CreateMutex _DestroyMutex _GetMutexOwner Call_When_Thread_Switched VMMCreateThread _GetThreadExecTime VMMTerminateThread Get_Cur_Thread_Handle Test_Cur_Thread_Handle Get_Sys_Thread_Handle Test_Sys_Thread_Handle Validate_Thread_Handle Get_Initial_Thread_Handle Test_Initial_Thread_Handle Debug_Test_Valid_Thread_Handle Debug_Test_Cur_Thread VMM_GetSystemInitState Cancel_Call_When_Thread_Switched Get_Next_Thread_Handle Adjust_Thread_Exec_Priority _Deallocate_Device_CB_Area Remove_IO_Handler Remove_Mult_IO_Handlers Unhook_V86_Int_Chain Unhook_V86_Fault Unhook_PM_Fault Unhook_VMM_Fault Unhook_Device_Service _PageReserve _PageCommit _PageDecommit _PagerRegister _PagerQuery _PagerDeregister _ContextCreate _ContextDestroy _PageAttach _PageFlush _SignalID _PageCommitPhys _Register_Win32_Services Cancel_Call_When_Not_Critical Cancel_Call_When_Idle Cancel_Call_When_Task_Switched _Debug_Printf_Service _EnterMutex _LeaveMutex Simulate_VM_IO Signal_Semaphore_No_Switch _ContextSwitch _PageModifyPermissions _PageQuery _EnterMustComplete _LeaveMustComplete _ResumeExecMustComplete _GetThreadTerminationStatus _GetInstanceInfo _ExecIntMustComplete _ExecVxDIntMustComplete Begin_V86_Serialization Unhook_V86_Page VMM_GetVxDLocationList VMM_GetDDBList Unhook_NMI_Event Get_Instanced_V86_Int_Vector Get_Set_Real_DOS_PSP Call_Priority_Thread_Event Get_System_Time_Address Get_Crit_Status_Thread Get_DDB Directed_Sys_Control _RegOpenKey _RegCloseKey _RegCreateKey _RegDeleteKey _RegEnumKey _RegQueryValue _RegSetValue _RegDeleteValue _RegEnumValue _RegQueryValueEx _RegSetValueEx _CallRing3 Exec_PM_Int _RegFlushKey _PageCommitContig _GetCurrentContext _LocalizeSprintf _LocalizeStackSprintf Call_Restricted_Event Cancel_Restricted_Event Register_PEF_Provider _GetPhysPageInfo _RegQueryInfoKey MemArb_Reserve_Pages Time_Slice_Sys_VM_Idle Time_Slice_Sleep Boost_With_Decay Set_Inversion_Pri Reset_Inversion_Pri Release_Inversion_Pri Get_Thread_Win32_Pri Set_Thread_Win32_Pri Set_Thread_Static_Boost Set_VM_Static_Boost Release_Inversion_Pri_ID Attach_Thread_To_Group Detach_Thread_From_Group Set_Group_Static_Boost _GetRegistryPath _GetRegistryKey Cleanup_Thread_State _RegRemapPreDefKey End_V86_Serialization _Assert_Range _Sprintf _PageChangePager _RegCreateDynKey _RegQueryMultipleValues Boost_Thread_With_VM Get_Boot_Flags Set_Boot_Flags _lstrcpyn _lstrlen _lmemcpy _GetVxDName Force_Mutexes_Free Restore_Forced_Mutexes _AddReclaimableItem _SetReclaimableItem _EnumReclaimableItem Time_Slice_Wake_Sys_VM VMM_Replace_Global_Environment Begin_Non_Serial_Nest_V86_Exec Get_Nest_Exec_Status Open_Boot_Log Write_Boot_Log Close_Boot_Log EnableDisable_Boot_Log _Call_On_My_Stack Get_Inst_V86_Int_Vec_Base _lstrcmpi _strupr Log_Fault_Call_Out _AtEventTime".split(" ")},
DEBUG:{id:2,cb:["DEBUG_Get_Version","DEBUG_Fault","DEBUG_CheckFault","_DEBUG_LoadSyms"]},VPICD:{id:3,cb:"VPICD_Get_Version VPICD_Virtualize_IRQ VPICD_Set_Int_Request VPICD_Clear_Int_Request VPICD_Phys_EOI VPICD_Get_Complete_Status VPICD_Get_Status VPICD_Test_Phys_Request VPICD_Physically_Mask VPICD_Physically_Unmask VPICD_Set_Auto_Masking VPICD_Get_IRQ_Complete_Status VPICD_Convert_Handle_To_IRQ VPICD_Convert_IRQ_To_Int VPICD_Convert_Int_To_IRQ VPICD_Call_When_Hw_Int VPICD_Force_Default_Owner VPICD_Force_Default_Behavior VPICD_Auto_Mask_At_Inst_Swap VPICD_Begin_Inst_Page_Swap VPICD_End_Inst_Page_Swap VPICD_Virtual_EOI VPICD_Get_Virtualization_Count VPICD_Post_Sys_Critical_Init VPICD_VM_SlavePIC_Mask_Change".split(" ")},
VDMAD:{id:4,cb:"VDMAD_Get_Version VDMAD_Virtualize_Channel VDMAD_Get_Region_Info VDMAD_Set_Region_Info VDMAD_Get_Virt_State VDMAD_Set_Virt_State VDMAD_Set_Phys_State VDMAD_Mask_Channel VDMAD_UnMask_Channel VDMAD_Lock_DMA_Region VDMAD_Unlock_DMA_Region VDMAD_Scatter_Lock VDMAD_Scatter_Unlock VDMAD_Reserve_Buffer_Space VDMAD_Request_Buffer VDMAD_Release_Buffer VDMAD_Copy_To_Buffer VDMAD_Copy_From_Buffer VDMAD_Default_Handler VDMAD_Disable_Translation VDMAD_Enable_Translation VDMAD_Get_EISA_Adr_Mode VDMAD_Set_EISA_Adr_Mode VDMAD_Unlock_DMA_Region_No_Dirty VDMAD_Phys_Mask_Channel VDMAD_Phys_Unmask_Channel VDMAD_Unvirtualize_Channel VDMAD_Set_IO_Add VDMAD_Get_Phys_Count VDMAD_Get_Phys_Status VDMAD_Get_Max_Phys_Page VDMAD_Set_Channel_Callbacks VDMAD_Get_Virt_Count VDMAD_Set_Virt_Count".split(" ")},
VTD:{id:5,cb:"VTD_Get_Version VTD_Update_System_Clock VTD_Get_Interrupt_Period VTD_Begin_Min_Int_Period VTD_End_Min_Int_Period VTD_Disable_Trapping VTD_Enable_Trapping VTD_Get_Real_Time VTD_Get_Date_And_Time VTD_Adjust_VM_Count VTD_Delay".split(" ")},V86MMGR:{id:6,cb:"V86MMGR_Get_Version V86MMGR_Allocate_V86_Pages V86MMGR_Set_EMS_XMS_Limits V86MMGR_Get_EMS_XMS_Limits V86MMGR_Set_Mapping_Info V86MMGR_Get_Mapping_Info V86MMGR_Xlat_API V86MMGR_Load_Client_Ptr V86MMGR_Allocate_Buffer V86MMGR_Free_Buffer V86MMGR_Get_Xlat_Buff_State V86MMGR_Set_Xlat_Buff_State V86MMGR_Get_VM_Flat_Sel V86MMGR_Map_Pages V86MMGR_Free_Page_Map_Region V86MMGR_LocalGlobalReg V86MMGR_GetPgStatus V86MMGR_SetLocalA20 V86MMGR_ResetBasePages V86MMGR_SetAvailMapPgs V86MMGR_NoUMBInitCalls V86MMGR_Get_EMS_XMS_Avail V86MMGR_Toggle_HMA V86MMGR_Dev_Init V86MMGR_Alloc_UM_Page".split(" ")},
PAGESWAP:{id:7,cb:"PageSwap_Get_Version PageSwap_Invalid_Service1 PageSwap_Invalid_Service2 PageSwap_Invalid_Service3 PageSwap_Invalid_Service4 PageSwap_Invalid_Service5 PageSwap_Test_IO_Valid PageSwap_Read_Or_Write PageSwap_Grow_File PageSwap_Init_File".split(" ")},PARITY:{id:8},REBOOT:{id:9,cb:["REBOOT_Get_Version","REBOOT_Enable_Real_Reboot","REBOOT_Disable_Real_Reboot","REBOOT_Processor_Now"]},VDD:{id:10,cb:"VDD_Get_Version VDD_PIF_State VDD_Get_GrabRtn VDD_Hide_Cursor VDD_Set_VMType VDD_Get_ModTime VDD_Set_HCurTrk VDD_Msg_ClrScrn VDD_Msg_ForColor VDD_Msg_BakColor VDD_Msg_TextOut VDD_Msg_SetCursPos VDD_Query_Access VDD_Check_Update_Soon".split(" ")},
VSD:{id:11,cb:["VSD_Get_Version","VSD_Bell","VSD_SoundOn","VSD_TakeSoundPort"]},VMD:{id:12,alt:"VMOUSE",cb:"VMD_Get_Version VMD_Set_Mouse_Type VMD_Get_Mouse_Owner VMD_Post_Pointer_Message VMD_Set_Cursor_Proc VMD_Call_Cursor_Proc VMD_Set_Mouse_Data VMD_Get_Mouse_Data VMD_Manipulate_Pointer_Message VMD_Set_Middle_Button VMD_Enable_Disable_Mouse_Events VMD_Post_Absolute_Pointer_Message".split(" ")},VKD:{id:13,cb:"VKD_Get_Version VKD_Define_Hot_Key VKD_Remove_Hot_Key VKD_Local_Enable_Hot_Key VKD_Local_Disable_Hot_Key VKD_Reflect_Hot_Key VKD_Cancel_Hot_Key_State VKD_Force_Keys VKD_Get_Kbd_Owner VKD_Define_Paste_Mode VKD_Start_Paste VKD_Cancel_Paste VKD_Get_Msg_Key VKD_Peek_Msg_Key VKD_Flush_Msg_Key_Queue VKD_Enable_Keyboard VKD_Disable_Keyboard VKD_Get_Shift_State VKD_Filter_Keyboard_Input VKD_Put_Byte VKD_Set_Shift_State".split(" ")},
VCD:{id:14,cb:"VCD_Get_Version VCD_Set_Port_Global VCD_Get_Focus VCD_Virtualize_Port VCD_Acquire_Port VCD_Free_Port VCD_Acquire_Port_Windows_Style VCD_Free_Port_Windows_Style VCD_Steal_Port_Windows_Style VCD_Find_COM_Index VCD_Set_Port_Global_Special VCD_Virtualize_Port_Dynamic VCD_Unvirtualize_Port_Dynamic".split(" ")},VPD:{id:15},BLOCKDEV:{id:16,cb:"BlockDev_Get_Version BlockDev_Register_Device BlockDev_Find_Int13_Drive BlockDev_Get_Device_List BlockDev_Send_Command BlockDev_Command_Complete BlockDev_Synchronous_Command".split(" ")},
VMCPD:{id:17,cb:"VMCPD_Get_Version VMCPD_Get_Virt_State VMCPD_Set_Virt_State VMCPD_Get_CR0_State VMCPD_Set_CR0_State VMCPD_Get_Thread_State VMCPD_Set_Thread_State _VMCPD_Get_FP_Instruction_Size VMCPD_Set_Thread_Precision".split(" ")},EBIOS:{id:18,cb:["EBIOS_Get_Version","EBIOS_Get_Unused_Mem"]},BIOSXLAT:{id:19},VNETBIOS:{id:20,cb:"VNETBIOS_Get_Version VNETBIOS_Register VNETBIOS_Submit VNETBIOS_Enum VNETBIOS_Deregister VNETBIOS_Register2 VNETBIOS_Map VNETBIOS_Enum2".split(" ")},DOSMGR:{id:21,cb:"DOSMGR_Get_Version _DOSMGR_Set_Exec_VM_Data DOSMGR_Copy_VM_Drive_State _DOSMGR_Exec_VM DOSMGR_Get_IndosPtr DOSMGR_Add_Device DOSMGR_Remove_Device DOSMGR_Instance_Device DOSMGR_Get_DOS_Crit_Status DOSMGR_Enable_Indos_Polling DOSMGR_BackFill_Allowed DOSMGR_LocalGlobalReg DOSMGR_Init_UMB_Area DOSMGR_Begin_V86_App DOSMGR_End_V86_App DOSMGR_Alloc_Local_Sys_VM_Mem DOSMGR_Grow_CDSs DOSMGR_Translate_Server_DOS_Call DOSMGR_MMGR_PSP_Change_Notifier".split(" ")},
WINLOAD:{id:22},SHELL:{id:23,cb:"SHELL_Get_Version SHELL_Resolve_Contention SHELL_Event SHELL_SYSMODAL_Message SHELL_Message SHELL_GetVMInfo _SHELL_PostMessage _SHELL_ShellExecute _SHELL_PostShellMessage SHELL_DispatchRing0AppyEvents SHELL_Hook_Properties SHELL_Unhook_Properties SHELL_Update_User_Activity _SHELL_QueryAppyTimeAvailable _SHELL_CallAtAppyTime _SHELL_CancelAppyTimeEvent _SHELL_BroadcastSystemMessage _SHELL_HookSystemBroadcast _SHELL_UnhookSystemBroadcast _SHELL_LocalAllocEx _SHELL_LocalFree _SHELL_LoadLibrary _SHELL_FreeLibrary _SHELL_GetProcAddress _SHELL_CallDll _SHELL_SuggestSingleMSDOSMode SHELL_CheckHotkeyAllowed _SHELL_GetDOSAppInfo".split(" ")},
VMPOLL:{id:24,cb:["VMPoll_Get_Version","VMPoll_Enable_Disable","VMPoll_Reset_Detection","VMPoll_Check_Idle"]},VPROD:{id:25},DOSNET:{id:26,cb:["DOSNET_Get_Version","DOSNET_Send_FILESYSCHANGE","DOSNET_Do_PSP_Adjust"]},VFD:{id:27,cb:["VFD_Get_Version"]},VDD2:{id:28,cb:["VDD2_Get_Version"]},WINDEBUG:{id:29},TSRLOAD:{id:30},BIOSHOOK:{id:31},INT13:{id:32,cb:["Int13_Get_Version","Int13_Device_Registered","Int13_Translate_VM_Int","Int13_Hooking_BIOS_Int","Int13_Unhooking_BIOS_Int"]},PAGEFILE:{id:33,cb:"PageFile_Get_Version PageFile_Init_File PageFile_Clean_Up PageFile_Grow_File PageFile_Read_Or_Write PageFile_Cancel PageFile_Test_IO_Valid PageFile_Get_Size_Info PageFile_Set_Async_Manager PageFile_Call_Async_Manager".split(" ")},
SCSI:{id:34},MCA_POS:{id:35},SCSIFD:{id:36},VPEND:{id:37},APM:{id:38},VXDLDR:{id:39,cb:"VXDLDR_GetVersion VXDLDR_LoadDevice VXDLDR_UnloadDevice VXDLDR_DevInitSucceeded VXDLDR_DevInitFailed VXDLDR_GetDeviceList VXDLDR_UnloadMe _PELDR_LoadModule _PELDR_GetModuleHandle _PELDR_GetModuleUsage _PELDR_GetEntryPoint _PELDR_GetProcAddress _PELDR_AddExportTable _PELDR_RemoveExportTable _PELDR_FreeModule VXDLDR_Notify _PELDR_InitCompleted _PELDR_LoadModuleEx".split(" ")},NDIS:{id:40},BIOS_EXT:{id:41,cb:["_BIOSEXTGetVersion",
"_BIOSEXTGetHeader","_BIOSEXTCallBIOS"]},VWIN32:{id:42},VCOMM:{id:43,cb:"VCOMM_Get_Version _VCOMM_Register_Port_Driver _VCOMM_Acquire_Port _VCOMM_Release_Port _VCOMM_OpenComm _VCOMM_SetCommState _VCOMM_GetCommState _VCOMM_SetupComm _VCOMM_TransmitCommChar _VCOMM_CloseComm _VCOMM_GetCommQueueStatus _VCOMM_ClearCommError _VCOMM_GetModemStatus _VCOMM_GetCommProperties _VCOMM_EscapeCommFunction _VCOMM_PurgeComm _VCOMM_SetCommEventMask _VCOMM_GetCommEventMask _VCOMM_WriteComm _VCOMM_ReadComm _VCOMM_EnableCommNotification _VCOMM_GetLastError _VCOMM_Steal_Port _VCOMM_SetReadCallBack _VCOMM_SetWriteCallBack _VCOMM_Add_Port _VCOMM_GetSetCommTimeouts _VCOMM_SetWriteRequest _VCOMM_SetReadRequest _VCOMM_Dequeue_Request _VCOMM_Enumerate_DevNodes VCOMM_Map_Win32DCB_To_Ring0 VCOMM_Map_Ring0DCB_To_Win32 _VCOMM_Get_Contention_Handler _VCOMM_Map_Name_To_Resource".split(" ")},
SPOOLER:{id:44},WIN32S:{id:45},DEBUGCMD:{id:46},CONFIGMG:{id:51,cb:"_CONFIGMG_Get_Version _CONFIGMG_Initialize _CONFIGMG_Locate_DevNode _CONFIGMG_Get_Parent _CONFIGMG_Get_Child _CONFIGMG_Get_Sibling _CONFIGMG_Get_Device_ID_Size _CONFIGMG_Get_Device_ID _CONFIGMG_Get_Depth _CONFIGMG_Get_Private_DWord _CONFIGMG_Set_Private_DWord _CONFIGMG_Create_DevNode _CONFIGMG_Query_Remove_SubTree _CONFIGMG_Remove_SubTree _CONFIGMG_Register_Device_Driver _CONFIGMG_Register_Enumerator _CONFIGMG_Register_Arbitrator _CONFIGMG_Deregister_Arbitrator _CONFIGMG_Query_Arbitrator_Free_Size _CONFIGMG_Query_Arbitrator_Free_Data _CONFIGMG_Sort_NodeList _CONFIGMG_Yield _CONFIGMG_Lock _CONFIGMG_Unlock _CONFIGMG_Add_Empty_Log_Conf _CONFIGMG_Free_Log_Conf _CONFIGMG_Get_First_Log_Conf _CONFIGMG_Get_Next_Log_Conf _CONFIGMG_Add_Res_Des _CONFIGMG_Modify_Res_Des _CONFIGMG_Free_Res_Des _CONFIGMG_Get_Next_Res_Des _CONFIGMG_Get_Performance_Info _CONFIGMG_Get_Res_Des_Data_Size _CONFIGMG_Get_Res_Des_Data _CONFIGMG_Process_Events_Now _CONFIGMG_Create_Range_List _CONFIGMG_Add_Range _CONFIGMG_Delete_Range _CONFIGMG_Test_Range_Available _CONFIGMG_Dup_Range_List _CONFIGMG_Free_Range_List _CONFIGMG_Invert_Range_List _CONFIGMG_Intersect_Range_List _CONFIGMG_First_Range _CONFIGMG_Next_Range _CONFIGMG_Dump_Range_List _CONFIGMG_Load_DLVxDs _CONFIGMG_Get_DDBs _CONFIGMG_Get_CRC_CheckSum _CONFIGMG_Register_DevLoader _CONFIGMG_Reenumerate_DevNode _CONFIGMG_Setup_DevNode _CONFIGMG_Reset_Children_Marks _CONFIGMG_Get_DevNode_Status _CONFIGMG_Remove_Unmarked_Children _CONFIGMG_ISAPNP_To_CM _CONFIGMG_CallBack_Device_Driver _CONFIGMG_CallBack_Enumerator _CONFIGMG_Get_Alloc_Log_Conf _CONFIGMG_Get_DevNode_Key_Size _CONFIGMG_Get_DevNode_Key _CONFIGMG_Read_Registry_Value _CONFIGMG_Write_Registry_Value _CONFIGMG_Disable_DevNode _CONFIGMG_Enable_DevNode _CONFIGMG_Move_DevNode _CONFIGMG_Set_Bus_Info _CONFIGMG_Get_Bus_Info _CONFIGMG_Set_HW_Prof _CONFIGMG_Recompute_HW_Prof _CONFIGMG_Query_Change_HW_Prof _CONFIGMG_Get_Device_Driver_Private_DWord _CONFIGMG_Set_Device_Driver_Private_DWord _CONFIGMG_Get_HW_Prof_Flags _CONFIGMG_Set_HW_Prof_Flags _CONFIGMG_Read_Registry_Log_Confs _CONFIGMG_Run_Detection _CONFIGMG_Call_At_Appy_Time _CONFIGMG_Fail_Change_HW_Prof _CONFIGMG_Set_Private_Problem _CONFIGMG_Debug_DevNode _CONFIGMG_Get_Hardware_Profile_Info _CONFIGMG_Register_Enumerator_Function _CONFIGMG_Call_Enumerator_Function _CONFIGMG_Add_ID _CONFIGMG_Find_Range _CONFIGMG_Get_Global_State _CONFIGMG_Broadcast_Device_Change_Message _CONFIGMG_Call_DevNode_Handler _CONFIGMG_Remove_Reinsert_All".split(" ")},
DWCFGMG:{id:52},SCSIPORT:{id:53},VFBACKUP:{id:54,cb:"VFBACKUP_Get_Version VFBACKUP_Lock_NEC VFBACKUP_UnLock_NEC VFBACKUP_Register_NEC VFBACKUP_Register_VFD VFBACKUP_Lock_All_Ports".split(" ")},ENABLE:{id:55,cb:"VMINI_GetVersion VMINI_Update VMINI_Status VMINI_DisplayError VMINI_SetTimeStamp VMINI_Siren VMINI_RegisterAccess VMINI_GetData VMINI_ShutDownItem VMINI_RegisterSK".split(" ")},VCOND:{id:56,cb:["VCOND_Get_Version","VCOND_Launch_ConApp_Inherited"]},ISAPNP:{id:60},BIOS:{id:61,cb:["_BIOSGetVersion",
"_BIOSSoftUndock","_BIOSGetCapabilities","_BIOSGetAPMTable"]},IFSMGR:{id:64,cb:"IFSMgr_Get_Version IFSMgr_RegisterMount IFSMgr_RegisterNet IFSMgr_RegisterMailSlot IFSMgr_Attach IFSMgr_Detach IFSMgr_Get_NetTime IFSMgr_Get_DOSTime IFSMgr_SetupConnection IFSMgr_DerefConnection IFSMgr_ServerDOSCall IFSMgr_CompleteAsync IFSMgr_RegisterHeap IFSMgr_GetHeap IFSMgr_RetHeap IFSMgr_CheckHeap IFSMgr_CheckHeapItem IFSMgr_FillHeapSpare IFSMgr_Block IFSMgr_Wakeup IFSMgr_Yield IFSMgr_SchedEvent IFSMgr_QueueEvent IFSMgr_KillEvent IFSMgr_FreeIOReq IFSMgr_MakeMailSlot IFSMgr_DeleteMailSlot IFSMgr_WriteMailSlot IFSMgr_PopUp IFSMgr_printf IFSMgr_AssertFailed IFSMgr_LogEntry IFSMgr_DebugMenu IFSMgr_DebugVars IFSMgr_GetDebugString IFSMgr_GetDebugHexNum IFSMgr_NetFunction IFSMgr_DoDelAllUses IFSMgr_SetErrString IFSMgr_GetErrString IFSMgr_SetReqHook IFSMgr_SetPathHook IFSMgr_UseAdd IFSMgr_UseDel IFSMgr_InitUseAdd IFSMgr_ChangeDir IFSMgr_DelAllUses IFSMgr_CDROM_Attach IFSMgr_CDROM_Detach IFSMgr_Win32DupHandle IFSMgr_Ring0_FileIO IFSMgr_Win32_Get_Ring0_Handle IFSMgr_Get_Drive_Info IFSMgr_Ring0GetDriveInfo IFSMgr_BlockNoEvents IFSMgr_NetToDosTime IFSMgr_DosToNetTime IFSMgr_DosToWin32Time IFSMgr_Win32ToDosTime IFSMgr_NetToWin32Time IFSMgr_Win32ToNetTime IFSMgr_MetaMatch IFSMgr_TransMatch IFSMgr_CallProvider UniToBCS UniToBCSPath BCSToUni UniToUpper UniCharToOEM CreateBasis MatchBasisName AppendBasisTail FcbToShort ShortToFcb IFSMgr_ParsePath Query_PhysLock _VolFlush NotifyVolumeArrival NotifyVolumeRemoval QueryVolumeRemoval IFSMgr_FSDUnmountCFSD IFSMgr_GetConversionTablePtrs IFSMgr_CheckAccessConflict IFSMgr_LockFile IFSMgr_UnlockFile IFSMgr_RemoveLocks IFSMgr_CheckLocks IFSMgr_CountLocks IFSMgr_ReassignLockFileInst IFSMgr_UnassignLockList IFSMgr_MountChildVolume IFSMgr_UnmountChildVolume IFSMgr_SwapDrives IFSMgr_FSDMapFHtoIOREQ IFSMgr_FSDParsePath IFSMgr_FSDAttachSFT IFSMgr_GetTimeZoneBias IFSMgr_PNPEvent IFSMgr_RegisterCFSD IFSMgr_Win32MapExtendedHandleToSFT IFSMgr_DbgSetFileHandleLimit IFSMgr_Win32MapSFTToExtendedHandle IFSMgr_FSDGetCurrentDrive IFSMgr_InstallFileSystemApiHook IFSMgr_RemoveFileSystemApiHook IFSMgr_RunScheduledEvents IFSMgr_CheckDelResource IFSMgr_Win32GetVMCurdir IFSMgr_SetupFailedConnection _GetMappedErr ShortToLossyFcb IFSMgr_GetLockState BcsToBcs IFSMgr_SetLoopback IFSMgr_ClearLoopback IFSMgr_ParseOneElement BcsToBcsUpper".split(" ")},
VCDFSD:{id:65,cb:["_VCDFSD_Get_Version","_VCDFSD_GetCDFSInfo","_VCDFSD_Hook","_VCDFSD_Unhook"]},MRCI2:{id:66,cb:["MRCI_Get_Version","_MRCI_Fast_Compress","_MRCI_Fast_Decompress"]},PCI:{id:67},PELOADER:{id:68},EISA:{id:69},DRAGCLI:{id:70},DRAGSRV:{id:71},PERF:{id:72,cb:["PERF_Get_Version","PERF_Server_Register","PERF_Server_Deregister","PERF_Server_Add_Stat","PERF_Server_Remove_Stat"]},AWREDIR:{id:73},ETEN:{id:96},CHBIOS:{id:97},VMSGD:{id:98},VPPID:{id:99},VIME:{id:100,cb:["VIME_Register_UI","VIME_Control_IME"]},
VHBIOSD:{id:101}};function Rc(){this.A=[void 0,void 0,void 0,void 0];this.B=null;this.A[0]=256*Math.random()|0;this.A[1]=256*Math.random()|0;this.A[2]=256*Math.random()|0;this.A[3]=255;this.B=null}Rc.prototype.toString=function(){this.B||(this.B="#"+Xa(this.A[0],2)+Xa(this.A[1],2)+Xa(this.A[2],2));return this.B};function Sc(a,b,c,d){this.x=a;this.y=b;this.cx=c;this.A=d}Sc.prototype.contains=function(a,b){return a>=this.x&&a<this.x+this.cx&&b>=this.y&&b<this.y+this.A};
function Tc(a,b){this.active=!1;this.B=a;this.A=null;this.color=a.style.backgroundColor;this.setColor(b);Vc(this)}function Vc(a){a.A!=a.color?(a.A=a.color,a.B.style.backgroundColor=a.color||Wc.bp):a.active||(a.color=null)}Tc.prototype.setColor=function(a){a?(this.color=a,this.active=!0):this.active=!1};function Xc(a){dc.call(this,"Panel",a);this.V={};this.ia=0;this.canvas=null;this.Cg=this.I=this.K=this.O=-1;this.A=null;this.pa=!1}oa(Xc,dc);m=Xc.prototype;
m.bd=function(a,b,c,d){this.Ea=a;this.ra=b;this.G=c;this.fa=d;this.C=Yc(a,"Keyboard");Zc(this)};
m.Sb=function(a,b,c,d){if(this.Ea&&this.Ea.Sb(a,b,c,d)||this.G&&this.G.Sb(a,b,c,d)||this.C&&this.C.Sb(a,b,c,d)||this.fa&&this.fa.Sb(a,b,c,d))return!0;if("led"==a.substr(-3,3))return this.V[b]=new Tc(c,d),this.ia++,Zc(this),!0;if(!this.canvas&&"canvas"==a){this.pa=!0;this.canvas=c;this.context=this.canvas.getContext("2d");0<=Bb().indexOf("MSIE")&&(this.canvas.onresize=function(f,g,h){return function(){f.style.height=(f.clientWidth*h/g|0)+"px"}}(this.canvas,this.canvas.width,this.canvas.height),this.canvas.onresize(null));
this.Xa=this.gb=0;this.Z=this.canvas.width*$c.Vc/bd.Vc|0;this.Na=this.canvas.height;this.Ba=this.Z;this.jb=0;this.ka=this.canvas.width-this.Z;this.Oa=this.canvas.height;this.Ta=this.Ba;this.bb=this.canvas.height*(cd.Vb-dd.Vb)/bd.Vb|0;this.La=this.ka;this.Ma=this.canvas.height*dd.Vb/bd.Vb|0;this.F=document.createElement("canvas");this.F.width=$c.Vc;this.F.height=$c.Vb;this.U=this.F.getContext("2d");this.U.createImageData(this.F.width,this.F.height);this.B=document.createElement("canvas");this.B.width=
cd.Vc;this.B.height=cd.Vb;this.L=this.B.getContext("2d");var e=this;this.canvas.addEventListener("mousemove",function(f){e.Ah(f)},!1);this.canvas.addEventListener("mousedown",function(f){e.Ze(f,!0)},!1);this.canvas.addEventListener("mouseup",function(f){e.Ze(f,!1)},!1);this.ba=!0;Zc(this);return!0}return dc.prototype.Sb.call(this,a,b,c,d)};m.Hh=function(a,b){(a=this.V[a])&&a.setColor(b)};function Zc(a){0>a.Cg&&(a.ia||a.canvas)&&a.G&&(a.Cg=ed(a.G,a.id,function(){fd(a)},1E3/gd))}
m.Gc=function(a,b){b||hd();this.canvas&&(this.ba=!0);return!0};m.Fc=function(){return!0};m.Ze=function(a,b){a.button||(this.O=b?0:-1,id(this,a,b))};m.Ah=function(a){id(this,a)};
function id(a,b,c){var d=bd.Vc/a.canvas.offsetWidth,e=bd.Vb/a.canvas.offsetHeight,f=a.canvas.getBoundingClientRect();d=(b.clientX-f.left)*d|0;b=(b.clientY-f.top)*e|0;null==c&&(a.O||(a.O=Math.abs(a.I-d)>Math.abs(a.K-b)?1:2),1==a.O?b=a.K:2==a.O&&(d=a.I));a.I=d;a.K=b;if(0<=d&&d<bd.Vc&&0<=b&&b<bd.Vb){a:{c=d;if(c<$c.Vc&&a.A&&a.A.dh)for(f=0;f<a.A.dh.length;f++)if(e=a.A.dh[f],e.contains(c,b)){c-=e.x;b-=e.y;d=a.A.Zi[f];var g=pb(jd.Lt,a.A.rn[d.Kz]);f=g*a.ra.A;d=(g+d.yf)*a.ra.A-1;0<b&&(f+=e.cx*(b-1)*a.ya);
f+=c*a.ya;f|=0;f>d&&(f=d);c=f;break a}c=4294967296}4294967296!==c&&(c&=-16,c!=a.ca&&(kd(a,c,!0),a.ca=c))}}
function fd(a){for(var b in a.V)Vc(a.V[b]);if(a.ba){ld(a,bd.Ng.Vb,a.F,a.U,a.canvas.style.color);if(a.pa){b=a.ra;var c=a.A,d,e;null==d&&(d=0);null==e&&(e=b.U-d|0);null==c&&(c={zn:0,yf:0,rn:[]});var f=d>>>12;d=d+e-1>>>12;c.zn=0;for(c.yf=0;f<=d;)e=b.X[f],c.zn+=e.size,e.size&&(c.rn.push(nb(jd,f,0,0,e.type)),c.yf++),f++;a.A=c;a.ya=a.A.yf*a.ra.A/($c.Vc*$c.Vb);b=0;a.A.Zr=0;a.A.Zi||(a.A.Zi=[]);c=-1;d=f=0;for(var g=-1;f<a.A.yf;f++){var h=a.A.rn[f];e=pb(jd.type,h);h=pb(jd.Lt,h);if(e!=c||h!=g+1)(g=f-d)&&(b+=
md(a,d,g,c)),c=e,d=f;g=h}b+=md(a,d,f-d,c);c=a.A.Dz!=b;a.A.Dz=b;if(c){c=new Sc(0,0,a.F.width,a.F.height);a.A.dh=[];f=a.A.yf;for(b=0;b<a.A.Zr;b++){d=a.A.Zi[b].yf;e=a.A.dh;g=e.push;h=c;var k=d;var l=f,p=!b;void 0===p&&(p=k>=l>>2);p?(k=new Sc(h.x,h.y,h.cx,h.A*k/l|0),h.y+=k.A,h.A-=k.A):(k=new Sc(h.x,h.y,h.cx*k/l|0,h.A),h.x+=k.cx,h.cx-=k.cx);g.call(e,k);f-=d}for(b=0;b<a.A.dh.length;b++)c=a.A.Zi[b],d=f=a.A.dh[b],e=a.U,(g=od.mv[c.type])||(g=new Rc),e.strokeStyle="black",e.strokeRect(d.x,d.y,d.cx,d.A),e.fillStyle=
"string"==typeof g?g:g.toString(),e.fillRect(d.x,d.y,d.cx,d.A),d=a,g=f,d.P=d.ta,d.N=d.va,f=g.x+(g.cx>>1),e=g.y+(g.A>>1),h=g.A,g.cx<g.A&&(h=g.cx,d.la=!0,d.H.save(),d.H.translate(f,e),d.H.rotate(-Math.PI/2),f=e=0),h<d.N&&(d.N=h,d.P=d.N+"px "+bd.Ng.mq),d.D=f,d.M=e,f=a,c=od.$j[c.type]+" ("+(c.yf*a.ra.A/1024|0)+"Kb)",f.H.font=f.P,f.D-=f.H.measureText(c).width>>1,f.M+=(f.N>>1)-2,pd(f,c),f.la&&(f.H.restore(),f.la=!1)}}else pd(a,"This space intentionally left blank");a.context.drawImage(a.F,0,0,a.F.width,
a.F.height,a.Xa,a.gb,a.Z,a.Na);a.ba=!1}}function md(a,b,c,d){a.A.Zi[a.A.Zr++]={Kz:b,yf:c,type:d};return nb(jd,b,c,0,d)}
function kd(a,b,c){if(a.context&&a.B&&a.L){var d=cd.Vb-dd.Vb,e=a.B.width,f=dd.Vb;a.L.fillStyle=cd.COLOR;a.L.fillRect(0,d,e,f);ld(a,d+bd.Ng.Vb,a.B,a.L,a.canvas.style.color);qd(a,24);if(null==b)pd(a,"Mouse over memory to dump");else{pd(a,Xa(b,8,!0),null,0,1);for(var g=1;16>=g;g++){for(var h="",k=1;8>=k;k++){var l=a.ra;var p=b++;l=l.X[(p&l.C)>>>12].dg(p&l.B,p);pd(a,Xa(l,2),null,1);h+=32<=l&&128>l?String.fromCharCode(l):"."}pd(a,h,null,0,1)}}c&&a.context.drawImage(a.B,0,d,e,f,a.Ta,a.bb,a.La,a.Ma)}}
function ld(a,b,c,d,e){var f,g=a.Va=10;a.D=g;a.M=b;a.N=a.va=bd.Ng.Vb;f||(f=a.ta||a.va+"px "+bd.Ng.mq);a.P=a.ta=f;c&&(a.Ha=c);d&&(a.H=d,a.Ja=e||"white")}function qd(a,b){a.X=a.Ha.width/b|0}function rd(a,b){a.D=a.Va;a.M+=(a.N+2)*(b||1)}function pd(a,b,c,d,e){a.H.font=a.P;a.H.fillStyle=a.Ja;a.H.fillText(b,a.D,a.M);a.D+=a.X;null!=c&&(16!=a.Qa?b=c.toString():(b=8>a.xa?"0x":"",b+=Xa(c,a.xa)),a.H.fillText(b,a.D,a.M),a.D+=a.X);d&&(a.D+=a.X*d);e&&rd(a,e)}
function hd(){for(var a=!1,b=pc("pcx86","panel"),c=0;c<b.length;c++){var d=b[c],e=qc(d),f=sc(e.id,!1);f||(a=!0,f=new Xc(e));oc(f,d);a&&Cc(f)}if(!a){a=Object.keys(xa.machines);for(var g in a)if(b=a[+g]+".panel",c=nc("Panel",b),!c){c=new Xc({id:b});Cc(c);break}}}
var Wc={bp:"#000000",RED:"#ff0000",cp:"#0000ff",vq:"#00ff00"},sd={NONE:Wc.bp,ng:Wc.RED,Vg:Wc.vq,Ae:Wc.cp},bd={Vc:1280,Vb:720,Ng:{Vb:18,mq:"Monaco, Lucida Console, Courier New"}},$c={Vc:3*bd.Vc>>2,Vb:bd.Vb},cd={Vc:bd.Vc-$c.Vc,Vb:bd.Vb,COLOR:"black"},dd={Vc:bd.Vc-$c.Vc,Vb:bd.Vb>>1},gd=10;Vb(hd);function td(){}td.prototype.$k=function(){return[]};td.prototype.In=function(){return[]};
function ud(a,b,c){dc.call(this,"Busx86",a);this.G=b;this.fa=c;this.M=+a.busWidth||20;this.U=Math.pow(2,this.M);this.N=this.C=this.U-1|0;this.A=4096;this.Z=this.A>>2;this.B=this.A-1;this.L=this.U/this.A|0;this.O=this.L-1;this.D=[];this.F=[];this.I=this.K=!1;this.P=[];this.V=[];a=new vd;wd(a,this.fa);this.X=Array(this.L);for(b=0;b<this.L;b++)this.X[b]=a;a=this.G;b=this.X;a.Oc=a.X=b;a.jb=12;a.Ho=1<<a.jb;a.Eb=a.Ho-1;a.qg=b.length;a.Rf=a.qg-1;a=this.G;a.Tf=a.fd=this.C;Cc(this)}oa(ud,dc);m=ud.prototype;
m.reset=function(){xd(this,!0)};m.Gc=function(a,b){b||this.reset();return!0};
function yd(a,b,c,d,e){for(var f=b,g=c,h=f>>>12;0<g&&h<a.X.length;){var k=a.X[h],l=h*a.A,p=a.A-(f-l);p>g&&(p=g);if(k&&k.size){if(k.type==d&&k.controller==e){if(f+g<=k.Ca)return k.Eg+=k.Ca-f,k.Ca=f,!0;if(f>=k.Ca+k.Eg){p=k.size-(f-l);p>g&&(p=g);k.Eg=f-k.Ca+p;f=l+a.A;g-=p;h++;continue}}return zd(a,Ad.Du,f,g)}f=new vd(f,p,a.A,d,e);wd(f,a.fa,k);a.X[h++]=f;f=l+a.A;g-=p}return 0>=g?(Bd(a.G),a.G.flags.vb||(e=Math.round(c/1024),a.J(137438953472,"%s %s at 0x%X\n",e?e+"Kb":c+" bytes",od.$j[d],b)),!0):zd(a,Ad.Cu,
b,c)}function Cd(a,b,c,d){var e=!0,f=b>>>12;for(b=a.A-(b&a.B);0<c&&f<a.X.length;){var g=a.X[f];g.flags&Dd.qc?(d&&(g.flags=g.flags&~Dd.qc|Dd.Nq),g=!1):g=!0;g||(e=!1);c-=b;b=a.A;f++}return e}function xd(a,b){32==a.M?b?a.H&&(Ed(a,1048576,1048576,a.H),a.H=null):a.H||(a.H=Fd(a,1048576,1048576),Ed(a,1048576,1048576,Fd(a,0,1048576))):20<a.M&&(b=a.C&-1048577|(b?1048576:0),b!=a.C&&(a.C=b,a.G&&(a=a.G,a.Tf=a.fd=b)))}
m.Aj=function(a,b,c,d){if(a&this.B||!b||b&this.B)zd(this,Ad.Ay,a,b);else for(var e=a>>>12;0<b;){var f=this.X[e];if(!f.controller){zd(this,Ad.By,a,b,d);break}Gd(f,c,!0);b-=this.A;e++}};function Hd(a,b,c){if(!(b&a.B||!c||c&a.B)){for(var d=b>>>12;0<c;){var e=a.X[d];b=new vd(b);wd(b,a.fa,e);a.X[d++]=b;b=d*a.A;c-=a.A}Bd(a.G);return!0}return zd(a,Ad.ey,b,c)}function Fd(a,b,c){var d=[];for(b>>>=12;0<c&&b<a.X.length;)d.push(a.X[b++]),c-=a.A;return d}
function Ed(a,b,c,d,e){for(var f=0,g=b>>>12;0<c&&g<a.X.length;){var h=d[f++];if(!h)break;if(void 0!==e){var k=new vd(b),l=k,p=e,n=a.fa;l.id=h.id|1;l.Eg=h.Eg;l.size=h.size;p&&(l.type=p,l.C=p==od.Gi);l.buffer=h.buffer;l.F=h.F;l.mb=h.mb;l.$f=h.$f;l.aa=h.aa;Gd(l,Id?Ld:Md);wd(l,n,h);h=k}a.X[g++]=h;c-=a.A}}m.Ia=function(a){return this.X[(a&this.C)>>>12].sd(a&this.B,a)};m.Ob=function(a,b){this.X[(a&this.C)>>>12].Uc(a&this.B,b&255,a)};function Nd(a,b,c){a.X[(b&a.C)>>>12].Cj(b&a.B,c&255,b)}
function Od(a,b,c){var d=b&a.B,e=(b&a.C)>>>12;d!=a.B?a.X[e].Jh(d,c&65535,b):(a.X[e++].Uc(d,c&255,b),a.X[e&a.O].Uc(0,c>>8&255,b+1))}function Pd(a,b,c){var d=b&a.B,e=(b&a.C)>>>12;d!=a.B?a.X[e].Vo(d,c&65535,b):(a.X[e++].Cj(d,c&255,b),a.X[e&a.O].Cj(0,c>>8&255,b+1))}function Qd(a,b,c,d){void 0===d&&(d=0);for(var e in c){var f=a,g=+e+d,h=+e+d,k=c[e].bind(b);if(void 0!==k)for(;g<=h;g++)void 0!==f.D[g]?tb(549755813888,"input port "+Za(g)+" already registered"):f.D[g]=[k,!1]}}
function Rd(a,b,c,d){for(var e=0,f=0;0<c;){var g=a.D[b],h=a.P[b]||1,k=1==h?255:2==h?65535:-1,l=k;void 0!==g?(g[0]&&(l=g[0](b,d),null==l?l=k:l&=k),a.fa&&a.I!=g[1]&&Sd(a.fa,b,l)):a.fa&&(Ic(a.fa,a,b,void 0,d),a.I&&Sd(a.fa,b,l));e|=l<<f;f+=h<<3;b+=h;c-=h}return e}function Td(a,b,c,d){void 0===d&&(d=0);for(var e in c){var f=a,g=+e+d,h=+e+d,k=c[e].bind(b);if(void 0!==k)for(;g<=h;g++)void 0!==f.F[g]?tb(549755813888,"output port "+Za(g)+" already registered"):f.F[g]=[k,!1]}}
function Ud(a,b,c,d,e){for(var f=0;0<c;){var g=a.F[b],h=a.V[b]||1,k=1==h?255:2==h?65535:-1,l=(d>>>=f)&k;if(void 0!==g){if(g[0])g[0](b,l,e);a.fa&&a.K!=g[1]&&Vd(a.fa,b,l)}else a.fa&&(Ic(a.fa,a,b,l,e),a.K&&Vd(a.fa,b,l));f+=h<<3;b+=h;c-=h}}function zd(a,b,c,d,e){a.J(e?2199023255552:0,"Memory block error (%d: %x,%x)\n",b,c,d);return!1}var Ad={Du:1,Cu:2,By:3,Ay:4,ey:5},jd,Wd={Lt:20,count:8,RK:1,type:3},Xd=0,Yd;for(Yd in Wd){var Zd=Wd[Yd];Wd[Yd]={Nn:(1<<Zd)-1<<Xd,shift:Xd};Xd+=Zd}jd=Wd;var Id,$d=new ArrayBuffer(2);
(new DataView($d)).setUint16(0,256,!0);Id=256===(new Uint16Array($d))[0];
function vd(a,b,c,d,e,f){this.id=ae+=2;this.aa=null;this.offset=0;this.Ca=a;this.Eg=b;this.size=c||0;this.type=d||od.NONE;this.C=d==od.Gi;this.controller=null;this.G=f;wd(this);this.flags=Dd.fv;c?e?(this.controller=e,a=e.In(a|0),this.aa=a[0],this.offset=a[1],Gd(this,e.$k())):(this.buffer=new ArrayBuffer(c),this.F=new DataView(this.buffer,0,c),this.mb=new Uint8Array(this.buffer,0,c),this.$f=new Uint16Array(this.buffer,0,c>>1),this.aa=new Int32Array(this.buffer,0,c>>2),Gd(this,Id?Ld:Md)):Gd(this)}
m=vd.prototype;m.Ln=function(a){this.Ca=a};m.save=function(){var a;if(this.controller)var b=null;else for(b=Array(this.size>>2),a=0;a<b.length;a++)b[a]=this.F.getInt32(a<<2,!0);return b};
m.restore=function(a){var b;if(this.controller){if(this.aa){if(2048==this.aa.length||8192==this.aa.length){var c=this.offset>>1;for(b=0;b<a.length&&!(c>=this.aa.length);b++)this.aa[c++]=a[b]&65535,this.aa[c++]=a[b]>>16&65535}else for(c=this.offset>>2,b=0;b<a.length&&!(c>=this.aa.length);b++)this.aa[c++]=a[b];this.flags|=Dd.qc}return!0}if(this.size==a.length<<2){for(b=0;b<a.length;b++)this.F.setInt32(b<<2,a[b],!0);this.flags|=Dd.qc;return!0}return!1};
function Gd(a,b,c){b||(b=a.type==od.Ri?be:a.type==od.Om?ce:fe);ge(a,b,c);he(a,b,c)}function ge(a,b,c){c&&a.hh||(a.sd=b[0]||a.hu,a.vj=b[2]||a.iu,a.Ff=b[4]||a.fu);if(c||void 0===c)a.dg=b[0]||a.hu,a.wj=b[2]||a.iu,a.Ko=b[4]||a.fu}function he(a,b,c){c&&a.ih||(a.Uc=!a.C&&b[1]||a.Ih,a.Jh=!a.C&&b[3]||a.Uo,a.Dj=!a.C&&b[5]||a.To);if(c||void 0===c)a.Cj=b[1]||a.Ih,a.Vo=b[3]||a.Uo,a.I=b[5]||a.To}m.Ce=function(a,b,c){b?0===this.ih++&&(c&&(this.G=c),he(this,ie,!1)):0===this.hh++&&(c&&(this.G=c),ge(this,ie,!1))};
function je(a,b){b?0===--a.ih&&(a.Uc=a.C?a.Ih:a.Cj,a.Jh=a.C?a.Uo:a.Vo,a.Dj=a.C?a.To:a.I):0===--a.hh&&(a.sd=a.dg,a.vj=a.wj,a.Ff=a.Ko)}function wd(a,b,c){a.fa=b;a.hh=a.ih=0;c&&(c.G&&(a.G=c.G),(a.hh=c.hh)&&ge(a,ie,!1),(a.ih=c.ih)&&he(a,ie,!1))}m.hu=function(a,b){this.fa&&this.fa.J(8194,"attempt to read invalid block %%%x\n",b);return 255};m.Ih=function(a,b,c){this.fa&&this.fa.J(8194,"attempt to write %#06x to invalid block %%%x\n",b,c)};m.iu=function(a,b){return this.sd(a++,b++)|this.sd(a,b)<<8};
m.fu=function(a,b){return this.sd(a++,b++)|this.sd(a++,b++)<<8|this.sd(a++,b++)<<16|this.sd(a,b)<<24};m.Uo=function(a,b,c){this.Uc(a++,b&255,c++);this.Uc(a,b>>8,c)};m.To=function(a,b,c){this.Uc(a++,b&255,c++);this.Uc(a++,b>>8&255,c++);this.Uc(a++,b>>16&255,c++);this.Uc(a,b>>>24,c)};m.KB=function(a,b){this.fa&&null!=this.Ca&&ke(this.fa,this.Ca+a)||this.G&&le(this.G,b,1,!1);return this.dg(a,b)};
m.VB=function(a,b){this.fa&&null!=this.Ca&&ke(this.fa,this.Ca+a,2)||this.G&&le(this.G,b,2,!1);return this.wj(a,b)};m.QB=function(a,b){this.fa&&null!=this.Ca&&ke(this.fa,this.Ca+a,4)||this.G&&le(this.G,b,4,!1);return this.Ko(a,b)};m.gC=function(a,b,c){this.fa&&null!=this.Ca&&te(this.fa,this.Ca+a)||this.G&&le(this.G,c,1,!0);this.C?this.Ih(a,b,c):this.Cj(a,b,c)};m.qC=function(a,b,c){this.fa&&null!=this.Ca&&te(this.fa,this.Ca+a,2)||this.G&&le(this.G,c,2,!0);this.C?this.Ih(a,b,c):this.Vo(a,b,c)};
m.lC=function(a,b,c){this.fa&&null!=this.Ca&&te(this.fa,this.Ca+a,4)||this.G&&le(this.G,c,4,!0);this.C?this.Ih(a,b,c):this.I(a,b,c)};m.MB=function(a,b){this.Qb.aa[this.A]|=this.D;this.Rb.aa[this.B]|=this.D;return this.sg.sd(a,b)};m.XB=function(a,b){this.Qb.aa[this.A]|=this.D;this.Rb.aa[this.B]|=this.D;return this.sg.vj(a,b)};m.SB=function(a,b){this.Qb.aa[this.A]|=this.D;this.Rb.aa[this.B]|=this.D;return this.sg.Ff(a,b)};
m.iC=function(a,b,c){this.Qb.aa[this.A]|=this.D;this.Rb.aa[this.B]|=this.H;this.sg.Uc(a,b,c)};m.sC=function(a,b,c){this.Qb.aa[this.A]|=this.D;this.Rb.aa[this.B]|=this.H;this.sg.Jh(a,b,c)};m.nC=function(a,b,c){this.Qb.aa[this.A]|=this.D;this.Rb.aa[this.B]|=this.H;this.sg.Dj(a,b,c)};m.NB=function(a,b){return ue(this.G,b,!1).sd(a,b)};m.YB=function(a,b){return ue(this.G,b,!1).vj(a,b)};m.TB=function(a,b){return ue(this.G,b,!1).Ff(a,b)};m.jC=function(a,b,c){ue(this.G,c,!0).Uc(a,b,c)};
m.tC=function(a,b,c){ue(this.G,c,!0).Jh(a,b,c)};m.oC=function(a,b,c){ue(this.G,c,!0).Dj(a,b,c)};m.JB=function(a){return this.mb[a]};m.eu=function(a){return this.mb[a]};m.LB=function(a){this.Qb.aa[this.A]|=32;this.Rb.aa[this.B]|=32;this.sd=this.eu;return this.mb[a]};m.UB=function(a){return this.F.getUint16(a,!0)};m.ju=function(a){return a&1?this.mb[a]|this.mb[a+1]<<8:this.$f[a>>1]};
m.WB=function(a){this.Qb.aa[this.A]|=32;this.Rb.aa[this.B]|=32;this.vj=this.ju;return a&1?this.mb[a]|this.mb[a+1]<<8:this.$f[a>>1]};m.PB=function(a){return this.F.getInt32(a,!0)};m.gu=function(a){return a&3?this.mb[a]|this.mb[a+1]<<8|this.mb[a+2]<<16|this.mb[a+3]<<24:this.aa[a>>2]};m.RB=function(a){this.Qb.aa[this.A]|=32;this.Rb.aa[this.B]|=32;this.Ff=this.gu;return a&3?this.mb[a]|this.mb[a+1]<<8|this.mb[a+2]<<16|this.mb[a+3]<<24:this.aa[a>>2]};m.fC=function(a,b){this.mb[a]=b};
m.wu=function(a,b){this.mb[a]=b};m.hC=function(a,b){this.mb[a]=b;this.Qb.aa[this.A]|=32;this.Rb.aa[this.B]|=96;this.Uc=this.wu};m.pC=function(a,b){this.F.setUint16(a,b,!0)};m.yu=function(a,b){a&1?(this.mb[a]=b,this.mb[a+1]=b>>8):this.$f[a>>1]=b};m.rC=function(a,b){a&1?(this.mb[a]=b,this.mb[a+1]=b>>8):this.$f[a>>1]=b;this.Qb.aa[this.A]|=32;this.Rb.aa[this.B]|=96;this.Jh=this.yu};m.kC=function(a,b){this.F.setInt32(a,b,!0)};
m.xu=function(a,b){a&3?(this.mb[a]=b,this.mb[a+1]=b>>8,this.mb[a+2]=b>>16,this.mb[a+3]=b>>24):this.aa[a>>2]=b};m.mC=function(a,b){a&3?(this.mb[a]=b,this.mb[a+1]=b>>8,this.mb[a+2]=b>>16,this.mb[a+3]=b>>24):this.aa[a>>2]=b;this.Qb.aa[this.A]|=32;this.Rb.aa[this.B]|=96;this.Dj=this.xu};function ve(a){Id||(a=a<<24|a<<8&16711680|a>>8&65280|a>>>24);return a}
var ae=0,od={NONE:0,Rm:1,Gi:2,gz:3,Ga:4,Ri:5,Om:6,mv:["black","blue","green","cyan"],$j:"NONE RAM ROM VIDEO H/W UNPAGED PAGED".split(" ")},Dd={fv:0,qc:1,Nq:2},fe=[],ie=[vd.prototype.KB,vd.prototype.gC,vd.prototype.VB,vd.prototype.qC,vd.prototype.QB,vd.prototype.lC],ce=[vd.prototype.MB,vd.prototype.iC,vd.prototype.XB,vd.prototype.sC,vd.prototype.SB,vd.prototype.nC],be=[vd.prototype.NB,vd.prototype.jC,vd.prototype.YB,vd.prototype.tC,vd.prototype.TB,vd.prototype.oC],Md=[vd.prototype.JB,vd.prototype.fC,
vd.prototype.UB,vd.prototype.pC,vd.prototype.PB,vd.prototype.kC],Ld=[vd.prototype.eu,vd.prototype.wu,vd.prototype.ju,vd.prototype.yu,vd.prototype.gu,vd.prototype.xu],we=[vd.prototype.LB,vd.prototype.hC,vd.prototype.WB,vd.prototype.rC,vd.prototype.RB,vd.prototype.mC];
function xe(a,b){dc.call(this,"CPU",a,2);var c=a.multiplier||1;this.Jf=a.cycles||b;this.Io=Math.round(1E3/ye);this.Jo=this.hl=this.wd=c;this.gl=Math.round(this.Jf/1E4)/100;this.ae=this.Vf=this.gl*this.wd;this.flags.Qo=this.flags.vb=this.flags.Ej=!1;this.flags.Ue=a.autoStart;this.flags.fs=!1;this.flags.lh=!1;this.Xf=this.Qe=0;this.Yf=a.csStart;this.Pe=a.csInterval;this.Re=a.csStop;this.fb=[];this.Oe=0;this.tq=this.ZB.bind(this)}oa(xe,dc);m=xe.prototype;
m.bd=function(a,b,c,d){this.Ea=a;this.ra=b;this.fa=d;for(b=0;b<ze.length;b++)(d=this.oa[ze[b]])&&this.Ea.Sb("",ze[b],d);this.vc=null;this.bl=Yc(a,"FPU",!1);this.V=Yc(a,"ChipSet");this.flags.Ue=Ae(a,"autoStart",this.flags.Ue);if(a=Be(a,"multiplier"))this.Jo=+a;ed(c,this.id,function(){c.flags.Ej=!0},this.Io);Cc(this)};m.reset=function(){};m.save=function(){return null};m.restore=function(){return!1};
m.Gc=function(a,b){if(!b){if(a&&this.restore){Ce(this);if(!this.restore(a))return!1;De(this)}else this.reset();this.fa?this.fa.Ln():this.J(0,"No debugger detected\n")}Ee(this,!1);return!0};m.Fc=function(a,b){var c=this.flags.vb;b&&Fe(this);return a?this.save(c):!0};m.Ue=function(){return this.flags.vb?!0:this.flags.Ue||null==this.flags.Ue&&!this.fa?Ge(this,!0):!1};m.ks=function(){return 0};
function De(a){void 0===a.Yf&&(a.Yf=0);void 0===a.Pe&&(a.Pe=-1);void 0===a.Re&&(a.Re=-1);a.flags.lh=0<=a.Yf&&0<a.Pe;a.flags.lh&&(a.Xf=0,a.Qe=a.Yf-a.ue)}function He(a,b){if(a.flags.lh){var c=!1;a.Xf=a.Xf+a.ks()|0;a.Qe-=b;0>=a.Qe&&(a.Qe+=a.Pe,c=!0);0<=a.Re&&a.Re<=Ie(a)&&(a.Pe=a.Re=-1,De(a),Fe(a),c=!0);c&&a.J("%d cycles: checksum=%x\n",Ie(a),a.Xf)}}
m.Sb=function(a,b,c){var d=this;a=!1;switch(b){case "power":case "reset":this.oa[b]=c;a=!0;break;case "run":this.oa[b]=c;c.onclick=function(){var e=d.flags.vb,f;if(f=d.Ea)if(f=d.Ea,f.flags.Dg&&(f.flags.Dg=!1,f.flags.hj&&!f.flags.Hc&&f.Eh(Je)),f.flags.Hc)f=!0;else{var g=null,h,k=rc(f.id);for(h=0;h<k.length&&(g=k[h],g===f||g.flags.ready);h++);if(h==k.length)for(h=0;h<k.length&&(g=k[h],g===f||g.flags.Hc);h++);h==k.length&&(g=f);tb(274877906944,"The %s component (%s) is not %s\n",g.type,g.id,g.flags.ready?
"powered yet":"ready yet"+(g.Yk?" (waiting for notification)":""));f=!1}f&&e==d.flags.vb&&(d.flags.vb?Fe(d,!0):Ge(d,!0))};a=!0;break;case "speed":this.oa[b]=c;a=!0;break;case "setSpeed":this.oa[b]=c,c.onclick=function(){Ke(d,d.wd<<1,!0)},c.textContent=Le(this),a=!0}return a};function Me(a,b){a.flags.vb&&(b=a.A-b,0<b&&(a.A-=b,a.be-=b))}function Ne(a,b,c){a.ue+=b;c&&(a.be=a.A=0)}function Oe(a){var b=a.ae/a.gl;!b||b>a.wd?b=a.wd:1>b&&(b=1);a.tw=Math.floor(a.Jf/ye*b);return a.hl!==b?(a.hl=b,!0):!1}
function Ie(a,b){var c=a.ue+a.ce+a.be-a.A;b&&1<a.wd&&a.ae>a.gl&&(c=Math.round(c/a.wd));return c}function Ce(a){a.ue=a.ce=a.be=a.A=0;De(a);Ke(a,a.Jo)}function Pe(a){return a.flags.vb&&a.ae?a.ae.toFixed(2)+"Mhz":"Stopped"}function Le(a){return a.Vf.toFixed(2)+"Mhz"}
function Ke(a,b,c){var d=!0;if(void 0!==b){0<a.ae&&a.ae<.9*a.Vf&&(b=a.Jo,d=!1);a.ae=0;a.wd=b;b=a.gl*a.wd;if(a.Vf!=b){a.Vf=b;b=Le(a);var e=a.oa.setSpeed;e&&(e.textContent=b);a.J(0,"target speed: %s\n",b)}c&&a.Ea&&a.Ea.Ed()}Ne(a,a.ce);a.ce=0;a.dd=a.se=0;if(Oe(a))for(c=a.fb.length-1;0<=c;c--)b=a.fb[c],b[2]&&Qe(a,c,b[2],!0);return d}function ed(a,b,c,d){d=void 0===d?0:d;var e=a.fb.length;a.fb.push([b,-1,d,c]);d&&Qe(a,e,d);return e}
function Te(a,b){for(var c=0;c<a.fb.length;c++){var d=a.fb[c];if(d[0]==b)return d}return null}function Qe(a,b,c,d){0<=b&&b<a.fb.length&&(b=a.fb[b],d||0>b[1])&&(c=0<c?a.Jf*a.hl/1E3*c|0:-c,a.flags.vb&&(c+=Ue(a)),b[1]=c)}function Ve(a,b){for(var c=a.fb.length-1;0<=c;c--){var d=a.fb[c];0>d[1]||(d[1]-=b,0>=d[1]&&(d[1]=-1,d[3](),d[2]&&Qe(a,c,d[2])))}}function Ue(a){var b=a.be-a.A;a.be=a.A=0;a.kl+=b;a.ce+=b;return b}
m.ZB=function(){this.Oe=0;if(this.flags.vb){Oe(this);this.Wf=this.kl=0;this.te=gc();this.dd||(this.dd=this.te);if(this.se){var a=this.te-this.se;a>this.Io&&(this.dd+=a,this.dd>this.te&&(this.dd=this.te))}try{this.flags.Ej=!1;do{for(var b,c=this.flags.lh?1:this.Jf*this.hl|0,d=this.fb.length-1;0<=d;d--){var e=this.fb[d];0>e[1]||c>e[1]&&(c=e[1])}b=c;if(this.V){We(this.V);var f=this.V;a=b;var g=f.fb[0];if(g.vg){var h=(Ie(f.G,f.O)-g.He)/f.Na|0,k=Xe(f,0)-h;g.mode==Ye.pf&&(k-=h);var l=k*f.Na|0;g.mode==Ye.pf&&
(l>>=1);a>l&&(a=l)}b=a;var p=this.V;a=b;if(p.A&&p.A[x.da.Hb]&x.Hb.Tg){var n=p.ka-Ie(p.G,p.O);0<n&&a>n&&(a=n)}b=a}try{this.Dm(b)}catch(q){if("number"!=typeof q)throw q;}if(b=Ue(this))Ve(this,b),He(this,b)}while(this.flags.vb&&!this.flags.Ej)}catch(q){Fe(this);Ee(this);this.Ea&&this.Ea.stop(gc(),Ie(this));yc(this,q.stack||q.message);return}if(this.flags.vb){this.se=gc();this.Wf&&(this.dd+=this.Wf,this.te+=this.Wf);b=this.Io;this.kl&&(b=Math.round(b*this.kl/this.tw));b-=this.se-this.te;c=this.ce;if(d=
this.se-this.dd)this.ae=Math.round(c/(10*d))/100,864E5<=d&&(this.ue=0,this.V&&We(this.V,!0),Ke(this));0>b?(-1E3>b&&(this.dd-=b),b=0):this.ae<this.Vf&&(b=0);this.se+=b;this.Oe=setTimeout(this.tq,b)}}};
function Ge(a,b,c){if(zc(a))return!1;if(a.flags.vb)return c||a.J(0,"%s busy\n",a.toString()),!1;a.Oe&&(clearTimeout(a.Oe),a.Oe=0);Ke(a);a.flags.vb=!0;a.flags.Qo=!0;a.V&&a.V.start();if(c=a.oa.run)c.textContent="Halt";a.Ea&&(ef(a.Ea,!0),b&&a.Ea.Ed(),a.Ea.start(gc(),Ie(a)));a.Oe=setTimeout(a.tq,0);return!0}m.Dm=function(){return 0};
function Fe(a,b){var c=!1;if(a.flags.vb){if(c=Ue(a))Ve(a,c),He(a,c);Ne(a,a.ce);a.ce=0;a.flags.vb=!1;a.V&&a.V.stop();if(c=a.oa.run)c.textContent="Run";a.Ea&&(a.Ea.stop(gc(),Ie(a)),ef(a.Ea,!0));a.fa||a.J(137438953472,"Stopped\n");c=!0}a.flags.complete=b;return c}function ff(a,b){var c=gc();b()&&(a.Wf+=gc()-c)}function Ee(a,b){a.Ea&&ef(a.Ea,b)}var ye=60,ze=["power","reset"];
function gf(a){var b=+a.model||8088;switch(b){default:var c=4772727;break;case 80286:c=6E6;break;case 80386:c=16E6}xe.call(this,a,c);this.model=b;a=a.stepping;this.Le=b+(a?Ra(a,16):0);this.vu=61442;this.Me=1792;this.uu=28672;this.fh=4;this.bb=255;this.B=80286<=this.model?Lc:Kc;this.va=hf;this.Bu=jf;this.Xo=kf;this.ip=lf;if(80186<=this.model&&(this.va=hf.slice(),this.Bu=jf.slice(),this.Xo=kf.slice(),this.bb=31,this.va[15]=mf,this.va[96]=nf,this.va[97]=of,this.va[98]=pf,this.va[99]=mf,this.va[100]=
mf,this.va[101]=mf,this.va[102]=mf,this.va[103]=mf,this.va[104]=qf,this.va[105]=rf,this.va[106]=sf,this.va[107]=tf,this.va[108]=uf,this.va[109]=vf,this.va[110]=wf,this.va[111]=xf,this.va[192]=yf,this.va[193]=zf,this.va[200]=Af,this.va[201]=Bf,this.va[241]=Cf,this.Bu[7]=Df,this.Xo[7]=Df,80286<=this.model)){this.vu=2;this.Me|=28672;this.fh=0;this.va[15]=Ef;this.Zd=Ff.slice();for(b=0;b<this.Zd.length;b++)this.Zd[b]||(this.Zd[b]=Cf);this.va[84]=Gf;this.va[99]=Hf;if(80386<=this.model){var d;this.uu=0;
this.Me|=196608;this.va[100]=If;this.va[101]=Jf;this.va[102]=Kf;this.va[103]=Lf;this.va[241]=Sf;for(d in z)this.Zd[+d]=z[+d];80546<=this.Le&&80562>=this.Le&&(this.Zd[166]=Tf,this.Zd[167]=Uf)}else for(b=0;b<z.length;b++)z[b]&&this.Zd[b]==Cf&&(this.Zd[b]=mf)}this.nh=[];this.oh=[];this.al=0;Ce(this);this.flags.complete=this.flags.Fn=!1;this.$p=0;this.Oc=this.X=[];this.Tf=this.fd=-1;this.jb=this.Ho=this.Eb=this.qg=this.Rf=0;Vf(this)}oa(gf,xe);
function Wf(a,b,c,d){je((d?a.Oc:a.X)[b>>>a.jb],c);d&&Bd(a)}function Xf(a){var b;if(a.X===a.Oc){a.X=Array(a.qg);a.xh=new vd(void 0,0,0,od.Ri,null,a);wd(a.xh,a.fa);for(b=0;b<a.qg;b++)a.X[b]=a.xh;a.Uf=new vd;a.zu=Array(Yf);a.fl=0}else for(var c=0;c<a.kh.length;c++){b=a.kh[c];var d=a,e=a.X[b];d.fl<Yf&&(d.zu[d.fl++]=e);a.X[b]=a.xh}a.kh=[]}function Bd(a){a.ta&-2147483648&&Xf(a)}
function ue(a,b,c,d){var e=(b&-4194304)>>>20,f=a.Oc[(a.Lc+e&a.Tf)>>>a.jb],g=f.Ff(e);if(!(g&1))return d||Zf.call(a,b,!1,c),a.Uf;if(!(g&4)&&3==a.Xa)return d||Zf.call(a,b,!0,c),a.Uf;var h=(b&4190208)>>>10;g=a.Oc[((g&-4096)+h&a.Tf)>>>a.jb];var k=g.Ff(h);if(!(k&1))return d||Zf.call(a,b,!1,c),a.Uf;if(!(k&4)&&3==a.Xa)return d||Zf.call(a,b,!0,c),a.Uf;c=a.Oc[((k&-4096)+(b&4095)&a.Tf)>>>a.jb];if(d)return c;d=b>>>a.jb;k=a.X[d];b&=-4096;if(0<a.fl){var l=a.zu[--a.fl];l.Ln(b)}else l=new vd(b,0,0,od.Om);b=l;b.sg=
c;b.Qb=f;b.A=e>>2;b.Rb=g;b.B=h>>2;!Id||!c.aa||c.controller||c.hh||c.ih?(b.D=c?ve(32):0,b.H=c?ve(96):0,Gd(b,ce)):(b.mb=c.mb,b.$f=c.$f,b.aa=c.aa,Gd(b,we));wd(b,a.fa,k);a.X[d]=b;a.kh.push(d);return b}function $f(a){a.X!==a.Oc&&(a.X=a.Oc,a.xh=null,a.kh=null,a.Uf=null)}m=gf.prototype;m.reset=function(){this.eg();Vf(this);Ce(this);this.flags.error=!1};m.eg=function(){this.V&&(+ag(this.V,bg.md)?this.vc=this.bl:this.vc=null)};
function cg(a,b){switch(b){case 0:var c=a.D;break;case 1:c=a.I;break;case 2:c=a.M;break;case 3:c=a.H;break;case 4:c=dg(a);break;case 5:c=a.N;break;case 6:c=a.L;break;case 7:c=a.K}return c}function eg(a,b,c){switch(b){case 0:a.D=c;break;case 1:a.I=c;break;case 2:a.M=c;break;case 3:a.H=c;break;case 4:fg(a,c);break;case 5:a.N=c;break;case 6:a.L=c;break;case 7:a.K=c}}
function Vf(a){a.D=0;a.H=0;a.I=0;a.M=0;a.gd=0;a.N=0;a.L=0;a.K=0;a.Sc=!1;a.Na=a.gb=0;a.Cw=[0,0];a.Ow=[0,0];a.ya=0;a.Tp=0;a.ia=0;a.ta=65520;a.Zb=0;a.$d=1023;a.P=a.Kc=0;a.tf=a.If=a.Te=a.uf=0;a.ed=-1;a.de=a.Fd=-1;a.xd=a.xa=4294967296;a.ca=new gg(a,hg.Kp,"CS");a.Ha=new gg(a,hg.ea,"DS");a.ka=new gg(a,hg.ea,"ES");a.U=new gg(a,hg.hn,"SS");fg(a,0);ig(a,0);if(80386<=a.model){switch(a.Le){case 80562:case 80563:a.M=771;break;case 80578:a.M=772;break;case 80594:a.M=773;break;case 80595:case 80596:a.M=776;break;
default:a.M=768}a.ta=2147483632;a.Oo=0;a.ee=0;a.Lc=0;a.mc=[0,0,0,0,null,null,0,0];a.tl=[null,null,null,null,null,null,0,0];a.Qa=new gg(a,hg.ea,"FS");a.Ta=new gg(a,hg.ea,"GS");$f(a)}a.So=new gg(a,hg.Ax,"NULL");a.Oa=a.Ha;a.Xb=a.U;a.O=a.ba=0;a.C=a.F=4294967296;a.Ja=a.So;a.La=0;if(80286>a.model)jg(a,0,65535);else{a.Tb=0;a.vd=65535;a.Fb=new gg(a,hg.Xw,"LDT",!0);a.la=new gg(a,hg.Dk,"TSS",!0);a.wb=new gg(a,hg.Fk,"VER",!0);jg(a,65520,61440);var b=kg(a);var c=a.ca;var d=-65536;80386>c.jc.model&&(d&=16777215);
c=c.Da=d;a.Z=c+b|0;a.Ro=(c>>>0)+(a.ca.ob>>>0)+1}lg(a,0);mg(a)}function ng(a){2==a.jd?(a.Ac=a.qa,a.Bc=og,a.Pc=pg,a.qe=qg,2==a.Y?(a.pa=rg,a.Ba=sg,a.sb=tg):(a.pa=ug,a.Ba=vg,a.sb=wg)):(a.Ac=a.na,a.Bc=xg,a.Pc=yg,a.qe=zg,2==a.Y?(a.pa=Ag,a.Ba=Bg,a.sb=Cg):(a.pa=Dg,a.Ba=Eg,a.sb=Fg))}function Ig(a,b){a.Y!=b&&(a.ba|=1024,a.Y=b,a.S=2==b?65535:-1,Mg(a))}
function Mg(a){2==a.Y?(a.Ib=32768,a.Nb=a.qa,a.wc=a.Db,2==a.jd?(a.pa=rg,a.Ba=sg,a.sb=tg):(a.pa=Ag,a.Ba=Bg,a.sb=Cg)):(a.Ib=-2147483648,a.Nb=a.na,a.wc=a.Cb,2==a.jd?(a.pa=ug,a.Ba=vg,a.sb=wg):(a.pa=Dg,a.Ba=Eg,a.sb=Fg))}function Ng(a){a.jd!=a.ca.jd&&(a.jd=a.ca.jd,a.Fa=a.ca.Fa,ng(a));a.Y!=a.ca.Y&&(a.Y=a.ca.Y,a.S=a.ca.S,Mg(a));a.ba&=-3073}m.ks=function(){var a=this.D+this.H+this.I+this.M+dg(this)+this.N+this.L+this.K|0;return a=a+kg(this)+Og(this)+this.Ha.W+this.U.W+this.ka.W+Pg(this)|0};
function Qg(a,b,c){void 0===a.nh[b]&&(a.nh[b]=[]);a.nh[b].push(c)}function Rg(a,b,c){void 0!==c&&(null==a.oh[b]&&a.al++,a.oh[b]=c)}function Sg(a,b){var c=a.oh[b];null!=c&&(c(--a.al),delete a.oh[b])}function Tg(a,b){for(var c=a.mc[7],d=c>>16,e=0;4>e;e++){if(c&3){var f=!!(d&1),g=a.mc[e];g&=~(d>>2&3);b?a.X[g>>>a.jb].Ce(g&a.Eb,f,a):je(a.X[g>>>a.jb],f)}c>>=2;d>>=4}}
function le(a,b,c,d){if(!(a.O&8192)&&a.mc[7]&255){c--;var e=a.mc[7],f=e>>16;d=d?1:0==d?3:0;for(var g=0;4>g;g++){if(e&3&&(f&3)==d){var h=f>>2;if(b+c>=a.mc[g]&&b<=a.mc[g]+h){a.mc[6]|=1<<g;a.La|=2;break}}e>>=2;f>>=4}}}function mg(a,b,c){void 0===b&&(b=!!(a.ta&1));void 0===c&&(c=!!(a.P&131072));a.ip=b&&!c?Ug:lf;Vg(a.ca,!1,b,c);Vg(a.Ha,!1,b,c);Vg(a.U,!1,b,c);Vg(a.ka,!1,b,c);80386<=a.model&&(Vg(a.Qa,!1,b,c),Vg(a.Ta,!1,b,c));Ng(a)}
m.save=function(a){var b=new Wg(this);b.set(0,[this.D,this.H,this.I,this.M,dg(this),this.N,this.L,this.K]);var c=kg(this),d=this.ca.save(),e=this.Ha.save(),f=this.U.save(),g=this.ka.save();if(null!=this.Tb){var h=[this.ta,this.Tb,this.vd,this.Zb,this.$d,this.Fb.save(),this.la.save(),this.Kc];80386<=this.model&&(h.push(this.Oo),h.push(this.ee),h.push(this.Lc),h.push(this.mc),h.push(this.tl))}else h=null;c=[c,d,e,f,g,h,Pg(this)];80386<=this.model&&(c.push(this.Qa.save()),c.push(this.Ta.save()));b.set(1,
c);b.set(2,[this.Oa.zj,this.Xb.zj,this.O,this.ba,this.La,this.C,this.F]);c=b.set;d=this.ue;e=this.wd;f=[];for(g=0;g<this.fb.length;g++)h=this.fb[g],f.push([h[0],h[1],h[2],!0]);c.call(b,3,[0,d,e,a,f]);a=b.set;c=this.ra;var k=void 0===k?!0:k;(d=!c.H&&c.N==c.C)||xd(c,!0);e=0;f=[];for(g=0;g<c.L;g++)if(h=c.X[g],h.size&&(k&&h.type!=od.Gi||0!=(h.flags&(Dd.qc|Dd.Nq)))){var l=h.save();if(l){f[e++]=g;h=e++;if(l){for(var p=0,n=0,q=[];p<l.length;){for(var u=l[p],y=p+1;y<l.length&&l[y]===u;)y++;q[n++]=y-p;q[n++]=
u;p=y}q.length<l.length&&(l=q)}f[h]=l}}d||xd(c,!1);f[e]=d;a.call(b,4,f);return b.data()};
m.restore=function(a){var b=a[0];this.D=b[0];this.H=b[1];this.I=b[2];this.M=b[3];var c=b[4];this.N=b[5];this.L=b[6];this.K=b[7];b=a[1];this.ca.restore(b[1]);this.Ha.restore(b[2]);this.U.restore(b[3]);this.ka.restore(b[4]);var d=b[5];d&&d.length&&(this.ta=d[0],this.Tb=d[1],this.vd=d[2],this.Zb=d[3],this.$d=d[4],this.Fb.restore(d[5]),this.la.restore(d[6]),this.Kc=d[7],80386<=this.model&&(this.Oo=d[8],this.ee=d[9],this.Lc=d[10],this.mc=d[11],this.tl=d[12]),mg(this));lg(this,b[6]);d=!1;a:{var e=this.ra;
var f=a[4],g,h=1;for(g=0;g<f.length-1;g+=2){var k=f[g]*h,l=f[g+1];if(l){if(l.length<e.Z*h||l.length&l.length-1){for(var p=0,n=[],q=0;q<l.length-1;)for(var u=l[q++],y=l[q++];u--;)n[p++]=y;l=n}for((p=l.length/e.Z|0)&&1==h&&(h=p);0<p;){n=1<p?l.splice(0,e.Z):l;q=e.X[k];if(!q||!q.restore(n)){hc("Unable to restore memory block "+k);e=!1;break a}p--;k++}}}void 0!==f[g]&&xd(e,f[g]);e=!0}e&&(jg(this,b[0],this.ca.W),fg(this,c),ig(this,this.U.W),80386<=this.model&&(this.Qa.restore(b[7]),this.Ta.restore(b[8])),
d=!0);b=a[2];this.Oa=null!=b[0]&&Xg(this,b[0])||this.Ha;this.Xb=null!=b[1]&&Xg(this,b[1])||this.U;this.O=b[2];this.ba=b[3];this.La=b[4];this.C=b[5];this.F=b[6];b=a[3];this.ue=b[1];Ke(this,b[2]);null!=b[3]&&0!==this.flags.Ue&&(this.flags.Ue=b[3]||null);if(null!=b[4])for(a=b[4],b=0;b<a.length;b++)c=a[b],(e=Te(this,c[0]))&&(e[1]=c[1]);this.V&&(a=this.V,void 0!=a.Xa&&(b=18.2065*a.Xa,Od(a.ra,Yg.Qy,b&65535),Od(a.ra,Yg.Py,b>>>16),a.ra.Ob(Yg.Ry,0),a.Xa=void 0));return d};
function Xg(a,b){switch(b){case "CS":return a.ca;case "DS":return a.Ha;case "SS":return a.U;case "ES":return a.ka;case "NULL":return a.So;default:return[0,b,0,0,""]}}function Og(a){return a.ca.W}function Zg(a,b){null!=jg(a,kg(a),b)&&(a.O|=a.fh)}function $g(a,b){4294967296!==a.Ha.load(b)&&(a.O|=a.fh)}
function ig(a,b,c){var d=dg(a);4294967296!==a.U.load(b)&&(fg(a,d),a.U.Ee?(a.Zf=(a.U.Da>>>0)+(a.U.Fa>>>0),a.sl=(a.U.Da>>>0)+(a.U.ob>>>0)):(a.Zf=(a.U.Da>>>0)+(a.U.ob>>>0),a.sl=a.U.Da>>>0),a.Zf=Math.min(a.Zf,a.fd>>>0),a.sl=Math.min(a.sl,a.fd>>>0),c||(a.O|=4))}function ah(a,b){4294967296!==a.ka.load(b)&&(a.O|=a.fh)}function kg(a){return a.Z-a.ca.Da|0}function bh(a,b){a.Z=a.ca.Da+(b&a.S)|0}function ch(a,b){a.Z=b;a.Ro=(a.ca.Da>>>0)+(a.ca.ob>>>0)+1;a.Xa=a.ca.ac;80386<=a.model&&Ng(a)}
function jg(a,b,c,d){var e=a.ca;e.tj=b;e.G=d;b=e.load(c);return 4294967296!==b?(ch(a,b+(a.ca.tj&a.ca.S)),a.ca.uh):null}function dh(a,b){var c=(a.Z>>>0)+b;c>a.Ro&&(8088>=a.model?(c=a.ca.Da+(c-a.Ro&a.S),2==b&&(a.O|=8)):eh.call(a,13,0));return c|0}function fh(a,b){(void 0===b?0:b)&&a.ba&16&&8088>=a.model&&a.ba&16384&&a.P&512||(a.O|=256,a.Z=a.xd)}function dg(a){return a.gd&~a.U.Fa|a.Ma-a.U.Da}function fg(a,b){a.gd=b;a.Ma=a.U.Da+(b&a.U.Fa)|0}
function gh(a,b,c,d,e,f){if(63!=(e&63)&&e!=a.resultType){var g=(e^a.resultType)&a.resultType;g&&(g&1&&hh(a),g&2&&ih(a),g&4&&jh(a),g&8&&kh(a),g&16&&lh(a),g&32&&mh(a))}f?(a.tf=d,a.Te=b):(a.tf=b,a.Te=d);a.If=c;a.uf=d;a.resultType=e}function nh(a,b,c,d,e){a.resultType=c|26;a.uf=b;d?oh(a):ph(a);e?qh(a):rh(a);sh(a);return b}function th(a,b,c,d){c&d?oh(a):ph(a);(b^c)&d?qh(a):rh(a)}function uh(a){return hh(a)?1:0}
function hh(a){a.resultType&1&&(a.P&=-2,(a.tf^(a.tf^a.If)&(a.If^a.Te))&a.resultType&-2147450752&&(a.P|=1),a.resultType&=-2);return a.P&1}function ih(a){a.resultType&2&&(a.P&=-5,38505>>((a.uf^a.uf>>4)&15)&1&&(a.P|=4),a.resultType&=-3);return a.P&4}function jh(a){a.resultType&4&&(a.P&=-17,(a.Te^a.tf^a.If)&16&&(a.P|=16),a.resultType&=-5);return a.P&16}function kh(a){a.resultType&8&&(a.P&=-65,a.uf&((a.resultType&-2147450752)-1|a.resultType&-2147450752)||(a.P|=64),a.resultType&=-9);return a.P&64}
function lh(a){a.resultType&16&&(a.P&=-129,a.uf&a.resultType&-2147450752&&(a.P|=128),a.resultType&=-17);return a.P&128}function mh(a){a.resultType&32&&(a.P&=-2049,(a.tf^a.Te)&(a.If^a.Te)&a.resultType&-2147450752&&(a.P|=2048),a.resultType&=-33);return a.P&2048}function ph(a){a.resultType&=-2;a.P&=-2}function sh(a){a.resultType&=-5;a.P&=-17}function vh(a){a.resultType&=-9;a.P&=-65}function rh(a){a.resultType&=-33;a.P&=-2049}function oh(a){a.resultType&=-2;a.P|=1}
function wh(a){a.resultType&=-5;a.P|=16}function xh(a){a.resultType&=-9;a.P|=64}function qh(a){a.resultType&=-33;a.P|=2048}function Pg(a){return a.P&-2262|hh(a)|ih(a)|jh(a)|kh(a)|lh(a)|mh(a)}function yh(a,b){b|=a.ta&1|65520;a.ta=a.ta&-65536|b&65535;a.ta&1&&mg(a,!0)}function lg(a,b,c){a.ta&1||(b&=~a.uu);void 0===c&&(c=a.Xa);c?b=b&-12289|a.P&12288:a.Kc=(b&12288)>>12;c>a.Kc&&(b=b&-513|a.P&512);a.resultType=128;a.P=a.P&~(a.Me|2261)|b&(a.Me|2261)|a.vu;a.P&256&&(a.La|=2,a.O|=4)}
function zh(a,b,c,d){var e=0;if(a.ta&1&&(a.Xa>a.Kc||a.P&131072)&&a.la.Qr){var f=a.la.Qr+(b>>>3);for(e=(1<<c)-1<<(b&7);e&&f<=a.la.xz&&!(a.Ia(f)&e);)e>>>=8,f++}return e?(a.J(65,"checkIOPM(%#06x,%d,%s): trapped\n",b,c,d?"input":"output"),eh.call(a,13,0),!1):!0}
m.Sb=function(a,b,c){switch(b){case "EAX":case "EBX":case "ECX":case "EDX":case "ESP":case "EBP":case "ESI":case "EDI":case "EIP":case "AX":case "BX":case "CX":case "DX":case "SP":case "BP":case "SI":case "DI":case "IP":case "PC":case "CS":case "DS":case "SS":case "ES":case "FS":case "GS":case "CR0":case "CR2":case "CR3":case "PS":case "C":case "P":case "A":case "Z":case "S":case "T":case "I":case "D":case "V":this.oa[b]=c;this.$p++;a=!0;break;default:a=xe.prototype.Sb.call(this,a,b,c)}return a};
function Ah(a,b,c,d){var e=(d?a.Oc:a.X)[(b&a.fd)>>>a.jb];e&&e.type==od.Ri&&(e=ue(a,b,!1,!0));if(e){var f=b&a.Eb;if(!c||1==c)return e.dg(f,b);if(2==c)return f<a.Eb?e.wj(f,b):e.dg(f,b)|Ah(a,b+1,1,d)<<8;if(4==c)return f<a.Eb-2?e.Ko(f,b):f==a.Eb-1?e.wj(f,b)|Ah(a,b+2,2,d)<<16:e.dg(f,b)|Ah(a,b+1,1,d)<<8|Ah(a,b+2,1,d)<<16|Ah(a,b+3,1,d)<<24}return null}m.Ia=function(a){return this.X[(a&this.fd)>>>this.jb].sd(a&this.Eb,a)};
m.qa=function(a){var b=a&this.Eb,c=(a&this.fd)>>>this.jb;this.A-=this.B.rl;if(b<this.Eb)return this.X[c].vj(b,a);b=this.X[c].sd(b,a);this.O&4096||(b|=this.X[c+1&this.Rf].sd(0,a+1)<<8);return b};m.na=function(a){var b=a&this.Eb,c=(a&this.fd)>>>this.jb;if(b<this.Eb-2)return this.X[c].Ff(b,a);for(var d=0,e=4,f=0,g=4-(b&3);e--;){d|=this.X[c].sd(b++,a++)<<f;if(this.O&4096)break;--g||(c=c+1&this.Rf,b=0);f+=8}return d};m.Ob=function(a,b){this.X[(a&this.fd)>>>this.jb].Uc(a&this.Eb,b&255,a)};
m.Db=function(a,b){var c=a&this.Eb,d=(a&this.fd)>>>this.jb;this.A-=this.B.rl;c<this.Eb?this.X[d].Jh(c,b&65535,a):(this.X[d++].Uc(c,b&255,a),this.O&4096||this.X[d&this.Rf].Uc(0,b>>8&255,a+1))};m.Cb=function(a,b){var c=a&this.Eb,d=(a&this.fd)>>>this.jb;this.A-=this.B.rl;if(c<this.Eb-2)this.X[d].Dj(c,b,a);else for(var e=4,f=4-(c&3);e--;){this.X[d].Uc(c++,b&255,a++);if(this.O&4096)break;--f||(d=d+1&this.Rf,c=0);b>>>=8}};function Bh(a,b,c){a.Ja=b;a.Va=c&a.Fa;a.C=b.Ub(a.Va,1);return a.O&1?0:a.Ia(a.C)}
function A(a,b){return Bh(a,a.Oa,b)}function Dh(a,b){return Bh(a,a.Xb,b)}function Eh(a,b,c){a.Ja=b;a.Va=c&a.Fa;a.C=b.Ub(a.Va,a.Y);if(a.O&9){if(a.O&1)return 0;a=a.Ia(a.C)|a.Ia(b.Ub(0,1))<<8}else a=a.Nb(a.C);return a}function C(a,b){a.Ja=a.Oa;a.Va=b&a.Fa;a.C=a.Ja.Ub(a.Va,2);if(a.O&9){if(a.O&1)return 0;b=a.Ia(a.C)|a.Ia(a.Ja.Ub(0,1))<<8;a.O&=-9}else b=a.qa(a.C);return b}
function Fh(a,b){a.Ja=a.Xb;a.Va=b&a.Fa;a.C=a.Ja.Ub(a.Va,2);if(a.O&9){if(a.O&1)return 0;b=a.Ia(a.C)|a.Ia(a.Ja.Ub(0,1))<<8;a.O&=-9}else b=a.qa(a.C);return b}function D(a,b){a.Ja=a.Oa;a.Va=b&a.Fa;a.C=a.Ja.Ub(a.Va,4);return a.O&1?0:a.na(a.C)}function Gh(a,b){a.Ja=a.Oa;a.Va=b&a.Fa;a.F=a.C=a.Ja.Ub(a.Va,4);return a.O&1?0:a.na(a.C)}function Hh(a,b){a.Ja=a.Xb;a.Va=b&a.Fa;a.C=a.Ja.Ub(a.Va,4);return a.O&1?0:a.na(a.C)}function Ih(a,b){a.Ja=a.Xb;a.Va=b&a.Fa;a.F=a.C=a.Ja.Ub(a.Va,4);return a.O&1?0:a.na(a.C)}
function Jh(a,b){a.O&2||a.Ob(a.Ja.yc(a.Va,1),b)}function Kh(a,b){if(!(a.O&2)){var c=a.Ja.yc(a.Va,2);a.O&8?(a.Ob(c,b),a.Ob(a.Ja.yc(0,1),b>>8),a.O&=-9):a.Db(c,b)}}function Lh(a,b){a.O&2||a.Cb(a.Ja.yc(a.Va,4),b)}function Mh(a,b,c){c=b.Ub(c,a.Y);a.O&8?(b=a.Ia(c)|a.Ia(b.Ub(0,1))<<8,a.O&=-9):b=a.Nb(c);return b}function Nh(a,b,c,d){c=b.yc(c,a.Y);a.O&8?(a.Ob(c,d),a.Ob(b.yc(0,1),d>>8),a.O&=-9):a.wc(c,d)}m.Aa=function(){var a=dh(this,1),b=this.Ia(this.Z);this.Z=a;return b};
function Oh(a){var b=dh(a,2);if(a.O&8){var c=a.Ia(a.Z)|a.Ia(b-1)<<8;a.O&=-9}else c=a.qa(a.Z);a.Z=b;return c}function F(a){var b=dh(a,a.jd);if(a.O&8){var c=a.Ia(a.Z)|a.Ia(b-1)<<8;a.O&=-9}else c=a.Ac(a.Z);a.Z=b;return c}m.Ua=function(){var a=dh(this,this.Y);if(this.O&8){var b=this.Ia(this.Z)|this.Ia(a-1)<<8;this.O&=-9}else b=this.Nb(this.Z);this.Z=a;return b};m.T=function(){var a=dh(this,1),b=this.Ia(this.Z)<<24>>24;this.Z=a;return b};
function Ph(a){var b=a.Nb(a.Ma);a.Ma=a.Ma+a.Y|0;var c=a.Zf-(a.Ma>>>0);0>c&&(8088>=a.model?(fg(a,a.Ma-a.U.Da&a.U.Fa),-1>c&&(b=b&255|a.Ia(a.Ma-1)<<8)):-1>c?eh.call(a,12,0):(!a.U.Ee&&a.U.ob==a.U.Fa||a.U.Ee&&!a.U.ob)&&fg(a,a.Ma-a.U.Da&a.U.Fa));return b}function Qh(a,b){Rh(a,b,a.Y)}
function Rh(a,b,c,d){d=void 0===d?c:d;var e=a.Ma-c|0,f=(e>>>0)-a.sl;if(0>f){if(8088>=a.model&&-1==f){a.Ob(e+1,b>>8);fg(a,e-a.U.Da&a.U.Fa);a.Ob(a.Ma,b);return}if(!a.U.Ee&&a.U.ob==a.U.Fa||a.U.Ee&&!a.U.ob){if(f>-c){eh.call(a,12,0);return}fg(a,e-a.U.Da&a.U.Fa);e=a.Ma}else{eh.call(a,12,0);return}}switch(d){case 1:a.Ob(e,b);break;case 2:a.Db(e,b);break;case 4:a.Cb(e,b)}a.Ma=e}
function Sh(a,b,c){var d=4;1==b.length&&(d=1,c=c?1:0);if(80386>a.model)2<b.length&&(b=b.substr(1,2));else if("PS"==b||2<b.length)d=8;a.oa[b]&&(void 0===c&&(yc(a,"Value for "+b+" is invalid"),Fe(a)),d=!a.flags.vb||a.flags.fs?Xa(c,d):"--------".substr(0,d),a.oa[b].textContent!=d&&(a.oa[b].textContent=d))}
m.Dm=function(a){this.flags.complete=!0;var b=void 0!=this.fa&&Th(this.fa);this.La=(this.flags.Fn=b)?this.La|16:this.La&-17;b=a?this.flags.Qo?0:1:-1;this.flags.Qo=!1;this.be=this.A=a;this.V&&!a&&We(this.V);a||v(this,262144)||(this.O|=4);do{var c=this.O&3312;if(c)this.ba|=c;else if(this.xd=this.Z,this.Oa=this.Ha,this.Xb=this.U,this.C=this.F=4294967296,this.ba&3072&&Ng(this),this.ba=this.O&16640,this.La){a:{if(!(this.O&4)){c=80286>this.model?0:1;for(var d=0;2>d;d++){switch(c){case 0:if(this.La&1&&this.P&
512){var e=Uh(this.V);if(-1<=e&&(this.La&=-2,0<=e)){this.La&=-5;hi.call(this,e);c=!0;break a}}break;case 1:if(this.La&2){this.La&=-3;80386<=this.model&&(this.mc[6]|=16384);hi.call(this,1);c=!0;break a}}c=1-c}}c=!1}if(c&&!a){this.J("interrupt dispatched\n");this.O=0;break}if(this.La&4){ii.call(this);continue}if(this.La&16){if(ji(this.fa,this.Z,b)){Fe(this);break}b=1}}this.O=0;this.va[this.Aa()].call(this)}while(0<this.A);return this.flags.complete?this.be-this.A:void 0===this.flags.complete?0:-1};
var Yf=512;Vb(function(){for(var a=pc("pcx86","cpu"),b=0;b<a.length;b++){var c=a[b],d=qc(c);d=new gf(d);oc(d,c)}});
function ki(a){dc.call(this,"FPU",a);this.model=this.Go.model||8087;this.F=new Float64Array(8);this.M=new Int32Array(this.F.buffer);this.X=new Float32Array(1);this.ia=new Int32Array(this.X.buffer);this.L=new Float64Array(1);this.H=new Int32Array(this.L.buffer);this.D=Array(3);this.N=this.O=-1;this.I=this.K=this.P=this.A=0;this.U=new Float64Array(1);this.Z=new Int32Array(this.U.buffer);this.Z[0]=0;this.Z[1]=268402688;this.eg();this.ca=ki.prototype.Po;this.ba=ki.prototype.ru}oa(ki,dc);m=ki.prototype;
m.bd=function(a,b,c){this.G=c;this.V=Yc(a,"ChipSet");Cc(this)};m.Gc=function(a,b){if(!b)if(!a||!this.restore)this.eg();else if(!this.restore(a))return!1;return!0};m.Fc=function(a){return a?this.save():!0};m.save=function(){var a=new Wg(this),b=[],c=0;b[c++]=this.xc;b[c++]=li(this);b[c++]=mi(this);for(var d=0;d<this.F.length;d++)b[c++]=this.F[d];a.set(0,b);return a.data()};
m.restore=function(a){a=a[0];var b=0;this.xc=a[b++]&-57409;var c=a[b++];this.ha=c&-14337;this.B=(c&14336)>>11;ni(this);oi(this,a[b++]);for(c=0;c<this.F.length;c++)this.F[c]=a[b++];return!0};m.eg=function(){this.C=0;this.xc=959;this.B=this.ha=0;if(this.V){var a=this.V;a.model>=pi&&qi(a,ri.md)}};function ni(a){a.ha&=-129;a.ha&~a.xc&63&&(a.ha|=128);if(a.ha&128&&!(a.xc&128))return a=a.V,a.model>=pi?si(a,ri.md):a.I&ti.Nf&&hi.call(a.G,2),!0;a=a.V;a.model>=pi&&qi(a,ri.md);return!1}
function ui(a,b){80387<=a.model||(b&=-65);a.ha|=b;return ni(a)}function li(a){return a.ha|a.B<<11}function vi(a,b){return isFinite(b)?!0:!ui(a,Infinity===b?8:16)}function wi(a,b,c){var d=null;null!=b&&null!=c&&(d=b+c,vi(a,d)||(d=null));return d}function xi(a,b,c){var d=null;null!=b&&null!=c&&(d=b-c,vi(a,d)||(d=null));return d}function yi(a,b,c){var d=null;null!=b&&null!=c&&(d=b*c,vi(a,d)||(d=null));return d}
function zi(a,b,c){var d=null;null==b||null==c||!c&&ui(a,2)||(d=b/c,vi(a,d)||(d=null));return d}function Ai(a,b,c){if(null!=b&&null!=c){var d=0;isNaN(b)||isNaN(c)?d=17664:(b-=c,0>b?d=256:0===b&&(d=16384));a.ha=a.ha&-18177|d;return!0}return!1}
function Bi(a,b,c){if(null==b)return null;var d=a.xc&3072;0==d?(d=Math.round(b),.5===d-b&&d%2&&d--):d=1024==d||3072==d&&0<b?Math.floor(b):Math.ceil(b);if(c){if(d>=c){if(ui(a,1))return null;d=-c}else if(d<-c){if(ui(a,1))return null;d=-c}a.H[0]=d|0;c>Ci&&(a.H[1]=d/4294967296|0,!a.H[1]&&0>d&&(a.H[1]=-1))}return d}function Di(a,b){var c=3;a.C&1<<b&&(a=a.F[b],c=0,0===a?c=1:isFinite(a)||(c=2));return c}function mi(a){for(var b=0,c=a.F.length-1;0<=c;c--)b<<=2,b|=Di(a,c);return b}
function oi(a,b){a.C=0;for(var c=1;128>=c;c<<=1)3!=(b&3)&&(a.C|=c),b>>=2}function Ei(a){var b=a.B+0&7;return a.C&1<<b?(a.X[0]=a.F[b],!0):ui(a,1)?!1:(a.X[0]=a.U[0],!0)}function Fi(a){var b=a.B+0&7;return a.C&1<<b?(a.L[0]=a.F[b],!0):ui(a,1)?!1:(a.L[0]=a.U[0],!0)}function H(a,b){var c=null;b=a.B+b&7;a.C&1<<b?c=a.F[b]:ui(a,1)||(c=a.U[0]);return c}function Gi(a,b,c){return null!=c&&(isNaN(c)?!ui(a,1):1)?(b=a.B+b&7,a.F[b]=c,a.C|=1<<b,!0):!1}
function Hi(a,b,c){var d=null;b=a.B+b&7;if(c||a.C&1<<b||!ui(a,1))c=b<<1,d=Ii(a,a.M[c],a.M[c+1]);return d}function Ji(a){return a.G.qa(a.G.C)<<16>>16}function Ki(a){return a.G.na(a.G.C)}function Li(a){a.ia[0]=a.G.na(a.G.C);return a.X[0]}function Mi(a){a.H[0]=a.G.na(a.G.C);a.H[1]=a.G.na(a.G.C+4);return a.L[0]}function Ni(a){a.D[0]=a.G.na(a.G.C);a.D[1]=a.G.na(a.G.C+4);a.D[2]=a.G.qa(a.G.C+8);return a.D}m.Po=function(){this.G.Cb(this.G.C,this.H[0])};
m.ru=function(){this.G.Cb(this.G.C,this.H[0]);this.G.Cb(this.G.C+4,this.H[1])};function Oi(a){a.G.Cb(a.G.C,a.D[0]);a.G.Cb(a.G.C+4,a.D[1]);a.G.Db(a.G.C+8,a.D[2])}function Pi(a,b){var c=b[1],d=(b[2]&32768)>>4,e=b[2]&32767;b=b[0]>>>11|c<<21;c=c>>11&1048575;32767==e?e=2047:e&&(e+=-15360,0>=e&&(e=2047,b=c=0));a.H[0]=b;a.H[1]=c|(d|e)<<20;return a.L[0]}
function Ii(a,b,c){var d=c>>20&2047,e=2147483648|(c&1048575)<<11|b>>>21;2047==d?d=32767:d?d+=15360:e&=2147483647;a.D[0]=b<<11;a.D[1]=e;a.D[2]=c>>16&32768|d;return a.D}function Qi(a,b){for(var c=0,d=1;b--;)c+=(a&15)*d,d*=10,a>>=4;return c}function Ri(a,b){for(var c=0,d=0;b--;)c|=a%10<<d,a/=10,d+=4;return c}function Si(a){var b=null,c=1<<a.B;if(!(a.C&c)&&(a.ha&=-513,ui(a,65)))return b;a.C&=~c;b=a.F[a.B];a.B=a.B+1&7;return b}
function Ti(a,b){if(null!=b){var c=a.B-1&7,d=1<<c;if(a.C&d&&(a.ha|=512,ui(a,65)))return;if(isNaN(b)&&ui(a,1)){if(ui(a,1))return;b=NaN}a.F[a.B=c]=b;a.C|=d}}
function Ui(a,b){var c=a.G;var d=c.Nb(b);a.xc=d&-57409;d=c.Nb(b+=c.Y);a.ha=d&-14337;a.B=(d&14336)>>11;ni(a);oi(a,c.Nb(b+=c.Y));!(c.ta&1)||c.P&131072?(a.I=c.Nb(b+=c.Y),d=c.Nb(b+=c.Y),a.P=d&2047,a.I|=(d&-4096)<<4,a.N=-1,a.K=c.Nb(b+=c.Y),a.K|=(c.Nb(b+=c.Y)&-4096)<<4,a.O=-1):(a.I=c.Nb(b+=c.Y),d=c.Nb(b+=c.Y),a.N=d&65535,a.P=d>>16&2047,a.K=c.Nb(b+=c.Y),a.O=c.Nb(b+=c.Y)&65535);return b+c.Y}
function Vi(a,b){var c=a.G;c.wc(b,a.xc);c.wc(b+=c.Y,li(a));c.wc(b+=c.Y,mi(a));if(!(c.ta&1)||c.P&131072){var d=(a.N<<4)+a.I;c.wc(b+=c.Y,d);c.wc(b+=c.Y,d>>4&-4096|a.P);d=(a.O<<4)+a.K;c.wc(b+=c.Y,d);c.wc(b+=c.Y,d>>4&-4096)}else c.wc(b+=c.Y,a.I),c.wc(b+=c.Y,a.N|a.P<<16),c.wc(b+=c.Y,a.K),c.wc(b+=c.Y,a.O);return b+c.Y}var Wi=Math.log(10)/Math.LN2,Xi=Math.LOG2E,Yi=Math.PI,Zi=Math.log(2)/Math.LN10,$i=Math.LN2,Ci=2147483648,aj=Math.pow(2,63);function bj(){this.ha&=-32896;ni(this)}
function cj(){Ai(this,H(this,0),H(this,this.A))}function dj(){Ai(this,H(this,0),H(this,this.A))&&Si(this)}function ej(){dj.call(this)}function fj(){Gi(this,0,zi(this,H(this,0),Li(this)))}function gj(){this.C&=~(1<<this.B)}function hj(){this.eg()}function ij(){this.xc=this.G.qa(this.G.C)&-57409}function jj(){Ui(this,this.G.C)}function kj(){for(var a=this.G,b=Ui(this,a.C),c=this.D,d=0;d<this.F.length;d++)c[0]=a.na(b),c[1]=a.na(b+=4),c[2]=a.qa(b+=4),c&&Gi(this,d,Pi(this,c)),b+=2}
function lj(){for(var a=this.G,b=Vi(this,a.C),c=0;c<this.F.length;c++){var d=Hi(this,c,!0);a.Cb(b,d[0]);a.Cb(b+=4,d[1]);a.Db(b+=4,d[2]);b+=2}this.eg()}function mj(){Vi(this,this.G.C);this.xc|=63}function nj(){Gi(this,this.A,H(this,0))&&Si(this)}function oj(){nj.call(this)}function pj(){this.G.Db(this.G.C,this.xc)}function qj(){this.G.Db(this.G.C,li(this))}function rj(){80287<=this.model&&(this.G.D=this.G.D&-65536|li(this))}
function sj(){var a=H(this,0);Gi(this,0,H(this,this.A));Gi(this,this.A,a)}function tj(){sj.call(this)}
var uj={216:{0:function(){Gi(this,0,wi(this,H(this,0),Li(this)))},1:function(){Gi(this,0,yi(this,H(this,0),Li(this)))},2:function(){Ai(this,H(this,0),Li(this))},3:function(){Ai(this,H(this,0),Li(this))&&Si(this)},4:function(){Gi(this,0,xi(this,H(this,0),Li(this)))},5:function(){Gi(this,0,xi(this,Li(this),H(this,0)))},6:fj,7:fj,48:function(){Gi(this,0,wi(this,H(this,0),H(this,this.A)))},49:function(){Gi(this,0,yi(this,H(this,0),H(this,this.A)))},50:cj,51:dj,52:function(){Gi(this,0,xi(this,H(this,0),
H(this,this.A)))},53:function(){Gi(this,0,xi(this,H(this,this.A),H(this,0)))},54:function(){Gi(this,0,zi(this,H(this,0),H(this,this.A)))},55:function(){Gi(this,0,zi(this,H(this,this.A),H(this,0)))}},217:{0:function(){Ti(this,Li(this))},2:function(){Ei(this)&&this.ca()},3:function(){Ei(this)&&(this.ca(),Si(this))},4:jj,5:ij,6:mj,7:pj,48:function(){Ti(this,H(this,this.A))},49:sj,50:function(){},51:oj,64:function(){Gi(this,0,-H(this,0))},65:function(){Gi(this,0,Math.abs(H(this,0)))},68:function(){Ai(this,
H(this,0),0)},69:function(){this.ha&=-18177;this.M[((this.B+0&7)<<1)+1]&-2147483648&&(this.ha|=512);if(3==Di(this,this.B))this.ha|=16640;else{var a=H(this,0);this.ha=isNaN(a)?this.ha|256:0===a?this.ha|16384:Infinity===a||-Infinity===a?this.ha|1280:this.ha|1024}},80:function(){Ti(this,1)},81:function(){Ti(this,Wi)},82:function(){Ti(this,Xi)},83:function(){Ti(this,Yi)},84:function(){Ti(this,Zi)},85:function(){Ti(this,$i)},86:function(){Ti(this,0)},96:function(){Gi(this,0,Math.pow(2,H(this,0))-1)},97:function(){Gi(this,
1,H(this,1)*Math.log(H(this,0))/Math.LN2)&&Si(this)},98:function(){Gi(this,0,Math.tan(H(this,0)))&&Ti(this,1)},99:function(){Gi(this,1,Math.atan2(H(this,1),H(this,0)))&&Si(this)},100:function(){var a=H(this,0);null!=a&&(this.L[0]=a,Gi(this,0,(this.H[1]>>20&2047)-1023),this.H[1]=(this.H[1]|1072693248)&-1073741825,Ti(this,this.L[0]))},102:function(){this.B=this.B-1&7;this.ha&=-513},103:function(){this.B=this.B+1&7;this.ha&=-513},112:function(){Gi(this,0,H(this,0)%H(this,1))},113:function(){Gi(this,
1,H(this,1)*Math.log(H(this,0)+1)/Math.LN2)&&Si(this)},114:function(){var a=H(this,0),b=null;if(0<=a||!ui(this,1))b=Math.sqrt(a),vi(this,b)||(b=null);Gi(this,0,b)},116:function(){Gi(this,0,Bi(this,H(this,0),aj))},117:function(){var a=H(this,0),b=H(this,1);null!=a&&null!=b&&Gi(this,0,a*Math.pow(2,0<b?Math.floor(b):Math.ceil(b)))}},218:{0:function(){Gi(this,0,wi(this,H(this,0),Ki(this)))},1:function(){Gi(this,0,yi(this,H(this,0),Ki(this)))},2:function(){Ai(this,H(this,0),Ki(this))},3:function(){Ai(this,
H(this,0),Ki(this))&&Si(this)},4:function(){Gi(this,0,xi(this,H(this,0),Ki(this)))},5:function(){Gi(this,0,xi(this,Ki(this),H(this,0)))},6:function(){Gi(this,0,zi(this,H(this,0),Ki(this)))},7:function(){Gi(this,0,zi(this,Ki(this),H(this,0)))}},219:{0:function(){Ti(this,Ki(this))},2:function(){null!=Bi(this,H(this,0),Ci)&&this.Po()},3:function(){null!=Bi(this,H(this,0),Ci)&&(this.Po(),Si(this))},5:function(){Ti(this,Pi(this,Ni(this)))},7:function(){Hi(this,0)&&(Oi(this),Si(this))},64:function(){8087==
this.model&&(this.xc&=-129)},65:function(){8087==this.model&&(this.xc|=128)},66:bj,67:hj,68:function(){},115:function(){}},220:{0:function(){Gi(this,0,wi(this,H(this,0),Mi(this)))},1:function(){Gi(this,0,yi(this,H(this,0),Mi(this)))},2:function(){Ai(this,H(this,0),Mi(this))},3:function(){Ai(this,H(this,0),Mi(this))&&Si(this)},4:function(){Gi(this,0,xi(this,H(this,0),Mi(this)))},5:function(){Gi(this,0,xi(this,Mi(this),H(this,0)))},6:function(){Gi(this,0,zi(this,H(this,0),Mi(this)))},7:function(){Gi(this,
0,zi(this,Mi(this),H(this,0)))},48:function(){Gi(this,this.A,wi(this,H(this,this.A),H(this,0)))},49:function(){Gi(this,this.A,yi(this,H(this,this.A),H(this,0)))},50:function(){cj.call(this)},51:ej,52:function(){Gi(this,this.A,xi(this,H(this,0),H(this,this.A)))},53:function(){Gi(this,this.A,xi(this,H(this,this.A),H(this,0)))},54:function(){Gi(this,this.A,zi(this,H(this,0),H(this,this.A)))},55:function(){Gi(this,this.A,zi(this,H(this,this.A),H(this,0)))}},221:{0:function(){Ti(this,Mi(this))},2:function(){Fi(this)&&
this.ba()},3:function(){Fi(this)&&(this.ba(),Si(this))},4:kj,6:lj,7:qj,48:gj,49:tj,50:function(){Gi(this,this.A,H(this,0))},51:nj},222:{0:function(){Gi(this,0,wi(this,H(this,0),Ji(this)))},1:function(){Gi(this,0,yi(this,H(this,0),Ji(this)))},2:function(){Ai(this,H(this,0),Ji(this))},3:function(){Ai(this,H(this,0),Ji(this))&&Si(this)},4:function(){Gi(this,0,xi(this,H(this,0),Ji(this)))},5:function(){Gi(this,0,xi(this,Ji(this),H(this,0)))},6:function(){Gi(this,0,zi(this,H(this,0),Ji(this)))},7:function(){Gi(this,
0,zi(this,Ji(this),H(this,0)))},48:function(){Gi(this,this.A,wi(this,H(this,this.A),H(this,0)))&&Si(this)},49:function(){Gi(this,this.A,yi(this,H(this,this.A),H(this,0)))&&Si(this)},50:ej,51:function(){Ai(this,H(this,0),H(this,1))&&null!=Si(this)&&Si(this)},52:function(){Gi(this,this.A,xi(this,H(this,0),H(this,this.A)))&&Si(this)},53:function(){Gi(this,this.A,xi(this,H(this,this.A),H(this,0)))&&Si(this)},54:function(){Gi(this,this.A,zi(this,H(this,0),H(this,this.A)))&&Si(this)},55:function(){Gi(this,
this.A,zi(this,H(this,this.A),H(this,0)))&&Si(this)}},223:{0:function(){Ti(this,Ji(this))},2:function(){null!=Bi(this,H(this,0),32768)&&this.G.Db(this.G.C,this.H[0])},3:function(){null!=Bi(this,H(this,0),32768)&&(this.G.Db(this.G.C,this.H[0]),Si(this))},4:function(){var a=Ni(this),b=Qi(a[0],8)+1E8*Qi(a[1],8)+1E16*Qi(a[2],2);a[2]&32768&&(b=-b);Ti(this,b)},5:function(){var a=this.G.na(this.G.C);a=4294967296*this.G.na(this.G.C+4)+(a>>>0);Ti(this,a)},6:function(){var a=Bi(this,Si(this));null!=a&&(this.D[0]=
Ri(a,8),this.D[1]=Ri(a/1E8,8),this.D[2]=Ri(a/1E16,2),0>a&&(this.D[2]|=32768),Oi(this))},7:function(){null!=Bi(this,H(this,0),aj)&&(this.ru(),Si(this))},48:function(){gj.call(this);Si(this)},49:tj,50:oj,51:oj,52:rj}},vj=[bj,hj,ij,jj,kj,lj,pj,mj,qj,rj];Vb(function(){for(var a=pc("pcx86","fpu"),b=0;b<a.length;b++){var c=a[b],d=qc(c);d=new ki(d);oc(d,c)}});
function gg(a,b,c,d){this.jc=a;this.id=b;this.zj=c||"";this.W=0;this.ob=65535;this.oc=this.ob+1;this.ac=this.ad=this.ext=this.Pb=this.type=this.Da=0;this.uc=4294967296;this.Y=this.jd=2;this.S=this.Fa=65535;this.H=this.Mn;this.F=this.D=this.Rk;this.A={W:-1,Da:0,ob:0,Pb:0,type:0,ext:0,uc:4294967296};1==this.id&&(this.tj=0,this.G=null,this.uh=!1,this.C=Array(32),this.B=[]);Vg(this,!0,d);0==this.id&&(this.yc=this.Ub=this.cs)}function wj(a,b){a.B.push(b);return[a.B.length,xj]}m=gg.prototype;
m.Mn=function(a){this.W=a&65535;return this.Da=this.W<<4};m.il=function(a,b){var c=this.jc;a&=65535;if(a&4){var d=c.Fb.Da;var e=d+c.Fb.ob|0}else d=c.Tb,e=c.vd;if(d){d=d+(a&65528)|0;if(e-d|0)return c.A-=15,yj(this,d,a,b);this.id<hg.Fk&&eh.call(c,b&&this.id==hg.hn?10:13,a&65532)}return 4294967296};m.PA=function(a,b){var c=this.jc;if(c.fa&&zj(c.fa,a,void 0===b?0:b,!1))return 4294967296;a=c.Zb+(a<<2);b=c.qa(a);c.P&=-769;return this.load(c.qa(a+2))+b|0};
m.OA=function(a,b){var c=this.jc;if(c.fa&&zj(c.fa,a,void 0===b?0:b,!0))return 4294967296;a<<=3;b=c.Zb+a|0;if(7<=(c.$d-b|0))return this.G=!0,c=yj(this,b,a),4294967296!==c&&(c+=this.tj),c;eh.call(c,13,a|2);return 4294967296};m.cs=function(a){return this.Da+a|0};m.Rk=function(a,b){(a>>>0)+b>this.oc&&(8088>=this.jc.model?this.jc.O|=8:eh.call(this.jc,13));return this.Da+a|0};m.$r=function(a,b){return(a>>>0)+b<=this.oc?this.Da+a|0:this.Qk(a,b)};
m.Bz=function(a,b){return(a>>>0)+b>this.oc?this.Da+a|0:this.Qk(a,b)};m.Qk=function(){eh.call(this.jc,13,0);return 4294967296};m.ds=function(a,b){return(a>>>0)+b<=this.oc?this.Da+a|0:this.Sk(a,b)};m.Cz=function(a,b){return(a>>>0)+b>this.oc?this.Da+a|0:this.Sk(a,b)};m.Sk=function(){eh.call(this.jc,13,0);return 4294967296};function Aj(a,b,c,d,e){a.W=b;a.Da=d;a.ob=e;a.oc=(e>>>0)+1;a.Pb=c;a.type=c&7936;a.ext=c>>16&192;a.uc=(b&4?a.jc.Fb.Da:a.jc.Tb)+(b&65528)|0;a.id<hg.Dk&&Vg(a,!0)}
function Bj(a,b,c){var d=a.jc,e=d.qa(b+2),f=d.qa(b)|(e&255)<<16;d=d.qa(b+4);a.W=c;a.Da=f;a.ob=d;a.oc=(d>>>0)+1;a.Pb=e;a.type=e&7936;a.ext=0;a.uc=b;a.id<hg.Dk&&Vg(a,!0)}
function yj(a,b,c,d){var e=a.jc;if(!d&&c===a.A.W)return a.W=c,a.Da=a.A.Da,a.ob=a.A.ob,a.oc=(a.A.ob>>>0)+1,a.Pb=a.A.Pb,a.type=a.A.type,a.ext=a.A.ext,a.uc=a.A.uc,a.A.W=-1,Vg(a,!0,!0,!1),a.Da;a.A.W=-1;var f=e.qa(b),g=e.qa(b+4),h=g&7936,k=e.qa(b+2)|(g&255)<<16,l=e.qa(b+6),p=c&65528;if(80386<=e.model){var n=f;k|=(l&65280)<<16;f|=(l&15)<<16;l&128&&(f=f<<12|4095)}var q;switch(a.id){case hg.Kp:var u=a.G;a.uh=!1;if(u&&c==xj&&a.B.length&&(q=a.B[a.tj-1])&&!q())return 4294967296;var y=c&3;var N=(g&24576)>>13;
q=-1;p||b>=e.Tb&&b<e.vd&&(h=0);if(6144<=h)null!=d?q=0:!1!==u?(h&1024?N<=a.ac&&(q=0):y<=a.ac&&N==a.ac&&(q=0),q||(c=c&-4|a.ac&3)):y>=a.ac&&(y>a.ac&&(q=Ph(e),ig(e,Ph(e),!0),fg(e,q),a.uh=!0),q=0);else{if(256==h||2304==h)return Cj(a,c,u)?a.Da:4294967296;if(1024==h){q=2;var E=0;y<a.ac&&(y=a.ac)}else if(3072==h)q=4,E=0,y<a.ac&&(y=a.ac);else if(1536==h)q=2,E=148224;else if(3584==h)q=4,E=148224;else if(1792==h)q=2,E=147712;else if(3840==h)q=4,E=147712;else if(1280==h)return Cj(a,k&65535,u)?a.Da:4294967296}0<
q&&!(g&32768)&&(q=0);if(0<q){p=a.ac;var G=b==e.Zb+c;if(y<=N&&(!G||0<=e.ed||p<=N)){b=k&65535;h&2048&&(f=n|l<<16);l=h=0;d=b&3;if(d<p){if(4294967296===a.il(b,!0))return 4294967296;l=e.la.Da;e.la.type&2048?(c=(d<<3)+4,n=4):(c=(d<<2)+2,n=2);h=e.qa(l+c+n);if(!h)return eh.call(e,10,h),4294967296;if(4294967296===e.U.il(h,!0))return 4294967296;l=2==n?e.qa(l+c):e.na(l+c)}c=e.P;e.P&=~E;c&131072&&mg(e,!0,!1);if(4294967296===a.il(b,!1))return 4294967296;Ig(e,q);a.tj=f;if(d<p){if(!0!==u)return 4294967296;q=dg(e);
f=0;for(g&=31;g--;)a.C[f++]=Mh(e,e.U,q),q+=2;u=e.U.W;g=dg(e);ig(e,h,!0);fg(e,l);c&131072&&(Ig(e,4),Rh(e,e.Ta.W,4,2),e.Ta.load(0),Rh(e,e.Qa.W,4,2),e.Qa.load(0),Rh(e,e.Ha.W,4,2),$g(e,0),Rh(e,e.ka.W,4,2),ah(e,0));Rh(e,u,e.Y,2);for(Qh(e,g);f;)Qh(e,a.C[--f]);a.uh=!0}return a.Da}}if(0!=q)return eh.call(e,13,c&65532|(G?2:0)),4294967296;if(!(g&32768))return eh.call(e,11,c&65532|(G?2:0)),4294967296;break;case hg.ea:if(p){if(4096>h||2048==(h&2560))return eh.call(e,13,c&65532),4294967296;if(!(g&32768))return eh.call(e,
11,c&65532),4294967296}break;case hg.hn:if(!p||4096>h||512!=(h&2560))return eh.call(e,13,c&65532),4294967296;if(!(g&32768))return eh.call(e,12,c&65532),4294967296;break;case hg.Dk:u=h&-513;if(!p||256!=u&&2304!=u)return eh.call(e,13,c&65532),4294967296;2304==u&&(a.Qr=k+e.qa(k+102)>>>0,a.xz=k+a.ob>>>0);break;case hg.Fk:if(!(h&4096)&&768<h&&2304!=h&&2816!=h)return 4294967296}d?(a.A.W=c,a.A.Da=k,a.A.ob=f,a.A.Pb=g,a.A.type=h,a.A.ext=l,a.A.uc=b):(a.W=c,a.Da=k,a.ob=f,a.oc=(f>>>0)+1,a.Pb=g,a.type=h,a.ext=
l,a.uc=b,Vg(a,!0,!0,!1));return k}
function Cj(a,b,c){var d=a.jc,e=a.ac,f=d.la.W,g=d.la.Da;if(!c){if(!(d.la.type&512))return eh.call(d,13,b&65532),!1;d.Db(d.la.uc+4,d.la.Pb&=-513)}if(4294967296===d.la.load(b))return!1;var h=d.la.Da;if(!1!==c){if(d.la.type&512)return eh.call(d,13,b&65532),!1;d.Db(d.la.uc+4,d.la.Pb|=512)}d.la.type=d.la.type&-513|d.la.Pb&512;256==d.la.type||768==d.la.type?(d.Db(g+14,kg(d)),d.Db(g+16,Pg(d)),d.Db(g+18,d.D),d.Db(g+20,d.I),d.Db(g+22,d.M),d.Db(g+24,d.H),d.Db(g+26,dg(d)),d.Db(g+28,d.N),d.Db(g+30,d.L),d.Db(g+
32,d.K),d.Db(g+34,d.ka.W),d.Db(g+36,d.ca.W),d.Db(g+38,d.U.W),d.Db(g+40,d.Ha.W),d.Fb.load(d.qa(h+42)),lg(d,d.qa(h+16)|(c?16384:0)),d.D=d.qa(h+18),d.I=d.qa(h+20),d.M=d.qa(h+22),d.H=d.qa(h+24),d.N=d.qa(h+28),d.L=d.qa(h+30),d.K=d.qa(h+32),d.ka.load(d.qa(h+34)),d.Ha.load(d.qa(h+40)),jg(d,d.qa(h+14),d.qa(h+36)),b=38,g=26,a.ac<e&&(g=(a.ac<<2)+2,b=g+2),ig(d,d.qa(h+b),!0),fg(d,d.qa(h+g))):(d.Cb(g+28,d.Lc),d.Cb(g+32,kg(d)),d.Cb(g+36,Pg(d)),d.Cb(g+40,d.D),d.Cb(g+44,d.I),d.Cb(g+48,d.M),d.Cb(g+52,d.H),d.Cb(g+
56,dg(d)),d.Cb(g+60,d.N),d.Cb(g+64,d.L),d.Cb(g+68,d.K),d.Cb(g+72,d.ka.W),d.Cb(g+76,d.ca.W),d.Cb(g+80,d.U.W),d.Cb(g+84,d.Ha.W),d.Cb(g+88,d.Qa.W),d.Cb(g+92,d.Ta.W),b=d.na(h+28),d.Lc=b,Bd(d),d.Fb.load(d.qa(h+96)),lg(d,d.na(h+36)|(c?16384:0)),d.D=d.na(h+40),d.I=d.na(h+44),d.M=d.na(h+48),d.H=d.na(h+52),d.N=d.na(h+60),d.L=d.na(h+64),d.K=d.na(h+68),d.ka.load(d.qa(h+72)),d.Ha.load(d.qa(h+84)),d.Qa.load(d.qa(h+88)),d.Ta.load(d.qa(h+92)),jg(d,d.na(h+32),d.qa(h+76)),b=80,g=56,a.ac<e&&(g=(a.ac<<3)+4,b=g+4),ig(d,
d.qa(h+b),!0),fg(d,d.na(h+g)));c&&d.Db(h+0,f);d.ta|=8;return!0}m.save=function(){return[this.W,this.Da,this.ob,this.Pb,this.id,this.zj,this.ac,this.ad,this.uc,this.jd,this.Fa,this.Y,this.S,this.type,this.oc]};
m.restore=function(a){"number"==typeof a?this.load(a):(this.W=a[0],this.Da=a[1],this.ob=a[2],this.Pb=a[3],this.id=a[4],this.zj=a[5],this.ac=a[6],this.ad=a[7],this.uc=a[8],this.jd=a[9]||2,this.Fa=a[10]||65535,this.Y=a[11]||2,this.S=a[12]||65535,this.type=a[13]||this.Pb&7936,this.oc=a[14]||(this.ob>>>0)+1)};
function Vg(a,b,c,d){void 0===c&&(c=!!(a.jc.ta&1));a.Ee=!1;if(c)if(a.load=a.il,a.Fs=a.OA,a.Ub=a.$r,a.yc=a.ds,void 0===d&&(d=!!(a.jc.P&131072)),d)a.load=a.H,a.Ub=a.D,a.yc=a.F,a.ac=a.ad=3,a.Y=a.jd=2,a.S=a.Fa=65535,a.ob=65535,a.oc=a.ob+1,a.uc=4294967296,a.uh=!1;else{if(!(a.W&-4))a.Ub=a.Qk,a.yc=a.Sk;else if(a.type&4096){6144==(a.type&6656)&&(a.Ub=a.Qk);if(a.type&2048||!(a.type&512))a.yc=a.Sk;1024==(a.type&3072)&&(a.Ub==a.$r&&(a.Ub=a.Bz),a.yc==a.ds&&(a.yc=a.Cz),a.Ee=!0);b&&a.id<hg.Fk&&a.W&-4&&4294967296!==
a.uc&&(c=a.uc+5,d=a.jc.Ia(c),d&1||a.jc.Ob(c,d|1))}b&&(a.ac=a.W&3,a.ad=(a.Pb&24576)>>13,80386>a.jc.model||!(a.ext&64)?(a.Y=2,a.S=65535):(a.Y=4,a.S=-1),a.jd=a.Y,a.Fa=a.S)}else a.load=a.Mn,a.Fs=a.PA,a.Ub=a.Rk,a.yc=a.Rk,a.ac=a.ad=0,a.uc=4294967296,a.uh=!1}var hg={Ax:0,Kp:1,ea:2,hn:3,Dk:4,Xw:5,Fk:6,Gv:7},xj=1;function Dj(a,b){var c=a+b+uh(this)|0;gh(this,a,b,c,191);this.A-=4294967296===this.F?4294967296===this.C?this.B.Qc:this.B.nc:this.B.rd;return c&255}
function Ej(a,b){var c=a+b+uh(this)|0;gh(this,a,b,c,this.Ib|63);this.A-=4294967296===this.F?4294967296===this.C?this.B.Qc:this.B.nc:this.B.rd;return c&this.S}function Fj(a,b){var c=a+b|0;gh(this,a,b,c,191);this.A-=4294967296===this.F?4294967296===this.C?this.B.Qc:this.B.nc:this.B.rd;return c&255}function Gj(a,b){var c=a+b|0;gh(this,a,b,c,this.Ib|63);this.A-=4294967296===this.F?4294967296===this.C?this.B.Qc:this.B.nc:this.B.rd;return c&this.S}
function Hj(a,b){a&=b;nh(this,a,128);this.A-=4294967296===this.F?4294967296===this.C?this.B.Qc:this.B.nc:this.B.rd;return a}function Ij(a,b){this.A-=4294967296===this.F?4294967296===this.C?this.B.Qc:this.B.nc:this.B.rd;return nh(this,a&b,this.Ib)&this.S}function Jj(a,b){this.A-=10+(4294967296===this.C?0:1);if((a&3)<(b&3))return a=a&-4|b&3,xh(this),a;vh(this);return a}
function Kj(a){if(4294967296===this.C)return eh.call(this,6),a;var b=a,c=this.Nb(this.C),d=this.Nb(this.C+this.Y);2==this.Y&&(b=a<<16>>16,c=c<<16>>16,d=d<<16>>16);this.A-=this.B.Ms;(b<c||b>d)&&eh.call(this,5);this.O|=2;return a}function Lj(a,b){var c=0;if(b){vh(this);for(var d=1;d&this.S;){if(b&d){a=c;break}d<<=1;c++}}else xh(this);this.A-=11+3*c;return a}
function Mj(a,b){var c=0;if(b){vh(this);for(var d=2==this.Y?15:31,e=1<<d;e;){if(b&e){a=d;break}e>>>=1;c++;d--}}else xh(this);this.A-=11+3*c;return a}function Nj(a,b){a&1<<(b&(2==this.Y?15:31))?oh(this):ph(this);this.A-=4294967296===this.C?3:6;this.O|=2;return a}function Oj(a,b){b=1<<(b&(2==this.Y?15:31));a&b?oh(this):ph(this);this.A-=4294967296===this.C?6:8;return a^b}function Pj(a,b){b=1<<(b&(2==this.Y?15:31));a&b?oh(this):ph(this);this.A-=4294967296===this.C?6:8;return a&~b}
function Qj(a,b){b=1<<(b&(2==this.Y?15:31));a&b?oh(this):ph(this);this.A-=4294967296===this.C?6:8;return a|b}function Rj(a,b){if(4294967296===this.C)return Nj.call(this,a,b);var c=this.Y<<3;if(b>=c||b<-c)a=Eh(this,this.Ja,this.Va+(b>>(2==this.Y?4:5))*this.Y);b=1<<(b&(2==this.Y?15:31));a&b?oh(this):ph(this);this.A-=6;this.O|=2;return a}
function Sj(a,b){if(4294967296===this.C)return Oj.call(this,a,b);var c=this.Y<<3;if(b>=c||b<-c)a=Eh(this,this.Ja,this.Va+(b>>(2==this.Y?4:5))*this.Y);b=1<<(b&(2==this.Y?15:31));a&b?oh(this):ph(this);this.A-=8;return a^b}function Tj(a,b){if(4294967296===this.C)return Pj.call(this,a,b);var c=this.Y<<3;if(b>=c||b<-c)a=Eh(this,this.Ja,this.Va+(b>>(2==this.Y?4:5))*this.Y);b=1<<(b&(2==this.Y?15:31));a&b?oh(this):ph(this);this.A-=8;return a&~b}
function Uj(a,b){if(4294967296===this.C)return Qj.call(this,a,b);var c=this.Y<<3;if(b>=c||b<-c)a=Eh(this,this.Ja,this.Va+(b>>(2==this.Y?4:5))*this.Y);b=1<<(b&(2==this.Y?15:31));a&b?oh(this):ph(this);this.A-=8;return a|b}function Vj(a,b){gh(this,a,b,a-b|0,191,!0);this.A-=4294967296===this.F?4294967296===this.C?this.B.Qc:this.B.Wn:this.B.nc;this.O|=2;return a}
function Wj(a,b){gh(this,a,b,a-b|0,this.Ib|63,!0);this.A-=4294967296===this.F?4294967296===this.C?this.B.Qc:this.B.Wn:this.B.nc;this.O|=2;return a}
function Xj(a){if(this.vc){var b=this.vc,c=this.Tp,d=this.ia,e=d>>3&7;b.A=d&7;var f=(3>(d>>6&3)?0:48)+e;(217==c||219==c)&&52<=f&&(f=e<<4|b.A);if(e=uj[c][f]){if(0>vj.indexOf(e)){f=b.G;var g=f.xd;8087==b.model&&(f.ba&16&&g++,f.ba&32&&g++);b.N=f.ca.W;b.I=g-f.ca.Da;4294967296!==f.C&&(b.O=f.Ja.W,b.K=f.C-f.Ja.Da);b.P=(c&7)<<8|d}e.call(b)}}this.A-=4294967296===this.C?2:8;return a}function ik(a,b){if(80186>this.model)return jk.call(this,a,b);eh.call(this,13,0);return a}
function Df(a){eh.call(this,6);return a}function jk(a){Cf.call(this);return a}function kk(a,b){a=lk.call(this,this.T(),b);80386>this.model&&(this.A-=12);return a}function mk(a,b){a=this.Ua();a=2==this.Y?lk.call(this,a,b):nk.call(this,a,b);80386>this.model&&(this.A-=12);return a}function ok(a,b){var c=!1;0>b&&(b=-b|0,c=!c);0>a&&(a=-a|0,c=!c);pk.call(this,a,b);c&&(this.Na=~this.Na+1|0,this.gb=~this.gb+(this.Na?0:1)|0)}
function lk(a,b){a=(a<<16>>16)*(b<<16>>16)|0;32767<a||-32768>a?(oh(this),qh(this)):(ph(this),rh(this));this.A-=4294967296===this.C?9:12;return a&65535}function nk(a,b){ok.call(this,a,b);this.gb!=this.Na>>31?(oh(this),qh(this)):(ph(this),rh(this));this.A-=4294967296===this.C?9:12;return this.Na}
function qk(a,b){this.A-=14+(4294967296===this.C?0:2);vh(this);4294967296!==this.wb.load(b)&&this.wb.ad>=this.Xa&&this.wb.ad>=(b&3)&&(xh(this),a=this.wb.Pb&-256,2<this.Y&&(a|=(this.wb.ext&-65281)<<16));return a}function rk(a,b){if(4294967296===this.C)return Cf.call(this),a;$g(this,this.qa(this.C+this.Y));this.A-=this.B.Ch;return b}function sk(a){if(4294967296===this.C)return Cf.call(this),a;this.A-=this.B.ot;return this.C&this.S}
function tk(a,b){if(4294967296===this.C)return Cf.call(this),a;ah(this,this.qa(this.C+this.Y));this.A-=this.B.Ch;return b}function uk(a,b){if(4294967296===this.C)return Cf.call(this),a;a=this.qa(this.C+this.Y);this.Qa.load(a);this.A-=this.B.Ch;return b}function vk(a,b){if(4294967296===this.C)return Cf.call(this),a;a=this.qa(this.C+this.Y);this.Ta.load(a);this.A-=this.B.Ch;return b}
function wk(a,b){this.A-=14+(4294967296===this.C?0:2);if(b&65528&&4294967296!==this.wb.load(b)&&(7168==(this.wb.Pb&7168)||this.wb.ad>=this.Xa)&&this.wb.ad>=(b&3))return xh(this),this.wb.ob;vh(this);return a}function xk(a,b){if(4294967296===this.C)return Cf.call(this),a;ig(this,this.qa(this.C+this.Y));this.A-=this.B.Ch;return b}function yk(a,b){this.A-=4294967296===this.F?4294967296===this.C?this.B.vt:this.B.ut:this.B.st;return b}
function zk(a,b){switch(this.ia>>3&7){case 4:this.ya=this.D;break;case 5:this.ya=this.I;break;case 6:this.ya=this.M;break;case 7:this.ya=this.H}return b}function Ak(a,b){return b}
function Bk(a,b){var c=this.ia>>3&7;switch(c){case 0:this.ya=this.D;break;case 2:this.ya=this.M;break;case 3:this.ya=this.H;break;default:if(80286==this.model||80386==this.model&&4!=c&&5!=c)eh.call(this,6);else switch(c){case 1:this.ya=this.I;break;case 4:this.ya=dg(this);break;case 5:this.ya=this.N;break;case 6:this.ya=this.L;break;case 7:this.ya=this.K}}return yk.call(this,a,b)}
function Ck(a,b){switch(this.ia>>3&7){case 0:b=this.ka.W;break;case 1:b=this.ca.W;break;case 2:b=this.U.W;break;case 3:b=this.Ha.W;break;case 4:if(80386<=this.model){b=this.Qa.W;break}eh.call(this,6);b=a;break;case 5:if(80386<=this.model){b=this.Ta.W;break}default:eh.call(this,6),b=a}4294967296!==this.F&&Ig(this,2);return yk.call(this,a,b)}
function pk(a,b){if(a&-65536||b&-65536){var c=b&65535;b>>>=16;var d=a&65535;a>>>=16;var e=c*d;d=(e>>>16)+b*d;var f=d>>>16;d=(d&65535)+c*a;this.Na=d<<16|e&65535;this.gb=f+((d>>>16)+b*a)|0}else this.Na=a*b|0,this.gb=0}function Dk(a,b){this.A-=4294967296===this.F?4294967296===this.C?this.B.Qc:this.B.nc:this.B.rd;return nh(this,a|b,128)}function Ek(a,b){this.A-=4294967296===this.F?4294967296===this.C?this.B.Qc:this.B.nc:this.B.rd;return nh(this,a|b,this.Ib)&this.S}
function Fk(a,b){var c=a-b-uh(this)|0;gh(this,a,b,c,191,!0);this.A-=4294967296===this.F?4294967296===this.C?this.B.Qc:this.B.nc:this.B.rd;return c&255}function Gk(a,b){var c=a-b-uh(this)|0;gh(this,a,b,c,this.Ib|63,!0);this.A-=4294967296===this.F?4294967296===this.C?this.B.Qc:this.B.nc:this.B.rd;return c&this.S}function Hk(){return mh(this)?1:0}function Ik(){return hh(this)?1:0}function Jk(){return hh(this)?0:1}function Kk(){return kh(this)?1:0}function Lk(){return kh(this)?0:1}
function Mk(){return hh(this)||kh(this)?1:0}function Nk(){return hh(this)||kh(this)?0:1}function Ok(){return lh(this)?1:0}function Pk(){return lh(this)?0:1}function Qk(){return ih(this)?1:0}function Rk(){return ih(this)?0:1}function Sk(){return!lh(this)!=!mh(this)?1:0}function Tk(){return!lh(this)!=!mh(this)?0:1}function Uk(){return kh(this)||!lh(this)!=!mh(this)?1:0}function Vk(){return kh(this)||!lh(this)!=!mh(this)?0:1}function Wk(a,b){return Xk.call(this,a,b,this.Aa())}
function Yk(a,b){return Zk.call(this,a,b,this.Aa())}function $k(a,b){return Xk.call(this,a,b,this.I&31)}function al(a,b){return Zk.call(this,a,b,this.I&31)}function bl(a,b){return cl.call(this,a,b,this.Aa())}function dl(a,b){return el.call(this,a,b,this.Aa())}function fl(a,b){return cl.call(this,a,b,this.I&31)}function gl(a,b){return el.call(this,a,b,this.I&31)}
function hl(a,b){var c=a-b|0;gh(this,a,b,c,191,!0);this.A-=4294967296===this.F?4294967296===this.C?this.B.Qc:this.B.nc:this.B.rd;return c&255}function il(a,b){var c=a-b|0;gh(this,a,b,c,this.Ib|63,!0);this.A-=4294967296===this.F?4294967296===this.C?this.B.Qc:this.B.nc:this.B.rd;return c&this.S}function jl(a,b){nh(this,a&b,128);this.A-=4294967296===this.F?4294967296===this.C?this.B.Ao:this.B.pj:this.B.pj;this.O|=2;return a}
function kl(a,b){nh(this,a&b,this.Ib);this.A-=4294967296===this.F?4294967296===this.C?this.B.Ao:this.B.pj:this.B.pj;this.O|=2;return a}function ll(a,b){var c=this.D&this.S,d=(1<<(this.I&31))-1;return a&~(d<<c)|(b&d)<<c}function ml(a,b){return b>>(this.D&this.S)&(1<<(this.I&31))-1&this.S}
function nl(a,b){if(4294967296===this.C){switch(this.ia&7){case 0:this.D=this.D&-256|a;break;case 1:this.I=this.I&-256|a;break;case 2:this.M=this.M&-256|a;break;case 3:this.H=this.H&-256|a;break;case 4:this.D=this.D&-65281|a<<8;break;case 5:this.I=this.I&-65281|a<<8;break;case 6:this.M=this.M&-65281|a<<8;break;case 7:this.H=this.H&-65281|a<<8}this.A-=this.B.Co}else this.F=this.C,Jh(this,a),this.A-=this.B.Bo;return b}
function ol(a,b){if(4294967296===this.C){switch(this.ia&7){case 0:this.D=this.D&~this.S|a;break;case 1:this.I=this.I&~this.S|a;break;case 2:this.M=this.M&~this.S|a;break;case 3:this.H=this.H&~this.S|a;break;case 4:fg(this,dg(this)&~this.S|a);break;case 5:this.N=this.H&~this.S|a;break;case 6:this.L=this.L&~this.S|a;break;case 7:this.K=this.K&~this.S|a}this.A-=this.B.Co}else{this.F=this.C;if(!(this.O&2)){var c=this.Ja.yc(this.Va,this.Y);this.O&8?(this.Ob(c,a),this.Ob(this.Ja.yc(0,1),a>>8),this.O&=-9):
this.wc(c,a)}this.A-=this.B.Bo}return b}function pl(a,b){a^=b;nh(this,a,128);this.A-=4294967296===this.F?4294967296===this.C?this.B.Qc:this.B.nc:this.B.rd;return a}function ql(a,b){this.A-=4294967296===this.F?4294967296===this.C?this.B.Qc:this.B.nc:this.B.rd;return nh(this,a^b,this.Ib)&this.S}function rl(a,b){var c=a[1]-b[1];c||(c=a[0]-b[0]);return c}function sl(a){var b=a-1|0;gh(this,a,1,b,this.Ib|62,!0);this.A-=2;return a&~this.S|b&this.S}
function tl(a,b,c){c>>>=0;if(!c||c<=b>>>0)return!1;var d=0,e=1,f=this.Cw;f[0]=c>>>0;f[1]=0;c=this.Ow;c[0]=a>>>0;for(c[1]=b>>>0;0<rl(c,f);)b=a=f,a[0]+=b[0],a[1]+=b[1],4294967295<a[0]&&(a[0]>>>=0,a[1]++),e+=e;do 0<=rl(c,f)&&(a=c,b=f,a[0]-=b[0],a[1]-=b[1],0>a[0]&&(a[0]>>>=0,a[1]--),d+=e),a=f,a[0]>>>=1,a[1]&1&&(a[0]=(a[0]|2147483648)>>>0),a[1]>>>=1,e/=2;while(1<=e);this.Na=d;this.gb=c[0];return!0}function ul(a){var b=a+1|0;gh(this,a,1,b,this.Ib|62);this.A-=2;return a&~this.S|b&this.S}
function vl(a){this.ta=a|2147483616;mg(this);this.ta&-2147483648?Xf(this):$f(this)}function wl(a){this.O|=1;this.Pc.call(this,a);this.A-=4294967296===this.C?4:5}function Xk(a,b,c){if(c){16<c&&(a=b,c-=16);var d=a<<c-1;a=(d<<1|b>>>16-c)&65535;nh(this,a,32768,d&32768)}return a}function Zk(a,b,c){if(c){var d=a<<c-1;a=d<<1|b>>>32-c;nh(this,a,-2147483648,d&-2147483648)}return a}function cl(a,b,c){if(c){16<c&&(a=b,c-=16);var d=a>>>c-1;a=(d>>>1|b<<16-c)&65535;nh(this,a,32768,d&1)}return a}
function el(a,b,c){if(c){var d=a>>>c-1;a=d>>>1|b<<32-c;nh(this,a,-2147483648,d&1)}return a}function xl(){this.A-=4294967296===this.C?2:this.B.It;return 1}function yl(){var a=this.I&255;this.A-=(4294967296===this.C?this.B.to:this.B.so)+(a<<this.B.uo);return a}function zl(){var a=this.Aa();this.A-=(4294967296===this.C?this.B.to:this.B.so)+(a<<this.B.uo);return a}function Al(){return null}function Bl(){return this.ya}
function Cl(a,b){this.de=Og(this);this.Fd=this.U.W;this.xa=this.Ma;var c=kg(this),d=this.Y;null!=jg(this,a,b,!0)&&(Rh(this,this.de,d,2),Rh(this,c,d,d));this.xa=4294967296;this.de=this.Fd=-1}
function Dl(a,b,c,d){c=void 0===c?0:c;this.A-=this.B.ht+(void 0===d?0:d);d=Pg(this);var e=Og(this),f=kg(this);if(6==a&&8088>=this.model&&1741==Mh(this,this.ca,f-2))switch(Mh(this,this.U,this.N+10),Mh(this,this.U,this.N+12),Mh(this,this.U,this.N+6),Mh(this,this.U,this.N+8),this.Ia(this.Z)){case 204:if(this.fa&&this.flags.vb){this.Aa();this.J("debugger halting on INT 0x06,0xCC\n");El(this.fa);return}}19==a&&8088>=this.model&&this.fa&&513==this.D&&31744==this.H&&0==this.ka.W&&this.Db(1325,17474);a=this.ca.Fs(a,
c);4294967296!==a&&(Qh(this,d),Qh(this,e),Qh(this,f),null!=b&&Qh(this,b),this.ed=-1,ch(this,a))}function Fl(a){this.Fd=this.U.W;this.xa=this.Ma;var b=Ph(this),c=Ph(this);a&&fg(this,dg(this)+a);jg(this,b,c,!1)&&(a&&fg(this,dg(this)+a),Gl.call(this,this.Ha),Gl.call(this,this.ka),80386<=this.model&&(Gl.call(this,this.Qa),Gl.call(this,this.Ta)));2==a&&this.al&&Sg(this,this.Z);this.xa=4294967296;this.Fd=-1}function Hl(){8088>=this.model?(this.ed=-1,Dl.call(this,0,null,0,2)):eh.call(this,0,null,2)}
function hi(a){this.ed=a;Dl.call(this,a,null,0,11)}
function eh(a,b,c,d){var e=!1;this.flags.complete?80186<=this.model&&(e=!0,0>this.ed?(-1!=this.de&&(this.de!==this.ca.W&&(this.ca.ac=this.de&3,Zg(this,this.de)),this.de=-1),this.xd!==this.Z&&ch(this,this.xd),-1!=this.Fd&&(this.Fd!==this.U.W&&ig(this,this.Fd),this.Fd=-1),4294967296!==this.xa&&(this.xa!==this.Ma&&fg(this,this.gd&~this.U.Fa|this.xa-this.U.Da),this.xa=4294967296)):8!=this.ed?(b=0,a=8):(b=0,a=-1,d=!1,Vf(this))):ch(this,this.xd);var f=a,g=b,h=512,k=Ah(this,this.Z);204!=k||this.$d||(d=!1);
this.P&131072&&(6==f&&99==k||13==f&&(156==k||157==k||205==k||207==k||228<=k&&231>=k||236<=k&&239>=k||250==k||251==k))&&(d=!1);!1===d&&(h|=2);983040<=this.Z&&1048575>=this.Z&&(d=!1);v(this,h+70368744177664)&&(d=!0);if(v(this,h)||d){var l=this.flags.vb;f="Fault "+Ya(f)+(null!=g?" ("+Za(g)+")":"")+" on opcode "+Ya(k);d&&l&&(f+=" (blocked)");this.fa?(this.J((d?4398046511104:h)+1,"%s\n",f),d&&(d=l,El(this.fa))):(this.J(274877906944,"%s\n",f),Fe(this))}if((d||0>a)&&e)throw-1;if(e)throw this.ed=a,Dl.call(this,
a,b,0,c),this.xd=this.Z,this.O=1==a?this.O|8192:this.O|4096,a;}function Zf(a,b,c){this.ee=a;a=0;b&&(a|=1);c&&(a|=2);3==this.Xa&&(a|=4);eh.call(this,14,a)}function Gl(a){var b=a.Pb&7680;a.W&65528&&(6144==b||7168==b||7168>b&&a.ad<this.Xa&&a.ad<(a.W&3))&&a.load(0)}
function og(a){switch((this.ia=this.Aa())&199){case 0:var b=A(this,this.H+this.L);this.A-=this.B.Vd;break;case 1:b=A(this,this.H+this.K);this.A-=this.B.Wd;break;case 2:b=Dh(this,this.N+this.L);this.A-=this.B.Wd;break;case 3:b=Dh(this,this.N+this.K);this.A-=this.B.Vd;break;case 4:b=A(this,this.L);this.A-=this.B.cd;break;case 5:b=A(this,this.K);this.A-=this.B.cd;break;case 6:b=A(this,F(this));this.A-=this.B.cf;break;case 7:b=A(this,this.H);this.A-=this.B.cd;break;case 64:b=A(this,this.H+this.L+this.T());
this.A-=this.B.Cc;break;case 65:b=A(this,this.H+this.K+this.T());this.A-=this.B.Dc;break;case 66:b=Dh(this,this.N+this.L+this.T());this.A-=this.B.Dc;break;case 67:b=Dh(this,this.N+this.K+this.T());this.A-=this.B.Cc;break;case 68:b=A(this,this.L+this.T());this.A-=this.B.yb;break;case 69:b=A(this,this.K+this.T());this.A-=this.B.yb;break;case 70:b=Dh(this,this.N+this.T());this.A-=this.B.yb;break;case 71:b=A(this,this.H+this.T());this.A-=this.B.yb;break;case 128:b=A(this,this.H+this.L+F(this));this.A-=
this.B.Cc;break;case 129:b=A(this,this.H+this.K+F(this));this.A-=this.B.Dc;break;case 130:b=Dh(this,this.N+this.L+F(this));this.A-=this.B.Dc;break;case 131:b=Dh(this,this.N+this.K+F(this));this.A-=this.B.Cc;break;case 132:b=A(this,this.L+F(this));this.A-=this.B.yb;break;case 133:b=A(this,this.K+F(this));this.A-=this.B.yb;break;case 134:b=Dh(this,this.N+F(this));this.A-=this.B.yb;break;case 135:b=A(this,this.H+F(this));this.A-=this.B.yb;break;case 192:b=this.D&255;break;case 193:b=this.I&255;break;
case 194:b=this.M&255;break;case 195:b=this.H&255;break;case 196:b=this.D>>8&255;break;case 197:b=this.I>>8&255;break;case 198:b=this.M>>8&255;break;case 199:b=this.H>>8&255;break;default:b=0}var c=this.ia>>3&7;switch(c){case 0:var d=this.D&255;break;case 1:d=this.I&255;break;case 2:d=this.M&255;break;case 3:d=this.H&255;break;case 4:d=this.D>>8&255;break;case 5:d=this.I>>8&255;break;case 6:d=this.M>>8&255;break;case 7:d=this.H>>8&255;break;default:d=0}a=a.call(this,d,b);switch(c){case 0:this.D=this.D&
-256|a;break;case 1:this.I=this.I&-256|a;break;case 2:this.M=this.M&-256|a;break;case 3:this.H=this.H&-256|a;break;case 4:this.D=this.D&-65281|a<<8;break;case 5:this.I=this.I&-65281|a<<8;break;case 6:this.M=this.M&-65281|a<<8;break;case 7:this.H=this.H&-65281|a<<8}}
function pg(a){var b=(this.ia=this.Aa())&199;switch(b){case 0:var c=A(this,this.H+this.L);this.F=this.C;break;case 1:c=A(this,this.H+this.K);this.F=this.C;break;case 2:c=Dh(this,this.N+this.L);this.F=this.C;break;case 3:c=Dh(this,this.N+this.K);this.F=this.C;break;case 4:c=A(this,this.L);this.F=this.C;break;case 5:c=A(this,this.K);this.F=this.C;break;case 6:c=A(this,F(this));this.F=this.C;break;case 7:c=A(this,this.H);this.F=this.C;break;case 64:c=A(this,this.H+this.L+this.T());this.F=this.C;break;
case 65:c=A(this,this.H+this.K+this.T());this.F=this.C;break;case 66:c=Dh(this,this.N+this.L+this.T());this.F=this.C;break;case 67:c=Dh(this,this.N+this.K+this.T());this.F=this.C;break;case 68:c=A(this,this.L+this.T());this.F=this.C;break;case 69:c=A(this,this.K+this.T());this.F=this.C;break;case 70:c=Dh(this,this.N+this.T());this.F=this.C;break;case 71:c=A(this,this.H+this.T());this.F=this.C;break;case 128:c=A(this,this.H+this.L+F(this));this.F=this.C;break;case 129:c=A(this,this.H+this.K+F(this));
this.F=this.C;break;case 130:c=Dh(this,this.N+this.L+F(this));this.F=this.C;break;case 131:c=Dh(this,this.N+this.K+F(this));this.F=this.C;break;case 132:c=A(this,this.L+F(this));this.F=this.C;break;case 133:c=A(this,this.K+F(this));this.F=this.C;break;case 134:c=Dh(this,this.N+F(this));this.F=this.C;break;case 135:c=A(this,this.H+F(this));this.F=this.C;break;case 192:c=this.D&255;break;case 193:c=this.I&255;break;case 194:c=this.M&255;break;case 195:c=this.H&255;break;case 196:c=this.D>>8&255;break;
case 197:c=this.I>>8&255;break;case 198:c=this.M>>8&255;break;case 199:c=this.H>>8&255;break;default:c=0}switch(this.ia>>3&7){case 0:var d=this.D&255;break;case 1:d=this.I&255;break;case 2:d=this.M&255;break;case 3:d=this.H&255;break;case 4:d=this.D>>8&255;break;case 5:d=this.I>>8&255;break;case 6:d=this.M>>8&255;break;case 7:d=this.H>>8&255;break;default:d=0}a=a.call(this,c,d);switch(b){case 0:case 3:Jh(this,a);this.A-=this.B.Vd;break;case 1:case 2:Jh(this,a);this.A-=this.B.Wd;break;case 4:case 5:case 7:Jh(this,
a);this.A-=this.B.cd;break;case 6:Jh(this,a);this.A-=this.B.cf;break;case 64:case 67:case 128:case 131:Jh(this,a);this.A-=this.B.Cc;break;case 65:case 66:case 129:case 130:Jh(this,a);this.A-=this.B.Dc;break;case 68:case 69:case 70:case 71:case 132:case 133:case 134:case 135:Jh(this,a);this.A-=this.B.yb;break;case 192:this.D=this.D&-256|a;break;case 193:this.I=this.I&-256|a;break;case 194:this.M=this.M&-256|a;break;case 195:this.H=this.H&-256|a;break;case 196:this.D=this.D&-65281|a<<8;break;case 197:this.I=
this.I&-65281|a<<8;break;case 198:this.M=this.M&-65281|a<<8;break;case 199:this.H=this.H&-65281|a<<8}}
function qg(a,b){var c=(this.ia=this.Aa())&199;switch(c){case 0:var d=A(this,this.H+this.L);this.F=this.C;break;case 1:d=A(this,this.H+this.K);this.F=this.C;break;case 2:d=Dh(this,this.N+this.L);this.F=this.C;break;case 3:d=Dh(this,this.N+this.K);this.F=this.C;break;case 4:d=A(this,this.L);this.F=this.C;break;case 5:d=A(this,this.K);this.F=this.C;break;case 6:d=A(this,F(this));this.F=this.C;break;case 7:d=A(this,this.H);this.F=this.C;break;case 64:d=A(this,this.H+this.L+this.T());this.F=this.C;break;
case 65:d=A(this,this.H+this.K+this.T());this.F=this.C;break;case 66:d=Dh(this,this.N+this.L+this.T());this.F=this.C;break;case 67:d=Dh(this,this.N+this.K+this.T());this.F=this.C;break;case 68:d=A(this,this.L+this.T());this.F=this.C;break;case 69:d=A(this,this.K+this.T());this.F=this.C;break;case 70:d=Dh(this,this.N+this.T());this.F=this.C;break;case 71:d=A(this,this.H+this.T());this.F=this.C;break;case 128:d=A(this,this.H+this.L+F(this));this.F=this.C;break;case 129:d=A(this,this.H+this.K+F(this));
this.F=this.C;break;case 130:d=Dh(this,this.N+this.L+F(this));this.F=this.C;break;case 131:d=Dh(this,this.N+this.K+F(this));this.F=this.C;break;case 132:d=A(this,this.L+F(this));this.F=this.C;break;case 133:d=A(this,this.K+F(this));this.F=this.C;break;case 134:d=Dh(this,this.N+F(this));this.F=this.C;break;case 135:d=A(this,this.H+F(this));this.F=this.C;break;case 192:d=this.D&255;break;case 193:d=this.I&255;break;case 194:d=this.M&255;break;case 195:d=this.H&255;break;case 196:d=this.D>>8&255;break;
case 197:d=this.I>>8&255;break;case 198:d=this.M>>8&255;break;case 199:d=this.H>>8&255;break;default:d=0}a=a[this.ia>>3&7].call(this,d,b.call(this));switch(c){case 0:case 3:Jh(this,a);this.A-=this.B.Vd;break;case 1:case 2:Jh(this,a);this.A-=this.B.Wd;break;case 4:case 5:case 7:Jh(this,a);this.A-=this.B.cd;break;case 6:Jh(this,a);this.A-=this.B.cf;break;case 64:case 67:case 128:case 131:Jh(this,a);this.A-=this.B.Cc;break;case 65:case 66:case 129:case 130:Jh(this,a);this.A-=this.B.Dc;break;case 68:case 69:case 70:case 71:case 132:case 133:case 134:case 135:Jh(this,
a);this.A-=this.B.yb;break;case 192:this.D=this.D&-256|a;break;case 193:this.I=this.I&-256|a;break;case 194:this.M=this.M&-256|a;break;case 195:this.H=this.H&-256|a;break;case 196:this.D=this.D&-65281|a<<8;break;case 197:this.I=this.I&-65281|a<<8;break;case 198:this.M=this.M&-65281|a<<8;break;case 199:this.H=this.H&-65281|a<<8}}
function rg(a){switch((this.ia=this.Aa())&199){case 0:var b=C(this,this.H+this.L);this.A-=this.B.Vd;break;case 1:b=C(this,this.H+this.K);this.A-=this.B.Wd;break;case 2:b=Fh(this,this.N+this.L);this.A-=this.B.Wd;break;case 3:b=Fh(this,this.N+this.K);this.A-=this.B.Vd;break;case 4:b=C(this,this.L);this.A-=this.B.cd;break;case 5:b=C(this,this.K);this.A-=this.B.cd;break;case 6:b=C(this,F(this));this.A-=this.B.cf;break;case 7:b=C(this,this.H);this.A-=this.B.cd;break;case 64:b=C(this,this.H+this.L+this.T());
this.A-=this.B.Cc;break;case 65:b=C(this,this.H+this.K+this.T());this.A-=this.B.Dc;break;case 66:b=Fh(this,this.N+this.L+this.T());this.A-=this.B.Dc;break;case 67:b=Fh(this,this.N+this.K+this.T());this.A-=this.B.Cc;break;case 68:b=C(this,this.L+this.T());this.A-=this.B.yb;break;case 69:b=C(this,this.K+this.T());this.A-=this.B.yb;break;case 70:b=Fh(this,this.N+this.T());this.A-=this.B.yb;break;case 71:b=C(this,this.H+this.T());this.A-=this.B.yb;break;case 128:b=C(this,this.H+this.L+F(this));this.A-=
this.B.Cc;break;case 129:b=C(this,this.H+this.K+F(this));this.A-=this.B.Dc;break;case 130:b=Fh(this,this.N+this.L+F(this));this.A-=this.B.Dc;break;case 131:b=Fh(this,this.N+this.K+F(this));this.A-=this.B.Cc;break;case 132:b=C(this,this.L+F(this));this.A-=this.B.yb;break;case 133:b=C(this,this.K+F(this));this.A-=this.B.yb;break;case 134:b=Fh(this,this.N+F(this));this.A-=this.B.yb;break;case 135:b=C(this,this.H+F(this));this.A-=this.B.yb;break;case 192:b=this.D&65535;break;case 193:b=this.I&65535;break;
case 194:b=this.M&65535;break;case 195:b=this.H&65535;break;case 196:b=dg(this)&65535;break;case 197:b=this.N&65535;break;case 198:b=this.L&65535;break;case 199:b=this.K&65535;break;default:b=0}var c=this.ia>>3&7;switch(c){case 0:var d=this.D&65535;break;case 1:d=this.I&65535;break;case 2:d=this.M&65535;break;case 3:d=this.H&65535;break;case 4:d=dg(this)&65535;break;case 5:d=this.N&65535;break;case 6:d=this.L&65535;break;case 7:d=this.K&65535;break;default:d=0}a=a.call(this,d,b);switch(c){case 0:this.D=
this.D&-65536|a;break;case 1:this.I=this.I&-65536|a;break;case 2:this.M=this.M&-65536|a;break;case 3:this.H=this.H&-65536|a;break;case 4:fg(this,dg(this)&-65536|a);break;case 5:this.N=this.N&-65536|a;break;case 6:this.L=this.L&-65536|a;break;case 7:this.K=this.K&-65536|a}}
function sg(a){var b=(this.ia=this.Aa())&199;switch(b){case 0:var c=C(this,this.H+this.L);this.F=this.C;break;case 1:c=C(this,this.H+this.K);this.F=this.C;break;case 2:c=Fh(this,this.N+this.L);this.F=this.C;break;case 3:c=Fh(this,this.N+this.K);this.F=this.C;break;case 4:c=C(this,this.L);this.F=this.C;break;case 5:c=C(this,this.K);this.F=this.C;break;case 6:c=C(this,F(this));this.F=this.C;break;case 7:c=C(this,this.H);this.F=this.C;break;case 64:c=C(this,this.H+this.L+this.T());this.F=this.C;break;
case 65:c=C(this,this.H+this.K+this.T());this.F=this.C;break;case 66:c=Fh(this,this.N+this.L+this.T());this.F=this.C;break;case 67:c=Fh(this,this.N+this.K+this.T());this.F=this.C;break;case 68:c=C(this,this.L+this.T());this.F=this.C;break;case 69:c=C(this,this.K+this.T());this.F=this.C;break;case 70:c=Fh(this,this.N+this.T());this.F=this.C;break;case 71:c=C(this,this.H+this.T());this.F=this.C;break;case 128:c=C(this,this.H+this.L+F(this));this.F=this.C;break;case 129:c=C(this,this.H+this.K+F(this));
this.F=this.C;break;case 130:c=Fh(this,this.N+this.L+F(this));this.F=this.C;break;case 131:c=Fh(this,this.N+this.K+F(this));this.F=this.C;break;case 132:c=C(this,this.L+F(this));this.F=this.C;break;case 133:c=C(this,this.K+F(this));this.F=this.C;break;case 134:c=Fh(this,this.N+F(this));this.F=this.C;break;case 135:c=C(this,this.H+F(this));this.F=this.C;break;case 192:c=this.D&65535;break;case 193:c=this.I&65535;break;case 194:c=this.M&65535;break;case 195:c=this.H&65535;break;case 196:c=dg(this)&
65535;break;case 197:c=this.N&65535;break;case 198:c=this.L&65535;break;case 199:c=this.K&65535;break;default:c=0}switch(this.ia>>3&7){case 0:var d=this.D&65535;break;case 1:d=this.I&65535;break;case 2:d=this.M&65535;break;case 3:d=this.H&65535;break;case 4:d=dg(this)&65535;break;case 5:d=this.N&65535;break;case 6:d=this.L&65535;break;case 7:d=this.K&65535;break;default:d=0}a=a.call(this,c,d);switch(b){case 0:case 3:Kh(this,a);this.A-=this.B.Vd;break;case 1:case 2:Kh(this,a);this.A-=this.B.Wd;break;
case 4:case 5:case 7:Kh(this,a);this.A-=this.B.cd;break;case 6:Kh(this,a);this.A-=this.B.cf;break;case 64:case 67:case 128:case 131:Kh(this,a);this.A-=this.B.Cc;break;case 65:case 66:case 129:case 130:Kh(this,a);this.A-=this.B.Dc;break;case 68:case 69:case 70:case 71:case 132:case 133:case 134:case 135:Kh(this,a);this.A-=this.B.yb;break;case 192:this.D=this.D&-65536|a;break;case 193:this.I=this.I&-65536|a;break;case 194:this.M=this.M&-65536|a;break;case 195:this.H=this.H&-65536|a;break;case 196:fg(this,
dg(this)&-65536|a);break;case 197:this.N=this.N&-65536|a;break;case 198:this.L=this.L&-65536|a;break;case 199:this.K=this.K&-65536|a}}
function tg(a,b){var c=(this.ia=this.Aa())&199;switch(c){case 0:var d=C(this,this.H+this.L);this.F=this.C;break;case 1:d=C(this,this.H+this.K);this.F=this.C;break;case 2:d=Fh(this,this.N+this.L);this.F=this.C;break;case 3:d=Fh(this,this.N+this.K);this.F=this.C;break;case 4:d=C(this,this.L);this.F=this.C;break;case 5:d=C(this,this.K);this.F=this.C;break;case 6:d=C(this,F(this));this.F=this.C;break;case 7:d=C(this,this.H);this.F=this.C;break;case 64:d=C(this,this.H+this.L+this.T());this.F=this.C;break;
case 65:d=C(this,this.H+this.K+this.T());this.F=this.C;break;case 66:d=Fh(this,this.N+this.L+this.T());this.F=this.C;break;case 67:d=Fh(this,this.N+this.K+this.T());this.F=this.C;break;case 68:d=C(this,this.L+this.T());this.F=this.C;break;case 69:d=C(this,this.K+this.T());this.F=this.C;break;case 70:d=Fh(this,this.N+this.T());this.F=this.C;break;case 71:d=C(this,this.H+this.T());this.F=this.C;break;case 128:d=C(this,this.H+this.L+F(this));this.F=this.C;break;case 129:d=C(this,this.H+this.K+F(this));
this.F=this.C;break;case 130:d=Fh(this,this.N+this.L+F(this));this.F=this.C;break;case 131:d=Fh(this,this.N+this.K+F(this));this.F=this.C;break;case 132:d=C(this,this.L+F(this));this.F=this.C;break;case 133:d=C(this,this.K+F(this));this.F=this.C;break;case 134:d=Fh(this,this.N+F(this));this.F=this.C;break;case 135:d=C(this,this.H+F(this));this.F=this.C;break;case 192:d=this.D&65535;break;case 193:d=this.I&65535;break;case 194:d=this.M&65535;break;case 195:d=this.H&65535;break;case 196:d=dg(this)&
65535;break;case 197:d=this.N&65535;break;case 198:d=this.L&65535;break;case 199:d=this.K&65535;break;default:d=0}a=a[this.ia>>3&7].call(this,d,b.call(this));switch(c){case 0:case 3:Kh(this,a);this.A-=this.B.Vd;break;case 1:case 2:Kh(this,a);this.A-=this.B.Wd;break;case 4:case 5:case 7:Kh(this,a);this.A-=this.B.cd;break;case 6:Kh(this,a);this.A-=this.B.cf;break;case 64:case 67:case 128:case 131:Kh(this,a);this.A-=this.B.Cc;break;case 65:case 66:case 129:case 130:Kh(this,a);this.A-=this.B.Dc;break;
case 68:case 69:case 70:case 71:case 132:case 133:case 134:case 135:Kh(this,a);this.A-=this.B.yb;break;case 192:this.D=this.D&-65536|a;break;case 193:this.I=this.I&-65536|a;break;case 194:this.M=this.M&-65536|a;break;case 195:this.H=this.H&-65536|a;break;case 196:fg(this,dg(this)&-65536|a);break;case 197:this.N=this.N&-65536|a;break;case 198:this.L=this.L&-65536|a;break;case 199:this.K=this.K&-65536|a}}
function ug(a){switch((this.ia=this.Aa())&199){case 0:var b=D(this,this.H+this.L);this.A-=this.B.Vd;break;case 1:b=D(this,this.H+this.K);this.A-=this.B.Wd;break;case 2:b=Hh(this,this.N+this.L);this.A-=this.B.Wd;break;case 3:b=Hh(this,this.N+this.K);this.A-=this.B.Vd;break;case 4:b=D(this,this.L);this.A-=this.B.cd;break;case 5:b=D(this,this.K);this.A-=this.B.cd;break;case 6:b=D(this,F(this));this.A-=this.B.cf;break;case 7:b=D(this,this.H);this.A-=this.B.cd;break;case 64:b=D(this,this.H+this.L+this.T());
this.A-=this.B.Cc;break;case 65:b=D(this,this.H+this.K+this.T());this.A-=this.B.Dc;break;case 66:b=Hh(this,this.N+this.L+this.T());this.A-=this.B.Dc;break;case 67:b=Hh(this,this.N+this.K+this.T());this.A-=this.B.Cc;break;case 68:b=D(this,this.L+this.T());this.A-=this.B.yb;break;case 69:b=D(this,this.K+this.T());this.A-=this.B.yb;break;case 70:b=Hh(this,this.N+this.T());this.A-=this.B.yb;break;case 71:b=D(this,this.H+this.T());this.A-=this.B.yb;break;case 128:b=D(this,this.H+this.L+F(this));this.A-=
this.B.Cc;break;case 129:b=D(this,this.H+this.K+F(this));this.A-=this.B.Dc;break;case 130:b=Hh(this,this.N+this.L+F(this));this.A-=this.B.Dc;break;case 131:b=Hh(this,this.N+this.K+F(this));this.A-=this.B.Cc;break;case 132:b=D(this,this.L+F(this));this.A-=this.B.yb;break;case 133:b=D(this,this.K+F(this));this.A-=this.B.yb;break;case 134:b=Hh(this,this.N+F(this));this.A-=this.B.yb;break;case 135:b=D(this,this.H+F(this));this.A-=this.B.yb;break;case 192:b=this.D;break;case 193:b=this.I;break;case 194:b=
this.M;break;case 195:b=this.H;break;case 196:b=dg(this);break;case 197:b=this.N;break;case 198:b=this.L;break;case 199:b=this.K;break;default:b=0}var c=this.ia>>3&7;switch(c){case 0:var d=this.D;break;case 1:d=this.I;break;case 2:d=this.M;break;case 3:d=this.H;break;case 4:d=dg(this);break;case 5:d=this.N;break;case 6:d=this.L;break;case 7:d=this.K;break;default:d=0}a=a.call(this,d,b);switch(c){case 0:this.D=a;break;case 1:this.I=a;break;case 2:this.M=a;break;case 3:this.H=a;break;case 4:fg(this,
a);break;case 5:this.N=a;break;case 6:this.L=a;break;case 7:this.K=a}}
function vg(a){var b=(this.ia=this.Aa())&199;switch(b){case 0:var c=D(this,this.H+this.L);this.F=this.C;break;case 1:c=D(this,this.H+this.K);this.F=this.C;break;case 2:c=Hh(this,this.N+this.L);this.F=this.C;break;case 3:c=Hh(this,this.N+this.K);this.F=this.C;break;case 4:c=D(this,this.L);this.F=this.C;break;case 5:c=D(this,this.K);this.F=this.C;break;case 6:c=D(this,F(this));this.F=this.C;break;case 7:c=D(this,this.H);this.F=this.C;break;case 64:c=D(this,this.H+this.L+this.T());this.F=this.C;break;
case 65:c=D(this,this.H+this.K+this.T());this.F=this.C;break;case 66:c=Hh(this,this.N+this.L+this.T());this.F=this.C;break;case 67:c=Hh(this,this.N+this.K+this.T());this.F=this.C;break;case 68:c=D(this,this.L+this.T());this.F=this.C;break;case 69:c=D(this,this.K+this.T());this.F=this.C;break;case 70:c=Hh(this,this.N+this.T());this.F=this.C;break;case 71:c=D(this,this.H+this.T());this.F=this.C;break;case 128:c=D(this,this.H+this.L+F(this));this.F=this.C;break;case 129:c=D(this,this.H+this.K+F(this));
this.F=this.C;break;case 130:c=Hh(this,this.N+this.L+F(this));this.F=this.C;break;case 131:c=Hh(this,this.N+this.K+F(this));this.F=this.C;break;case 132:c=D(this,this.L+F(this));this.F=this.C;break;case 133:c=D(this,this.K+F(this));this.F=this.C;break;case 134:c=Hh(this,this.N+F(this));this.F=this.C;break;case 135:c=D(this,this.H+F(this));this.F=this.C;break;case 192:c=this.D;break;case 193:c=this.I;break;case 194:c=this.M;break;case 195:c=this.H;break;case 196:c=dg(this);break;case 197:c=this.N;
break;case 198:c=this.L;break;case 199:c=this.K;break;default:c=0}switch(this.ia>>3&7){case 0:var d=this.D;break;case 1:d=this.I;break;case 2:d=this.M;break;case 3:d=this.H;break;case 4:d=dg(this);break;case 5:d=this.N;break;case 6:d=this.L;break;case 7:d=this.K;break;default:d=0}a=a.call(this,c,d);switch(b){case 0:case 3:Lh(this,a);this.A-=this.B.Vd;break;case 1:case 2:Lh(this,a);this.A-=this.B.Wd;break;case 4:case 5:case 7:Lh(this,a);this.A-=this.B.cd;break;case 6:Lh(this,a);this.A-=this.B.cf;break;
case 64:case 67:case 128:case 131:Lh(this,a);this.A-=this.B.Cc;break;case 65:case 66:case 129:case 130:Lh(this,a);this.A-=this.B.Dc;break;case 68:case 69:case 70:case 71:case 132:case 133:case 134:case 135:Lh(this,a);this.A-=this.B.yb;break;case 192:this.D=a;break;case 193:this.I=a;break;case 194:this.M=a;break;case 195:this.H=a;break;case 196:fg(this,a);break;case 197:this.N=a;break;case 198:this.L=a;break;case 199:this.K=a}}
function wg(a,b){var c=(this.ia=this.Aa())&199;switch(c){case 0:var d=D(this,this.H+this.L);this.F=this.C;break;case 1:d=D(this,this.H+this.K);this.F=this.C;break;case 2:d=Hh(this,this.N+this.L);this.F=this.C;break;case 3:d=Hh(this,this.N+this.K);this.F=this.C;break;case 4:d=D(this,this.L);this.F=this.C;break;case 5:d=D(this,this.K);this.F=this.C;break;case 6:d=D(this,F(this));this.F=this.C;break;case 7:d=D(this,this.H);this.F=this.C;break;case 64:d=D(this,this.H+this.L+this.T());this.F=this.C;break;
case 65:d=D(this,this.H+this.K+this.T());this.F=this.C;break;case 66:d=Hh(this,this.N+this.L+this.T());this.F=this.C;break;case 67:d=Hh(this,this.N+this.K+this.T());this.F=this.C;break;case 68:d=D(this,this.L+this.T());this.F=this.C;break;case 69:d=D(this,this.K+this.T());this.F=this.C;break;case 70:d=Hh(this,this.N+this.T());this.F=this.C;break;case 71:d=D(this,this.H+this.T());this.F=this.C;break;case 128:d=D(this,this.H+this.L+F(this));this.F=this.C;break;case 129:d=D(this,this.H+this.K+F(this));
this.F=this.C;break;case 130:d=Hh(this,this.N+this.L+F(this));this.F=this.C;break;case 131:d=Hh(this,this.N+this.K+F(this));this.F=this.C;break;case 132:d=D(this,this.L+F(this));this.F=this.C;break;case 133:d=D(this,this.K+F(this));this.F=this.C;break;case 134:d=Hh(this,this.N+F(this));this.F=this.C;break;case 135:d=D(this,this.H+F(this));this.F=this.C;break;case 192:d=this.D;break;case 193:d=this.I;break;case 194:d=this.M;break;case 195:d=this.H;break;case 196:d=dg(this);break;case 197:d=this.N;
break;case 198:d=this.L;break;case 199:d=this.K}a=a[this.ia>>3&7].call(this,d,b.call(this));switch(c){case 0:case 3:Lh(this,a);this.A-=this.B.Vd;break;case 1:case 2:Lh(this,a);this.A-=this.B.Wd;break;case 4:case 5:case 7:Lh(this,a);this.A-=this.B.cd;break;case 6:Lh(this,a);this.A-=this.B.cf;break;case 64:case 67:case 128:case 131:Lh(this,a);this.A-=this.B.Cc;break;case 65:case 66:case 129:case 130:Lh(this,a);this.A-=this.B.Dc;break;case 68:case 69:case 70:case 71:case 132:case 133:case 134:case 135:Lh(this,
a);this.A-=this.B.yb;break;case 192:this.D=a;break;case 193:this.I=a;break;case 194:this.M=a;break;case 195:this.H=a;break;case 196:fg(this,a);break;case 197:this.N=a;break;case 198:this.L=a;break;case 199:this.K=a}}
function xg(a){switch((this.ia=this.Aa())&199){case 0:var b=A(this,this.D);break;case 1:b=A(this,this.I);break;case 2:b=A(this,this.M);break;case 3:b=A(this,this.H);break;case 4:b=A(this,Il.call(this,0));break;case 5:b=A(this,F(this));break;case 6:b=A(this,this.L);break;case 7:b=A(this,this.K);break;case 64:b=A(this,this.D+this.T());break;case 65:b=A(this,this.I+this.T());break;case 66:b=A(this,this.M+this.T());break;case 67:b=A(this,this.H+this.T());break;case 68:b=A(this,Il.call(this,1)+this.T());
break;case 69:b=Dh(this,this.N+this.T());break;case 70:b=A(this,this.L+this.T());break;case 71:b=A(this,this.K+this.T());break;case 128:b=A(this,this.D+F(this));break;case 129:b=A(this,this.I+F(this));break;case 130:b=A(this,this.M+F(this));break;case 131:b=A(this,this.H+F(this));break;case 132:b=A(this,Il.call(this,2)+F(this));break;case 133:b=Dh(this,this.N+F(this));break;case 134:b=A(this,this.L+F(this));break;case 135:b=A(this,this.K+F(this));break;case 192:b=this.D&255;break;case 193:b=this.I&
255;break;case 194:b=this.M&255;break;case 195:b=this.H&255;break;case 196:b=this.D>>8&255;break;case 197:b=this.I>>8&255;break;case 198:b=this.M>>8&255;break;case 199:b=this.H>>8&255;break;default:b=0}var c=this.ia>>3&7;switch(c){case 0:var d=this.D&255;break;case 1:d=this.I&255;break;case 2:d=this.M&255;break;case 3:d=this.H&255;break;case 4:d=this.D>>8&255;break;case 5:d=this.I>>8&255;break;case 6:d=this.M>>8&255;break;case 7:d=this.H>>8&255;break;default:d=0}a=a.call(this,d,b);switch(c){case 0:this.D=
this.D&-256|a;break;case 1:this.I=this.I&-256|a;break;case 2:this.M=this.M&-256|a;break;case 3:this.H=this.H&-256|a;break;case 4:this.D=this.D&-65281|a<<8;break;case 5:this.I=this.I&-65281|a<<8;break;case 6:this.M=this.M&-65281|a<<8;break;case 7:this.H=this.H&-65281|a<<8}}
function yg(a){var b=(this.ia=this.Aa())&199;switch(b){case 0:var c=A(this,this.D);this.F=this.C;break;case 1:c=A(this,this.I);this.F=this.C;break;case 2:c=A(this,this.M);this.F=this.C;break;case 3:c=A(this,this.H);this.F=this.C;break;case 4:c=A(this,Il.call(this,0));this.F=this.C;break;case 5:c=A(this,F(this));this.F=this.C;break;case 6:c=A(this,this.L);this.F=this.C;break;case 7:c=A(this,this.K);this.F=this.C;break;case 64:c=A(this,this.D+this.T());this.F=this.C;break;case 65:c=A(this,this.I+this.T());
this.F=this.C;break;case 66:c=A(this,this.M+this.T());this.F=this.C;break;case 67:c=A(this,this.H+this.T());this.F=this.C;break;case 68:c=A(this,Il.call(this,1)+this.T());this.F=this.C;break;case 69:c=Dh(this,this.N+this.T());this.F=this.C;break;case 70:c=A(this,this.L+this.T());this.F=this.C;break;case 71:c=A(this,this.K+this.T());this.F=this.C;break;case 128:c=A(this,this.D+F(this));this.F=this.C;break;case 129:c=A(this,this.I+F(this));this.F=this.C;break;case 130:c=A(this,this.M+F(this));this.F=
this.C;break;case 131:c=A(this,this.H+F(this));this.F=this.C;break;case 132:c=A(this,Il.call(this,2)+F(this));this.F=this.C;break;case 133:c=Dh(this,this.N+F(this));this.F=this.C;break;case 134:c=A(this,this.L+F(this));this.F=this.C;break;case 135:c=A(this,this.K+F(this));this.F=this.C;break;case 192:c=this.D&255;break;case 193:c=this.I&255;break;case 194:c=this.M&255;break;case 195:c=this.H&255;break;case 196:c=this.D>>8&255;break;case 197:c=this.I>>8&255;break;case 198:c=this.M>>8&255;break;case 199:c=
this.H>>8&255;break;default:c=0}switch(this.ia>>3&7){case 0:var d=this.D&255;break;case 1:d=this.I&255;break;case 2:d=this.M&255;break;case 3:d=this.H&255;break;case 4:d=this.D>>8&255;break;case 5:d=this.I>>8&255;break;case 6:d=this.M>>8&255;break;case 7:d=this.H>>8&255;break;default:d=0}a=a.call(this,c,d);switch(b){case 192:this.D=this.D&-256|a;break;case 193:this.I=this.I&-256|a;break;case 194:this.M=this.M&-256|a;break;case 195:this.H=this.H&-256|a;break;case 196:this.D=this.D&-65281|a<<8;break;
case 197:this.I=this.I&-65281|a<<8;break;case 198:this.M=this.M&-65281|a<<8;break;case 199:this.H=this.H&-65281|a<<8;break;default:Jh(this,a)}}
function zg(a,b){var c=(this.ia=this.Aa())&199;switch(c){case 0:var d=A(this,this.D);this.F=this.C;break;case 1:d=A(this,this.I);this.F=this.C;break;case 2:d=A(this,this.M);this.F=this.C;break;case 3:d=A(this,this.H);this.F=this.C;break;case 4:d=A(this,Il.call(this,0));this.F=this.C;break;case 5:d=A(this,F(this));this.F=this.C;break;case 6:d=A(this,this.L);this.F=this.C;break;case 7:d=A(this,this.K);this.F=this.C;break;case 64:d=A(this,this.D+this.T());this.F=this.C;break;case 65:d=A(this,this.I+
this.T());this.F=this.C;break;case 66:d=A(this,this.M+this.T());this.F=this.C;break;case 67:d=A(this,this.H+this.T());this.F=this.C;break;case 68:d=A(this,Il.call(this,1)+this.T());this.F=this.C;break;case 69:d=Dh(this,this.N+this.T());this.F=this.C;break;case 70:d=A(this,this.L+this.T());this.F=this.C;break;case 71:d=A(this,this.K+this.T());this.F=this.C;break;case 128:d=A(this,this.D+F(this));this.F=this.C;break;case 129:d=A(this,this.I+F(this));this.F=this.C;break;case 130:d=A(this,this.M+F(this));
this.F=this.C;break;case 131:d=A(this,this.H+F(this));this.F=this.C;break;case 132:d=A(this,Il.call(this,2)+F(this));this.F=this.C;break;case 133:d=Dh(this,this.N+F(this));this.F=this.C;break;case 134:d=A(this,this.L+F(this));this.F=this.C;break;case 135:d=A(this,this.K+F(this));this.F=this.C;break;case 192:d=this.D&255;break;case 193:d=this.I&255;break;case 194:d=this.M&255;break;case 195:d=this.H&255;break;case 196:d=this.D>>8&255;break;case 197:d=this.I>>8&255;break;case 198:d=this.M>>8&255;break;
case 199:d=this.H>>8&255;break;default:d=0}a=a[this.ia>>3&7].call(this,d,b.call(this));switch(c){case 192:this.D=this.D&-256|a;break;case 193:this.I=this.I&-256|a;break;case 194:this.M=this.M&-256|a;break;case 195:this.H=this.H&-256|a;break;case 196:this.D=this.D&-65281|a<<8;break;case 197:this.I=this.I&-65281|a<<8;break;case 198:this.M=this.M&-65281|a<<8;break;case 199:this.H=this.H&-65281|a<<8;break;default:Jh(this,a)}}
function Ag(a){switch((this.ia=this.Aa())&199){case 0:var b=C(this,this.D);break;case 1:b=C(this,this.I);break;case 2:b=C(this,this.M);break;case 3:b=C(this,this.H);break;case 4:b=C(this,Il.call(this,0));break;case 5:b=C(this,F(this));break;case 6:b=C(this,this.L);break;case 7:b=C(this,this.K);break;case 64:b=C(this,this.D+this.T());break;case 65:b=C(this,this.I+this.T());break;case 66:b=C(this,this.M+this.T());break;case 67:b=C(this,this.H+this.T());break;case 68:b=C(this,Il.call(this,1)+this.T());
break;case 69:b=Fh(this,this.N+this.T());break;case 70:b=C(this,this.L+this.T());break;case 71:b=C(this,this.K+this.T());break;case 128:b=C(this,this.D+F(this));break;case 129:b=C(this,this.I+F(this));break;case 130:b=C(this,this.M+F(this));break;case 131:b=C(this,this.H+F(this));break;case 132:b=C(this,Il.call(this,2)+F(this));break;case 133:b=Fh(this,this.N+F(this));break;case 134:b=C(this,this.L+F(this));break;case 135:b=C(this,this.K+F(this));break;case 192:b=this.D&65535;break;case 193:b=this.I&
65535;break;case 194:b=this.M&65535;break;case 195:b=this.H&65535;break;case 196:b=dg(this)&65535;break;case 197:b=this.N&65535;break;case 198:b=this.L&65535;break;case 199:b=this.K&65535;break;default:b=0}var c=this.ia>>3&7;switch(c){case 0:var d=this.D&65535;break;case 1:d=this.I&65535;break;case 2:d=this.M&65535;break;case 3:d=this.H&65535;break;case 4:d=dg(this)&65535;break;case 5:d=this.N&65535;break;case 6:d=this.L&65535;break;case 7:d=this.K&65535;break;default:d=0}a=a.call(this,d,b);switch(c){case 0:this.D=
this.D&-65536|a;break;case 1:this.I=this.I&-65536|a;break;case 2:this.M=this.M&-65536|a;break;case 3:this.H=this.H&-65536|a;break;case 4:fg(this,dg(this)&-65536|a);break;case 5:this.N=this.N&-65536|a;break;case 6:this.L=this.L&-65536|a;break;case 7:this.K=this.K&-65536|a}}
function Bg(a){var b=(this.ia=this.Aa())&199;switch(b){case 0:var c=C(this,this.D);this.F=this.C;break;case 1:c=C(this,this.I);this.F=this.C;break;case 2:c=C(this,this.M);this.F=this.C;break;case 3:c=C(this,this.H);this.F=this.C;break;case 4:c=C(this,Il.call(this,0));this.F=this.C;break;case 5:c=C(this,F(this));this.F=this.C;break;case 6:c=C(this,this.L);this.F=this.C;break;case 7:c=C(this,this.K);this.F=this.C;break;case 64:c=C(this,this.D+this.T());this.F=this.C;break;case 65:c=C(this,this.I+this.T());
this.F=this.C;break;case 66:c=C(this,this.M+this.T());this.F=this.C;break;case 67:c=C(this,this.H+this.T());this.F=this.C;break;case 68:c=C(this,Il.call(this,1)+this.T());this.F=this.C;break;case 69:c=Fh(this,this.N+this.T());this.F=this.C;break;case 70:c=C(this,this.L+this.T());this.F=this.C;break;case 71:c=C(this,this.K+this.T());this.F=this.C;break;case 128:c=C(this,this.D+F(this));this.F=this.C;break;case 129:c=C(this,this.I+F(this));this.F=this.C;break;case 130:c=C(this,this.M+F(this));this.F=
this.C;break;case 131:c=C(this,this.H+F(this));this.F=this.C;break;case 132:c=C(this,Il.call(this,2)+F(this));this.F=this.C;break;case 133:c=Fh(this,this.N+F(this));this.F=this.C;break;case 134:c=C(this,this.L+F(this));this.F=this.C;break;case 135:c=C(this,this.K+F(this));this.F=this.C;break;case 192:c=this.D&65535;break;case 193:c=this.I&65535;break;case 194:c=this.M&65535;break;case 195:c=this.H&65535;break;case 196:c=dg(this)&65535;break;case 197:c=this.N&65535;break;case 198:c=this.L&65535;break;
case 199:c=this.K&65535;break;default:c=0}switch(this.ia>>3&7){case 0:var d=this.D&65535;break;case 1:d=this.I&65535;break;case 2:d=this.M&65535;break;case 3:d=this.H&65535;break;case 4:d=dg(this)&65535;break;case 5:d=this.N&65535;break;case 6:d=this.L&65535;break;case 7:d=this.K&65535;break;default:d=0}a=a.call(this,c,d);switch(b){case 192:this.D=this.D&-65536|a;break;case 193:this.I=this.I&-65536|a;break;case 194:this.M=this.M&-65536|a;break;case 195:this.H=this.H&-65536|a;break;case 196:fg(this,
dg(this)&-65536|a);break;case 197:this.N=this.N&-65536|a;break;case 198:this.L=this.L&-65536|a;break;case 199:this.K=this.K&-65536|a;break;default:Kh(this,a)}}
function Cg(a,b){var c=(this.ia=this.Aa())&199;switch(c){case 0:var d=C(this,this.D);this.F=this.C;break;case 1:d=C(this,this.I);this.F=this.C;break;case 2:d=C(this,this.M);this.F=this.C;break;case 3:d=C(this,this.H);this.F=this.C;break;case 4:d=C(this,Il.call(this,0));this.F=this.C;break;case 5:d=C(this,F(this));this.F=this.C;break;case 6:d=C(this,this.L);this.F=this.C;break;case 7:d=C(this,this.K);this.F=this.C;break;case 64:d=C(this,this.D+this.T());this.F=this.C;break;case 65:d=C(this,this.I+
this.T());this.F=this.C;break;case 66:d=C(this,this.M+this.T());this.F=this.C;break;case 67:d=C(this,this.H+this.T());this.F=this.C;break;case 68:d=C(this,Il.call(this,1)+this.T());this.F=this.C;break;case 69:d=Fh(this,this.N+this.T());this.F=this.C;break;case 70:d=C(this,this.L+this.T());this.F=this.C;break;case 71:d=C(this,this.K+this.T());this.F=this.C;break;case 128:d=C(this,this.D+F(this));this.F=this.C;break;case 129:d=C(this,this.I+F(this));this.F=this.C;break;case 130:d=C(this,this.M+F(this));
this.F=this.C;break;case 131:d=C(this,this.H+F(this));this.F=this.C;break;case 132:d=C(this,Il.call(this,2)+F(this));this.F=this.C;break;case 133:d=Fh(this,this.N+F(this));this.F=this.C;break;case 134:d=C(this,this.L+F(this));this.F=this.C;break;case 135:d=C(this,this.K+F(this));this.F=this.C;break;case 192:d=this.D&65535;break;case 193:d=this.I&65535;break;case 194:d=this.M&65535;break;case 195:d=this.H&65535;break;case 196:d=dg(this)&65535;break;case 197:d=this.N&65535;break;case 198:d=this.L&65535;
break;case 199:d=this.K&65535;break;default:d=0}a=a[this.ia>>3&7].call(this,d,b.call(this));switch(c){case 192:this.D=this.D&-65536|a;break;case 193:this.I=this.I&-65536|a;break;case 194:this.M=this.M&-65536|a;break;case 195:this.H=this.H&-65536|a;break;case 196:fg(this,dg(this)&-65536|a);break;case 197:this.N=this.N&-65536|a;break;case 198:this.L=this.L&-65536|a;break;case 199:this.K=this.K&-65536|a;break;default:Kh(this,a)}}
function Dg(a){var b=this.ia=this.Aa();switch(b&199){case 0:var c=D(this,this.D);break;case 1:c=D(this,this.I);break;case 2:c=D(this,this.M);break;case 3:c=D(this,this.H);break;case 4:c=D(this,Il.call(this,0));break;case 5:c=D(this,F(this));break;case 6:c=D(this,this.L);break;case 7:c=D(this,this.K);break;case 64:c=D(this,this.D+this.T());break;case 65:c=D(this,this.I+this.T());break;case 66:c=D(this,this.M+this.T());break;case 67:c=D(this,this.H+this.T());break;case 68:c=D(this,Il.call(this,1)+this.T());
break;case 69:c=Hh(this,this.N+this.T());break;case 70:c=D(this,this.L+this.T());break;case 71:c=D(this,this.K+this.T());break;case 128:c=D(this,this.D+F(this));break;case 129:c=D(this,this.I+F(this));break;case 130:c=D(this,this.M+F(this));break;case 131:c=D(this,this.H+F(this));break;case 132:c=D(this,Il.call(this,2)+F(this));break;case 133:c=Hh(this,this.N+F(this));break;case 134:c=D(this,this.L+F(this));break;case 135:c=D(this,this.K+F(this));break;case 192:c=this.D;break;case 193:c=this.I;break;
case 194:c=this.M;break;case 195:c=this.H;break;case 196:c=dg(this);break;case 197:c=this.N;break;case 198:c=this.L;break;case 199:c=this.K}switch(b>>3&7){case 0:b=this.D;this.D=a=a.call(this,b,c);break;case 1:b=this.I;this.I=a=a.call(this,b,c);break;case 2:b=this.M;this.M=a=a.call(this,b,c);break;case 3:b=this.H;this.H=a=a.call(this,b,c);break;case 4:b=dg(this);a=a.call(this,b,c);fg(this,a);break;case 5:b=this.N;this.N=a=a.call(this,b,c);break;case 6:b=this.L;this.L=a=a.call(this,b,c);break;case 7:b=
this.K,this.K=a=a.call(this,b,c)}}
function Eg(a){var b=this.ia=this.Aa();switch(b&199){case 0:var c=Gh(this,this.D);break;case 1:c=Gh(this,this.I);break;case 2:c=Gh(this,this.M);break;case 3:c=Gh(this,this.H);break;case 4:c=Gh(this,Il.call(this,0));break;case 5:c=Gh(this,F(this));break;case 6:c=Gh(this,this.L);break;case 7:c=Gh(this,this.K);break;case 64:c=Gh(this,this.D+this.T());break;case 65:c=Gh(this,this.I+this.T());break;case 66:c=Gh(this,this.M+this.T());break;case 67:c=Gh(this,this.H+this.T());break;case 68:c=Gh(this,Il.call(this,
1)+this.T());break;case 69:c=Ih(this,this.N+this.T());break;case 70:c=Gh(this,this.L+this.T());break;case 71:c=Gh(this,this.K+this.T());break;case 128:c=Gh(this,this.D+F(this));break;case 129:c=Gh(this,this.I+F(this));break;case 130:c=Gh(this,this.M+F(this));break;case 131:c=Gh(this,this.H+F(this));break;case 132:c=Gh(this,Il.call(this,2)+F(this));break;case 133:c=Ih(this,this.N+F(this));break;case 134:c=Gh(this,this.L+F(this));break;case 135:c=Gh(this,this.K+F(this));break;case 192:c=this.D;break;
case 193:c=this.I;break;case 194:c=this.M;break;case 195:c=this.H;break;case 196:c=dg(this);break;case 197:c=this.N;break;case 198:c=this.L;break;case 199:c=this.K}switch(b>>3&7){case 0:var d=this.D;break;case 1:d=this.I;break;case 2:d=this.M;break;case 3:d=this.H;break;case 4:d=dg(this);break;case 5:d=this.N;break;case 6:d=this.L;break;case 7:d=this.K}a=a.call(this,c,d);switch(b&199){case 192:this.D=a;break;case 193:this.I=a;break;case 194:this.M=a;break;case 195:this.H=a;break;case 196:fg(this,
a);break;case 197:this.N=a;break;case 198:this.L=a;break;case 199:this.K=a;break;default:Lh(this,a)}}
function Fg(a,b){var c=this.ia=this.Aa();switch(c&199){case 0:var d=Gh(this,this.D);break;case 1:d=Gh(this,this.I);break;case 2:d=Gh(this,this.M);break;case 3:d=Gh(this,this.H);break;case 4:d=Gh(this,Il.call(this,0));break;case 5:d=Gh(this,F(this));break;case 6:d=Gh(this,this.L);break;case 7:d=Gh(this,this.K);break;case 64:d=Gh(this,this.D+this.T());break;case 65:d=Gh(this,this.I+this.T());break;case 66:d=Gh(this,this.M+this.T());break;case 67:d=Gh(this,this.H+this.T());break;case 68:d=Gh(this,Il.call(this,
1)+this.T());break;case 69:d=Ih(this,this.N+this.T());break;case 70:d=Gh(this,this.L+this.T());break;case 71:d=Gh(this,this.K+this.T());break;case 128:d=Gh(this,this.D+F(this));break;case 129:d=Gh(this,this.I+F(this));break;case 130:d=Gh(this,this.M+F(this));break;case 131:d=Gh(this,this.H+F(this));break;case 132:d=Gh(this,Il.call(this,2)+F(this));break;case 133:d=Ih(this,this.N+F(this));break;case 134:d=Gh(this,this.L+F(this));break;case 135:d=Gh(this,this.K+F(this));break;case 192:d=this.D;break;
case 193:d=this.I;break;case 194:d=this.M;break;case 195:d=this.H;break;case 196:d=dg(this);break;case 197:d=this.N;break;case 198:d=this.L;break;case 199:d=this.K}a=a[c>>3&7].call(this,d,b.call(this));switch(c&199){case 192:this.D=a;break;case 193:this.I=a;break;case 194:this.M=a;break;case 195:this.H=a;break;case 196:fg(this,a);break;case 197:this.N=a;break;case 198:this.L=a;break;case 199:this.K=a;break;default:Lh(this,a)}}
function Il(a){var b=this.Aa(),c=b>>6;switch(b>>3&7){case 0:var d=this.D;break;case 1:d=this.I;break;case 2:d=this.M;break;case 3:d=this.H;break;case 4:d=0;break;case 5:d=this.N;break;case 6:d=this.L;break;case 7:d=this.K}switch(b&7){case 0:var e=this.D;break;case 1:e=this.I;break;case 2:e=this.M;break;case 3:e=this.H;break;case 4:e=dg(this);this.Oa=this.Xb;break;case 5:a?(e=this.N,this.Oa=this.Xb):e=F(this);break;case 6:e=this.L;break;case 7:e=this.K}return(d<<c)+e|0}
function Ef(){this.Zd[this.Aa()].call(this)}function Gf(){Qh(this,dg(this)&this.S);this.A-=this.B.Dd}function nf(){this.xa=this.Ma;var a=dg(this)&this.S;Qh(this,this.D&this.S);Qh(this,this.I&this.S);Qh(this,this.M&this.S);Qh(this,this.H&this.S);Qh(this,a);Qh(this,this.N&this.S);Qh(this,this.L&this.S);Qh(this,this.K&this.S);this.A-=this.B.Ct;this.xa=4294967296}
function of(){this.xa=this.Ma;this.K=this.K&~this.S|Ph(this);this.L=this.L&~this.S|Ph(this);this.N=this.N&~this.S|Ph(this);fg(this,dg(this)+this.Y);this.H=this.H&~this.S|Ph(this);this.M=this.M&~this.S|Ph(this);this.I=this.I&~this.S|Ph(this);this.D=this.D&~this.S|Ph(this);this.A-=this.B.At;this.xa=4294967296}function pf(){this.pa.call(this,Kj)}function Hf(){!(this.ta&1)||this.P&131072?eh.call(this,6):this.Ba.call(this,Jj)}function If(){this.O|=20;this.Oa=this.Xb=this.Qa;this.A-=this.B.oe}
function Jf(){this.O|=20;this.Oa=this.Xb=this.Ta;this.A-=this.B.oe}function Kf(){this.O|=1024;this.ba&1024||(this.Y^=6,this.S^=-65536,Mg(this));this.A-=this.B.oe}function Lf(){this.O|=2048;this.ba&2048||(this.jd^=6,this.Fa^=-65536,ng(this));this.A-=this.B.oe}function qf(){Qh(this,this.Ua());this.A-=this.B.Dd}function rf(){this.pa.call(this,mk)}function sf(){Qh(this,this.T());this.A-=this.B.Dd}function tf(){this.pa.call(this,kk)}
function uf(){var a=1,b=0,c=this.Fa,d=5;this.ba&192&&(a=this.I&c,b=1,this.ba&256&&(d=4));if(a--){var e=this.M&65535;zh(this,e,1,!0)&&(e=Rd(this.ra,e,1,this.Z-b-1),this.Ob(this.ka.yc(this.K&c,1),e),this.K=this.K&~c|this.K+(this.P&1024?-1:1)&c,this.I=this.I&~c|this.I-b&c,this.A-=d,a&&fh(this))}}
function vf(){var a=1,b=0,c=this.Fa,d=5;this.ba&192&&(a=this.I&c,b=1,this.ba&256&&(d=4));if(a--){var e=this.M&65535;zh(this,e,this.Y,!0)&&(e=Rd(this.ra,e,this.Y,this.Z-b-1),Nh(this,this.ka,this.K&c,e),this.K=this.K&~c|this.K+(this.P&1024?-this.Y:this.Y)&c,this.I=this.I&~c|this.I-b&c,this.A-=d,a&&fh(this))}}
function wf(){var a=1,b=0,c=this.Fa,d=5;this.ba&192&&(a=this.I&c,b=1,this.ba&256&&(d=4));if(a--){var e=this.M&65535;if(zh(this,e,1,!1)){var f=this.Ia(this.Ha.Ub(this.L&c,1));Ud(this.ra,e,1,f,this.Z-b-1);this.L=this.L&~c|this.L+(this.P&1024?-1:1)&c;this.I=this.I&~c|this.I-b&c;this.A-=d;a&&fh(this)}}}
function xf(){var a=1,b=0,c=this.Fa,d=5;this.ba&192&&(a=this.I&c,b=1,this.ba&256&&(d=4));if(a--){var e=Mh(this,this.Ha,this.L&c),f=this.M&65535;zh(this,f,this.Y,!1)&&(Ud(this.ra,f,this.Y,e,this.Z-b-1),this.L=this.L&~c|this.L+(this.P&1024?-this.Y:this.Y)&c,this.I=this.I&~c|this.I-b&c,this.A-=d,a&&fh(this))}}function Jl(){var a=this.T();mh(this)?(bh(this,kg(this)+a),this.A-=this.B.pb):this.A-=this.B.qb}function Kl(){var a=this.T();mh(this)?this.A-=this.B.qb:(bh(this,kg(this)+a),this.A-=this.B.pb)}
function Ll(){var a=this.T();hh(this)?(bh(this,kg(this)+a),this.A-=this.B.pb):this.A-=this.B.qb}function Ml(){var a=this.T();hh(this)?this.A-=this.B.qb:(bh(this,kg(this)+a),this.A-=this.B.pb)}function Nl(){var a=this.T();kh(this)?(bh(this,kg(this)+a),this.A-=this.B.pb):this.A-=this.B.qb}function Ol(){var a=this.T();kh(this)?this.A-=this.B.qb:(bh(this,kg(this)+a),this.A-=this.B.pb)}function Pl(){var a=this.T();hh(this)||kh(this)?(bh(this,kg(this)+a),this.A-=this.B.pb):this.A-=this.B.qb}
function Ql(){var a=this.T();hh(this)||kh(this)?this.A-=this.B.qb:(bh(this,kg(this)+a),this.A-=this.B.pb)}function Rl(){var a=this.T();lh(this)?(bh(this,kg(this)+a),this.A-=this.B.pb):this.A-=this.B.qb}function Sl(){var a=this.T();lh(this)?this.A-=this.B.qb:(bh(this,kg(this)+a),this.A-=this.B.pb)}function Tl(){var a=this.T();ih(this)?(bh(this,kg(this)+a),this.A-=this.B.pb):this.A-=this.B.qb}function Ul(){var a=this.T();ih(this)?this.A-=this.B.qb:(bh(this,kg(this)+a),this.A-=this.B.pb)}
function Vl(){var a=this.T();!lh(this)!=!mh(this)?(bh(this,kg(this)+a),this.A-=this.B.pb):this.A-=this.B.qb}function Wl(){var a=this.T();!lh(this)==!mh(this)?(bh(this,kg(this)+a),this.A-=this.B.pb):this.A-=this.B.qb}function Xl(){var a=this.T();kh(this)||!lh(this)!=!mh(this)?(bh(this,kg(this)+a),this.A-=this.B.pb):this.A-=this.B.qb}function Yl(){var a=this.T();kh(this)||!lh(this)!=!mh(this)?this.A-=this.B.qb:(bh(this,kg(this)+a),this.A-=this.B.pb)}
function Zl(){this.qe.call(this,$l,this.Aa);this.A-=4294967296===this.F?1:this.B.ql}function am(){this.O|=1;this.Pc.call(this,yk)}function bm(){this.O|=1;this.Ba.call(this,yk)}function cm(){this.Bc.call(this,yk)}function dm(){this.pa.call(this,yk)}function yf(){this.qe.call(this,fm,zl)}function zf(){this.sb.call(this,2==this.Y?gm:hm,zl)}function im(){var a=Oh(this),b=Ph(this);bh(this,b);a&&fg(this,dg(this)+a);this.A-=this.B.Ht}function jm(){var a=Ph(this);bh(this,a);this.A-=this.B.Et}
function Af(){this.xa=this.Ma;var a=Oh(this),b=this.Aa()&31;this.A-=11;Qh(this,this.N);var c=dg(this)&this.S;if(0<b){for(this.A-=(b<<2)+(1<b?1:0);--b;)this.N=this.N&~this.S|this.N-this.Y&this.S,Qh(this,Mh(this,this.U,this.N&this.S));Qh(this,c)}this.N=this.N&~this.S|c;fg(this,dg(this)&~this.U.Fa|dg(this)-a&this.U.Fa);this.xa=4294967296}function Bf(){this.xa=this.Ma;fg(this,dg(this)&~this.U.Fa|this.N&this.U.Fa);this.N=this.N&~this.S|Ph(this)&this.S;this.A-=5;this.xa=4294967296}
function km(){Fl.call(this,Oh(this));this.A-=this.B.Gt}function lm(){Fl.call(this,0);this.A-=this.B.Ft}function mm(a){this.Tp=a;this.pa.call(this,Xj)}function nm(){this.O|=36;this.A-=this.B.oe}function Sf(){var a=this.B.Zn;this.ed=-1;Dl.call(this,1,null,1,a)}function ii(){this.P&131072?eh.call(this,13,0):(this.La|=4,this.A-=2,this.fa&&v(this,70368744177666)?(this.Z=this.xd,El(this.fa)):this.P&512||(this.fa&&(this.Z=this.xd),Fe(this)))}function mf(){eh.call(this,6)}
function Cf(){bh(this,this.xd-this.ca.Da);yc(this,"Undefined opcode "+Ya(this.Ia(this.Z))+" at "+Xa(this.Z,8,!0));Fe(this)}
var hf=[function(){this.Pc.call(this,Fj)},function(){this.Ba.call(this,Gj)},function(){this.Bc.call(this,Fj)},function(){this.pa.call(this,Gj)},function(){this.D=this.D&-256|Fj.call(this,this.D&255,this.Aa());this.A--},function(){this.D=this.D&~this.S|Gj.call(this,this.D&this.S,this.Ua());this.A--},function(){Rh(this,this.ka.W,this.Y,2);this.A-=this.B.zg},function(){this.xa=this.Ma;ah(this,Ph(this));this.A-=this.B.Rc;this.xa=4294967296},function(){this.Pc.call(this,Dk)},function(){this.Ba.call(this,
Ek)},function(){this.Bc.call(this,Dk)},function(){this.pa.call(this,Ek)},function(){this.D=this.D&-256|Dk.call(this,this.D&255,this.Aa());this.A--},function(){this.D=this.D&~this.S|Ek.call(this,this.D&this.S,this.Ua());this.A--},function(){Rh(this,this.ca.W,this.Y,2);this.A-=this.B.zg},function(){Zg(this,Ph(this));this.A-=this.B.Rc},function(){this.Pc.call(this,Dj)},function(){this.Ba.call(this,Ej)},function(){this.Bc.call(this,Dj)},function(){this.pa.call(this,Ej)},function(){this.D=this.D&-256|
Dj.call(this,this.D&255,this.Aa());this.A--},function(){this.D=this.D&~this.S|Ej.call(this,this.D&this.S,this.Ua());this.A--},function(){Rh(this,this.U.W,this.Y,2);this.A-=this.B.zg},function(){this.xa=this.Ma;ig(this,Ph(this));this.A-=this.B.Rc;this.xa=4294967296},function(){this.Pc.call(this,Fk)},function(){this.Ba.call(this,Gk)},function(){this.Bc.call(this,Fk)},function(){this.pa.call(this,Gk)},function(){this.D=this.D&-256|Fk.call(this,this.D&255,this.Aa());this.A--},function(){this.D=this.D&
~this.S|Gk.call(this,this.D&this.S,this.Ua());this.A--},function(){Rh(this,this.Ha.W,this.Y,2);this.A-=this.B.zg},function(){this.xa=this.Ma;$g(this,Ph(this));this.A-=this.B.Rc;this.xa=4294967296},function(){this.Pc.call(this,Hj)},function(){this.Ba.call(this,Ij)},function(){this.Bc.call(this,Hj)},function(){this.pa.call(this,Ij)},function(){this.D=this.D&-256|Hj.call(this,this.D&255,this.Aa());this.A--},function(){this.D=this.D&~this.S|Ij.call(this,this.D&this.S,this.Ua());this.A--},function(){this.O|=
20;this.Oa=this.Xb=this.ka;this.A-=this.B.oe},function(){var a=this.D&255,b=jh(this),c=hh(this);9<(a&15)||b?(a+=6,b=16):b=0;159<a||c?(a+=96,c=1):c=0;a&=255;this.D=this.D&-256|a;nh(this,a,128);c?oh(this):ph(this);b?wh(this):sh(this);this.A-=this.B.yg},function(){this.Pc.call(this,hl)},function(){this.Ba.call(this,il)},function(){this.Bc.call(this,hl)},function(){this.pa.call(this,il)},function(){this.D=this.D&-256|hl.call(this,this.D&255,this.Aa());this.A--},function(){this.D=this.D&~this.S|il.call(this,
this.D&this.S,this.Ua());this.A--},function(){this.O|=20;this.Oa=this.Xb=this.ca;this.A-=this.B.oe},function(){var a=this.D&255,b=jh(this),c=hh(this);9<(a&15)||b?(a-=6,b=16):b=0;159<a||c?(a-=96,c=1):c=0;a&=255;this.D=this.D&-256|a;nh(this,a,128);c?oh(this):ph(this);b?wh(this):sh(this);this.A-=this.B.yg},function(){this.Pc.call(this,pl)},function(){this.Ba.call(this,ql)},function(){this.Bc.call(this,pl)},function(){this.pa.call(this,ql)},function(){this.D=this.D&-256|pl.call(this,this.D&255,this.Aa());
this.A--},function(){this.D=this.D&~this.S|ql.call(this,this.D&this.S,this.Ua());this.A--},function(){this.O|=20;this.Oa=this.Xb=this.U;this.A-=this.B.oe},function(){var a,b=this.D&255,c=this.D>>8&255;if(9<(b&15)||jh(this)){b+=6;80286<=this.model&&255<b&&c++;c++;var d=a=1}else d=a=0;this.D=this.D&-65536|(c<<8|b)&65295;d?oh(this):ph(this);a?wh(this):sh(this);this.A-=this.B.yg},function(){this.Pc.call(this,Vj)},function(){this.Ba.call(this,Wj)},function(){this.Bc.call(this,Vj)},function(){this.pa.call(this,
Wj)},function(){Vj.call(this,this.D&255,this.Aa());this.A--},function(){Wj.call(this,this.D&this.S,this.Ua());this.A--},function(){this.O|=20;this.Oa=this.Xb=this.Ha;this.A-=this.B.oe},function(){var a,b=this.D&255,c=this.D>>8&255;if(9<(b&15)||jh(this)){b=b-6&15;c=c-1&255;var d=a=1}else d=a=0;this.D=this.D&-65536|c<<8|b;d?oh(this):ph(this);a?wh(this):sh(this);this.A-=this.B.yg},function(){this.D=ul.call(this,this.D)},function(){this.I=ul.call(this,this.I)},function(){this.M=ul.call(this,this.M)},
function(){this.H=ul.call(this,this.H)},function(){fg(this,ul.call(this,dg(this)))},function(){this.N=ul.call(this,this.N)},function(){this.L=ul.call(this,this.L)},function(){this.K=ul.call(this,this.K)},function(){this.D=sl.call(this,this.D)},function(){this.I=sl.call(this,this.I)},function(){this.M=sl.call(this,this.M)},function(){this.H=sl.call(this,this.H)},function(){fg(this,sl.call(this,dg(this)))},function(){this.N=sl.call(this,this.N)},function(){this.L=sl.call(this,this.L)},function(){this.K=
sl.call(this,this.K)},function(){Qh(this,this.D&this.S);this.A-=this.B.Dd},function(){Qh(this,this.I&this.S);this.A-=this.B.Dd},function(){Qh(this,this.M&this.S);this.A-=this.B.Dd},function(){Qh(this,this.H&this.S);this.A-=this.B.Dd},function(){Qh(this,dg(this)-2&65535);this.A-=this.B.Dd},function(){Qh(this,this.N&this.S);this.A-=this.B.Dd},function(){Qh(this,this.L&this.S);this.A-=this.B.Dd},function(){Qh(this,this.K&this.S);this.A-=this.B.Dd},function(){this.D=this.D&~this.S|Ph(this);this.A-=this.B.Rc},
function(){this.I=this.I&~this.S|Ph(this);this.A-=this.B.Rc},function(){this.M=this.M&~this.S|Ph(this);this.A-=this.B.Rc},function(){this.H=this.H&~this.S|Ph(this);this.A-=this.B.Rc},function(){fg(this,dg(this)&~this.S|Ph(this));this.A-=this.B.Rc},function(){this.N=this.N&~this.S|Ph(this);this.A-=this.B.Rc},function(){this.L=this.L&~this.S|Ph(this);this.A-=this.B.Rc},function(){this.K=this.K&~this.S|Ph(this);this.A-=this.B.Rc},Jl,Kl,Ll,Ml,Nl,Ol,Pl,Ql,Rl,Sl,Tl,Ul,Vl,Wl,Xl,Yl,Jl,Kl,Ll,Ml,Nl,Ol,Pl,Ql,
Rl,Sl,Tl,Ul,Vl,Wl,Xl,Yl,Zl,function(){this.sb.call(this,om,this.Ua);this.A-=4294967296===this.F?1:this.B.ql},Zl,function(){this.sb.call(this,om,this.T);this.A-=4294967296===this.F?1:this.B.ql},function(){this.Pc.call(this,jl)},function(){this.Ba.call(this,kl)},function(){this.Bc.call(this,nl)},function(){this.pa.call(this,ol)},am,bm,cm,dm,function(){this.O|=1;this.Ba.call(this,Ck)},function(){this.O|=1;this.Oa=this.Xb=this.So;this.pa.call(this,sk)},function(){this.pa.call(this,Bk);switch(this.ia>>
3&7){case 0:var a=this.D;this.D=this.ya;ah(this,a);break;case 1:a=this.I;this.I=this.ya;Zg(this,a);break;case 2:a=this.M;this.M=this.ya;ig(this,a);break;case 3:a=this.H;this.H=this.ya;$g(this,a);break;case 4:a=dg(this);fg(this,this.ya);80386<=this.model?this.Qa.load(a):ah(this,a);break;case 5:a=this.N;this.N=this.ya;80386<=this.model?this.Ta.load(a):Zg(this,a);break;case 6:a=this.L;this.L=this.ya;ig(this,a);break;case 7:a=this.K,this.K=this.ya,$g(this,a)}},function(){this.O|=1;this.xa=this.Ma;this.ya=
Ph(this);this.sb.call(this,pm,Bl);this.xa=4294967296},function(){this.A-=3;this.ba&32&&80386<=this.model&&eh.call(this,6,0)},function(){var a=this.D;this.D=this.D&~this.S|this.I&this.S;this.I=this.I&~this.S|a&this.S;this.A-=3},function(){var a=this.D;this.D=this.D&~this.S|this.M&this.S;this.M=this.M&~this.S|a&this.S;this.A-=3},function(){var a=this.D;this.D=this.D&~this.S|this.H&this.S;this.H=this.H&~this.S|a&this.S;this.A-=3},function(){var a=this.D,b=dg(this);this.D=this.D&~this.S|b&this.S;fg(this,
b&~this.S|a&this.S);this.A-=3},function(){var a=this.D;this.D=this.D&~this.S|this.N&this.S;this.N=this.N&~this.S|a&this.S;this.A-=3},function(){var a=this.D;this.D=this.D&~this.S|this.L&this.S;this.L=this.L&~this.S|a&this.S;this.A-=3},function(){var a=this.D;this.D=this.D&~this.S|this.K&this.S;this.K=this.K&~this.S|a&this.S;this.A-=3},function(){this.D=2==this.Y?this.D&-65536|this.D<<24>>24&65535:this.D<<16>>16;this.A-=2},function(){this.M=2==this.Y?this.M&-65536|(this.D&32768?65535:0):this.D&-2147483648?
-1:0;this.A-=this.B.Os},function(){Cl.call(this,this.Ua(),Oh(this));this.A-=this.B.Rs},function(){this.A-=3},function(){var a=Pg(this);a&131072&&3>this.Kc?eh.call(this,13,0):(Qh(this,a&-196609),this.A-=this.B.Dd)},function(){if(this.P&131072&&3>this.Kc)eh.call(this,13,0);else{var a=Ph(this);a=a&65535|this.P&-65536;lg(this,a);this.A-=this.B.Rc}},function(){var a=this.D>>8&255;a&1?oh(this):ph(this);a&4?(this.resultType&=-3,this.P|=4):(this.resultType&=-3,this.P&=-5);a&16?wh(this):sh(this);a&64?xh(this):
vh(this);a&128?(this.resultType&=-17,this.P|=128):(this.resultType&=-17,this.P&=-129);this.A-=this.B.Ec},function(){this.D=this.D&-65281|(Pg(this)&255)<<8;this.A-=this.B.Ec},function(){var a=this.D&-256;var b=this.Oa;var c=F(this);b=this.Ia(b.Ub(c,1));this.D=a|b;this.A-=this.B.io},function(){this.D=this.D&~this.S|Mh(this,this.Oa,F(this));this.A-=this.B.io},function(){var a=this.Oa,b=F(this),c=this.D;this.Ob(a.yc(b,1),c);this.A-=this.B.jo},function(){Nh(this,this.Oa,F(this),this.D);this.A-=this.B.jo},
function(){var a=1,b=0,c=this.Fa,d=this.B.ko;this.ba&192&&(a=this.I&c,b=1,d=this.B.mo,this.ba&256||(this.A-=this.B.lo));if(a--){var e=this.ka,f=this.K&c,g=this.Ia(this.Oa.Ub(this.L&c,1));this.Ob(e.yc(f,1),g);e=this.P&1024?-1:1;this.L=this.L&~c|this.L+e&c;this.K=this.K&~c|this.K+e&c;this.A-=d;this.I=this.I&~c|this.I-b&c;a&&fh(this,!0)}},function(){var a=1,b=0,c=this.Fa,d=this.B.ko;this.ba&192&&(a=this.I&c,b=1,d=this.B.mo,this.ba&256||(this.A-=this.B.lo));if(a--){Nh(this,this.ka,this.K&c,Mh(this,this.Oa,
this.L&c));var e=this.P&1024?-this.Y:this.Y;this.L=this.L&~c|this.L+e&c;this.K=this.K&~c|this.K+e&c;this.A-=d;this.I=this.I&~c|this.I-b&c;a&&fh(this,!0)}},function(){var a=1,b=0,c=this.Fa,d=this.B.Tn;this.ba&192&&(a=this.I&c,b=1,d=this.B.Vn,this.ba&256||(this.A-=this.B.Un));if(a--){var e=Bh(this,this.Oa,this.L),f=Bh(this,this.ka,this.K);this.F=this.C;Vj.call(this,e,f);e=this.P&1024?-1:1;this.L=this.L&~c|this.L+e&c;this.K=this.K&~c|this.K+e&c;this.I=this.I&~c|this.I-b&c;this.A-=d-this.B.nc;a&&kh(this)==
(this.ba&64)&&fh(this,!0)}},function(){var a=1,b=0,c=this.Fa,d=this.B.Tn;this.ba&192&&(a=this.I&c,b=1,d=this.B.Vn,this.ba&256||(this.A-=this.B.Un));if(a--){var e=Eh(this,this.Oa,this.L&c),f=Eh(this,this.ka,this.K&c);this.F=this.C;Wj.call(this,e,f);e=this.P&1024?-this.Y:this.Y;this.L=this.L&~c|this.L+e&c;this.K=this.K&~c|this.K+e&c;this.I=this.I&~c|this.I-b&c;this.A-=d-this.B.nc;a&&kh(this)==(this.ba&64)&&fh(this,!0)}},function(){nh(this,this.D&this.Aa(),128);this.A-=this.B.yg},function(){nh(this,
this.D&this.Ua(),this.Ib);this.A-=this.B.yg},function(){var a=1,b=0,c=this.Fa,d=this.B.vo;this.ba&192&&(a=this.I&c,b=1,d=this.B.xo,this.ba&256||(this.A-=this.B.wo));if(a--){var e=this.D;this.Ob(this.ka.yc(this.K&c,1),e);this.I=this.I&~c|this.I-b&c;80546<=this.Le&&80564>=this.Le&&!(this.ba&2048)!=(103!=this.Ia(this.Z))&&(c^=-65536);this.K=this.K&~c|this.K+(this.P&1024?-1:1)&c;this.A-=d;a&&fh(this)}},function(){var a=1,b=0,c=this.Fa,d=this.B.vo;this.ba&192&&(a=this.I&c,b=1,d=this.B.xo,this.ba&256||
(this.A-=this.B.wo));a--&&(Nh(this,this.ka,this.K&c,this.D),this.K=this.K&~c|this.K+(this.P&1024?-this.Y:this.Y)&c,this.I=this.I&~c|this.I-b&c,this.A-=d,a&&fh(this))},function(){var a=1,b=0,c=this.Fa,d=this.B.ao;this.ba&192&&(a=this.I&c,b=1,d=this.B.co,this.ba&256||(this.A-=this.B.bo));if(a--){var e=this.Ia(this.Oa.Ub(this.L&c,1));this.D=this.D&-256|e;this.L=this.L&~c|this.L+(this.P&1024?-1:1)&c;this.I=this.I&~c|this.I-b&c;this.A-=d;a&&fh(this,!0)}},function(){var a=1,b=0,c=this.Fa,d=this.B.ao;this.ba&
192&&(a=this.I&c,b=1,d=this.B.co,this.ba&256||(this.A-=this.B.bo));if(a--){var e=Mh(this,this.Oa,this.L&c);this.D=this.D&~this.S|e;this.L=this.L&~c|this.L+(this.P&1024?-this.Y:this.Y)&c;this.I=this.I&~c|this.I-b&c;this.A-=d;a&&fh(this,!0)}},function(){var a=1,b=0,c=this.Fa,d=this.B.po;this.ba&192&&(a=this.I&c,b=1,d=this.B.ro,this.ba&256||(this.A-=this.B.qo));if(a--){var e=this.D&255,f=Bh(this,this.ka,this.K);this.F=this.C;Vj.call(this,e,f);this.K=this.K&~c|this.K+(this.P&1024?-1:1)&c;this.I=this.I&
~c|this.I-b&c;this.A-=d-this.B.nc;a&&kh(this)==(this.ba&64)&&fh(this)}},function(){var a=1,b=0,c=this.Fa,d=this.B.po;this.ba&192&&(a=this.I&c,b=1,d=this.B.ro,this.ba&256||(this.A-=this.B.qo));if(a--){var e=this.D&this.S,f=Eh(this,this.ka,this.K&c);this.F=this.C;Wj.call(this,e,f);this.K=this.K&~c|this.K+(this.P&1024?-this.Y:this.Y)&c;this.I=this.I&~c|this.I-b&c;this.A-=d-this.B.nc;a&&kh(this)==(this.ba&64)&&fh(this)}},function(){this.D=this.D&-256|this.Aa();this.A-=this.B.Ec},function(){this.I=this.I&
-256|this.Aa();this.A-=this.B.Ec},function(){this.M=this.M&-256|this.Aa();this.A-=this.B.Ec},function(){this.H=this.H&-256|this.Aa();this.A-=this.B.Ec},function(){this.D=this.D&-65281|this.Aa()<<8;this.A-=this.B.Ec},function(){this.I=this.I&-65281|this.Aa()<<8;this.A-=this.B.Ec},function(){this.M=this.M&-65281|this.Aa()<<8;this.A-=this.B.Ec},function(){this.H=this.H&-65281|this.Aa()<<8;this.A-=this.B.Ec},function(){this.D=this.D&~this.S|this.Ua();this.A-=this.B.Ec},function(){this.I=this.I&~this.S|
this.Ua();this.A-=this.B.Ec},function(){this.M=this.M&~this.S|this.Ua();this.A-=this.B.Ec},function(){this.H=this.H&~this.S|this.Ua();this.A-=this.B.Ec},function(){fg(this,dg(this)&~this.S|this.Ua());this.A-=this.B.Ec},function(){this.N=this.N&~this.S|this.Ua();this.A-=this.B.Ec},function(){this.L=this.L&~this.S|this.Ua();this.A-=this.B.Ec},function(){this.K=this.K&~this.S|this.Ua();this.A-=this.B.Ec},im,jm,im,jm,function(){this.pa.call(this,tk)},function(){this.pa.call(this,rk)},function(){this.O|=
1;this.qe.call(this,qm,this.Aa)},function(){this.O|=1;this.sb.call(this,qm,this.Ua)},km,lm,km,lm,function(){if(this.P&131072&&3>this.Kc)eh.call(this,13,0);else{var a=this.B.Zn;this.ed=-1;Dl.call(this,3,null,1,a)}},function(){var a=this.Aa();if(this.P&131072&&3>this.Kc)eh.call(this,13,0);else{a:{var b=this.nh[a];if(void 0!==b)for(var c=0;c<b.length;c++)if(!b[c](this.Z)){b=!1;break a}this.flags.Fn&&v(this,1024)&&rm(this.fa,a,this.Z);b=!0}b?(this.ed=-1,Dl.call(this,a,null,2)):this.A--}},function(){if(mh(this))if(this.P&
131072&&3>this.Kc)eh.call(this,13,0);else{var a=this.B.it;this.ed=-1;Dl.call(this,4,null,1,a)}else this.A-=this.B.jt},function(){if(this.P&131072&&3>this.Kc)eh.call(this,13,0);else{this.O|=16384;this.Fd=this.U.W;this.xa=this.Ma;this.A-=this.B.gt;if(this.ta&1&&16384==(this.P&147456)){var a=this.qa(this.la.Da+0);Cj(this.ca,a,!1)}else{a=this.Xa;var b=Ph(this),c=Ph(this),d=Ph(this);if(this.P&131072)d=d&131071|this.P&-131072;else if(d&131072){var e=Ph(this),f=Ph(this),g=Ph(this),h=Ph(this),k=Ph(this),
l=Ph(this);mg(this,!0,!0);ig(this,f);fg(this,e);ah(this,g);$g(this,h);this.Qa.load(k);this.Ta.load(l)}null!=jg(this,b,c,!1)&&(lg(this,d,a),this.al&&Sg(this,this.Z))}this.xa=4294967296;this.Fd=-1}},function(){this.qe.call(this,fm,xl)},function(){this.sb.call(this,2==this.Y?gm:hm,xl)},function(){this.qe.call(this,fm,yl)},function(){this.sb.call(this,2==this.Y?gm:hm,yl)},function(){var a=this.Aa();if(a){var b=this.D&255;this.D=this.D&-65536|b/a<<8|b%a;nh(this,this.D,128);this.A-=this.B.Ls}else Hl.call(this)},
function(){var a=this.D&255,b=(this.D>>8&255)*this.Aa()|0,c=a+b|0;this.D=this.D&-65536|c&255;gh(this,a,b,c,191);this.A-=this.B.Ks},function(){this.D=this.D&-256|(hh(this)?255:0);this.A-=2},function(){this.D=this.D&-256|Bh(this,this.Oa,this.H+(this.D&255));this.A-=this.B.Jt},function(){mm.call(this,216)},function(){mm.call(this,217)},function(){mm.call(this,218)},function(){mm.call(this,219)},function(){mm.call(this,220)},function(){mm.call(this,221)},function(){mm.call(this,222)},function(){mm.call(this,
223)},function(){var a=this.T(),b=this.I-1&this.Fa;this.I=this.I&~this.Fa|b;b&&!kh(this)?(bh(this,kg(this)+a),this.A-=this.B.qt):this.A-=this.B.eo},function(){var a=this.T(),b=this.I-1&this.Fa;this.I=this.I&~this.Fa|b;b&&kh(this)?(bh(this,kg(this)+a),this.A-=this.B.fo):this.A-=this.B.ho},function(){var a=this.T(),b=this.I-1&this.Fa;this.I=this.I&~this.Fa|b;b?(bh(this,kg(this)+a),this.A-=this.B.pt):this.A-=this.B.eo},function(){var a=this.T();this.I&this.Fa?this.A-=this.B.ho:(bh(this,kg(this)+a),this.A-=
this.B.fo)},function(){var a=this.Aa();zh(this,a,1,!0)&&(this.D=this.D&-256|Rd(this.ra,a,1,this.Z-2)&255,this.A-=this.B.Yn)},function(){var a=this.Aa();zh(this,a,this.Y,!0)&&(this.D=this.D&~this.S|Rd(this.ra,a,this.Y,this.Z-2)&this.S,this.A-=this.B.Yn)},function(){var a=this.Aa();zh(this,a,1,!1)&&(Ud(this.ra,a,1,this.D&255,this.Z-2),this.A-=this.B.oo)},function(){var a=this.Aa();zh(this,a,this.Y,!1)&&(Ud(this.ra,a,this.Y,this.D&this.S,this.Z-2),this.A-=this.B.oo)},function(){var a=this.Ua(),b=kg(this);
a=b+a;Qh(this,b);bh(this,a);this.A-=this.B.Ps},function(){var a=this.Ua();bh(this,kg(this)+a);this.A-=this.B.$n},function(){jg(this,this.Ua(),Oh(this));this.A-=this.B.lt},function(){var a=this.T();bh(this,kg(this)+a);this.A-=this.B.$n},function(){var a=this.M&65535;zh(this,a,1,!0)&&(this.D=this.D&-256|Rd(this.ra,a,1,this.Z-1)&255,this.A-=this.B.Xn)},function(){var a=this.M&65535;zh(this,a,this.Y,!0)&&(this.D=this.D&~this.S|Rd(this.ra,a,this.Y,this.Z-1)&this.S,this.A-=this.B.Xn)},function(){var a=
this.M&65535;zh(this,a,1,!1)&&(Ud(this.ra,a,1,this.D&255,this.Z-1),this.A-=this.B.no)},function(){var a=this.M&65535;zh(this,a,2,!1)&&(Ud(this.ra,a,this.Y,this.D&this.S,this.Z-1),this.A-=this.B.no)},nm,nm,function(){this.O|=132;this.A-=this.B.oe},function(){this.O|=68;this.A-=this.B.oe},ii,function(){hh(this)?ph(this):oh(this);this.A-=2},function(){this.Sc=!1;this.qe.call(this,sm,Al);this.Sc&&(this.D=this.D&~this.S|this.Na&this.S)},function(){this.Sc=!1;this.sb.call(this,tm,Al);this.Sc&&(this.D=this.D&
~this.S|this.Na&this.S,this.M=this.M&~this.S|this.gb&this.S)},function(){ph(this);this.A-=2},function(){oh(this);this.A-=2},function(){this.Xa>this.Kc?eh.call(this,13,0):(this.P&=-513,this.A-=this.B.Ns)},function(){this.Xa>this.Kc?eh.call(this,13,0):(this.P|=512,this.O|=4,this.A-=2)},function(){this.P&=-1025;this.A-=2},function(){this.P|=1024;this.A-=2},function(){this.qe.call(this,jf,Al)},function(){this.sb.call(this,kf,Al)}],$l=[Fj,Dk,Dj,Fk,Hj,hl,pl,Vj],om=[Gj,Ek,Ej,Gk,Ij,il,ql,Wj],pm=[function(a,
b){this.A-=4294967296===this.F?this.B.Rc:this.B.Bt;return b},ik,ik,ik,ik,ik,ik,ik],qm=[function(a,b){this.A-=4294967296===this.F?this.B.tt:this.B.rt;return b},jk,jk,jk,jk,jk,jk,jk],fm=[function(a,b){var c=a;if(b&=this.bb){if(b&=7){var d=a<<b-1;c=(a<<b|a>>8-b)&255}else d=a<<7;th(this,c,d,128)}return c},function(a,b){var c=a;if(b&=this.bb){if(b&=7){var d=a<<8-b;c=(a>>>b|d)&255}else d=a;th(this,c,d,128)}return c},function(a,b){var c=a;if(b&=this.bb){var d=uh(this);(b%=9)?(c=(a<<b|d<<b-1|a>>9-b)&255,
d=a<<b-1):d<<=7;th(this,c,d,128)}return c},function(a,b){var c=a;if(b&=this.bb){var d=uh(this);(b%=9)?(c=(a>>b|d<<8-b|a<<9-b)&255,d=a<<8-b):d<<=7;th(this,c,d,128)}return c},function(a,b){var c=a;if(b&=this.bb){var d=0;8<b?c=0:(d=a<<b-1,c=d<<1&255);nh(this,c,128,d&128,(c^d)&128)}return c},function(a,b){if(b&=this.bb)b=8<b?0:a>>>b-1,a=b>>>1&255,nh(this,a,128,b&1,a&128);return a},jk,function(a,b){if(b&=this.bb)9<b&&(b=9),b=a<<24>>24>>b-1,a=b>>1&255,nh(this,a,128,b&1);return a}],gm=[function(a,b){var c=
a;if(b&=this.bb){if(b&=15){var d=a<<b-1;c=(a<<b|a>>16-b)&65535}else d=a<<15;th(this,c,d,32768)}return c},function(a,b){var c=a;if(b&=this.bb){if(b&=15){var d=a<<16-b;c=(a>>>b|d)&65535}else d=a;th(this,c,d,32768)}return c},function(a,b){var c=a;if(b&=this.bb){var d=uh(this);(b%=17)?(c=(a<<b|d<<b-1|a>>17-b)&65535,d=a<<b-1):d<<=15;th(this,c,d,32768)}return c},function(a,b){var c=a;if(b&=this.bb){var d=uh(this);(b%=17)?(c=(a>>b|d<<16-b|a<<17-b)&65535,d=a<<16-b):d<<=15;th(this,c,d,32768)}return c},function(a,
b){var c=a;if(b&=this.bb){var d=0;16<b?c=0:(d=a<<b-1,c=d<<1&65535);nh(this,c,32768,d&32768,(c^d)&32768)}return c},function(a,b){if(b&=this.bb)b=16<b?0:a>>>b-1,a=b>>>1&65535,nh(this,a,32768,b&1,a&32768);return a},jk,function(a,b){if(b&=this.bb)17<b&&(b=17),b=a<<16>>16>>b-1,a=b>>1&65535,nh(this,a,32768,b&1);return a}],hm=[function(a,b){var c=a;if(b&=this.bb)c=a<<b|a>>>32-b,th(this,c,a<<b-1,-2147483648);return c},function(a,b){var c=a;if(b&=this.bb){var d=a<<32-b;c=a>>>b|d;th(this,c,d,-2147483648)}return c},
function(a,b){var c=a;if(b&=this.bb)c=uh(this),c=a<<b|c<<b-1|a>>>32-b>>>1,th(this,c,a<<b-1,-2147483648);return c},function(a,b){var c=a;if(b&=this.bb)c=uh(this),c=a>>>b|c<<32-b|a<<32-b<<1,th(this,c,a<<32-b,-2147483648);return c},function(a,b){var c=a;if(b&=this.bb)a<<=b-1,c=a<<1,nh(this,c,-2147483648,a&-2147483648,(c^a)&-2147483648);return c},function(a,b){if(b&=this.bb)b=a>>>b-1,a=b>>>1,nh(this,a,-2147483648,b&1,a&-2147483648);return a},jk,function(a,b){if(b&=this.bb)b=a>>b-1,a=b>>1,nh(this,a,-2147483648,
b&1);return a}],sm=[function(a,b){b=this.Aa();nh(this,a&b,128);this.A-=4294967296===this.C?this.B.zo:this.B.yo;this.O|=2;return a},jk,function(a){this.A-=4294967296===this.C?this.B.oj:this.B.nj;return a^255},function(a){var b=-a|0;gh(this,0,a,b,191,!0);this.A-=4294967296===this.C?this.B.oj:this.B.nj;return b&255},function(a){this.Na=(this.D&255)*a&65535;this.Na&65280?(oh(this),qh(this)):(ph(this),rh(this));8088>=this.model&&vh(this);this.Sc=!0;this.A-=4294967296===this.C?this.B.xt:this.B.wt;this.O|=
2;return a},function(a){var b=(this.D<<24>>24)*(a<<24>>24)|0;this.Na=b&65535;127<b||-128>b?(oh(this),qh(this)):(ph(this),rh(this));8088>=this.model&&vh(this);this.Sc=!0;this.A-=4294967296===this.C?this.B.dt:this.B.ct;this.O|=2;return a},function(a,b){if(!a)return Hl.call(this),a;var c=(b=this.D&65535)/a;if(255<c)return Hl.call(this),a;this.Na=c&255|(b%a&255)<<8;this.Sc=!0;this.A-=4294967296===this.C?this.B.Vs:this.B.Us;this.O|=2;return a},function(a,b){if(!a)return Hl.call(this),a;var c=a<<24>>24,
d=(b=this.D<<16>>16)/c|0;if(d!=d<<24>>24||8088>=this.model&&-128==d)return Hl.call(this),a;this.Na=d&255|(b%c&255)<<8;this.Sc=!0;this.A-=4294967296===this.C?this.B.Zs:this.B.Ys;this.O|=2;return a}],tm=[function(a,b){b=this.Ua();nh(this,a&b,this.Ib);this.A-=4294967296===this.C?this.B.zo:this.B.yo;this.O|=2;return a},jk,function(a){this.A-=4294967296===this.C?this.B.oj:this.B.nj;return a^this.S},function(a){var b=-a|0;gh(this,0,a,b,this.Ib|63,!0);this.A-=4294967296===this.C?this.B.oj:this.B.nj;return b&
this.S},function(a,b){2==this.Y?(b=this.D&65535,b=b*a|0,this.Na=b&65535,this.gb=b>>16&65535):(pk.call(this,a,this.D),80563==this.Le&&68657152==this.D&&129==a&&(this.gb=0));this.gb?(oh(this),qh(this)):(ph(this),rh(this));8088>=this.model&&vh(this);this.Sc=!0;this.A-=4294967296===this.C?this.B.zt:this.B.yt;this.O|=2;return a},function(a,b){2==this.Y?(b=this.D&65535,b=(b<<16>>16)*(a<<16>>16)|0,this.Na=b&65535,this.gb=b>>16&65535,b=32767<b||-32768>b):(ok.call(this,a,this.D),b=this.gb!=this.Na>>31);b?
(oh(this),qh(this)):(ph(this),rh(this));8088>=this.model&&vh(this);this.Sc=!0;this.A-=4294967296===this.C?this.B.ft:this.B.et;this.O|=2;return a},function(a,b){if(2==this.Y){if(!a)return Hl.call(this),a;b=65536*(this.M&65535)+(this.D&65535);var c=b/a;if(65536<=c)return Hl.call(this),a;this.Na=c&65535;this.gb=b%a&65535}else{if(!tl.call(this,this.D,this.M,a))return Hl.call(this),a;this.Na|=0;this.gb|=0}this.Sc=!0;this.A-=4294967296===this.C?this.B.Xs:this.B.Ws;this.O|=2;return a},function(a,b){if(2==
this.Y){if(!a)return Hl.call(this),a;var c=a<<16>>16,d=(b=this.M<<16|this.D&65535)/c|0;if(d!=d<<16>>16||8088>=this.model&&-32768==d)return Hl.call(this),a;this.Na=d&65535;this.gb=b%c&65535}else{b=this.D;c=this.M;d=a;var e=0,f=0;0>d&&(d=-d|0,e=1-e);0>c&&(b=-b|0,c=~c+(b?0:1)|0,f=1,e=1-e);!tl.call(this,b,c,d)||this.Na>2147483647+e||this.gb>2147483647+f?b=!1:(e&&(this.Na=-this.Na),f&&(this.gb=-this.gb),b=!0);if(!b)return Hl.call(this),a;this.Na|=0;this.gb|=0}this.Sc=!0;this.A-=4294967296===this.C?this.B.bt:
this.B.$s;this.O|=2;return a}],jf=[function(a){var b=a+1|0;gh(this,a,1,b,190);this.A-=4294967296===this.C?this.B.mj:this.B.lj;return b&255},function(a){var b=a-1|0;gh(this,a,1,b,190,!0);this.A-=4294967296===this.C?this.B.mj:this.B.lj;return b&255},jk,jk,jk,jk,jk,jk],kf=[function(a){var b=a+1|0;gh(this,a,1,b,this.Ib|62);this.A-=4294967296===this.C?this.B.mj:this.B.lj;return b&this.S},function(a){var b=a-1|0;gh(this,a,1,b,this.Ib|62,!0);this.A-=4294967296===this.C?this.B.mj:this.B.lj;return b&this.S},
function(a){Qh(this,kg(this));bh(this,a);this.A-=4294967296===this.C?this.B.Ts:this.B.Ss;this.O|=2;return a},function(a,b){if(4294967296===this.C)return jk.call(this,a,b);this.xa=this.Ma;Cl.call(this,a,this.qa(this.C+this.Y));this.A-=this.B.Qs;this.O|=2;this.xa=4294967296;return a},function(a){bh(this,a);this.A-=4294967296===this.C?this.B.nt:this.B.mt;this.O|=2;return a},function(a,b){if(4294967296===this.C)return jk.call(this,a,b);jg(this,a,this.qa(this.C+this.Y));this.A-=this.B.kt;this.O|=2;return a},
function(a){var b=a;this.O&512&&(a=a-2&65535,80286>this.model&&(b=a));Qh(this,b);this.A-=4294967296===this.C?this.B.Dd:this.B.Dt;this.O|=2;return a},jk];function Tf(){this.pa.call(this,ml);this.A-=4294967296===this.C?6:13}function Uf(){this.Ba.call(this,ll);this.A-=4294967296===this.C?12:19}var Ff=Array(256);Ff[0]=function(){16>(this.Ia(this.Z)&56)&&(this.O|=1);this.sb.call(this,this.ip,Al)};Ff[1]=function(){this.Ia(this.Z)&16||(this.O|=1);this.sb.call(this,um,Al)};
Ff[2]=function(){!(this.ta&1)||this.P&131072?eh.call(this,6):this.pa.call(this,qk)};Ff[3]=function(){!(this.ta&1)||this.P&131072?eh.call(this,6):this.pa.call(this,wk)};
Ff[5]=function(){this.Xa?eh.call(this,13,0,0,!0):(yh(this,this.qa(2054)),this.K=this.qa(2086),this.L=this.qa(2088),this.N=this.qa(2090),this.H=this.qa(2094),this.M=this.qa(2096),this.I=this.qa(2098),this.D=this.qa(2100),Bj(this.ka,2102,this.qa(2084)),Bj(this.ca,2108,this.qa(2082)),Bj(this.U,2114,this.qa(2080)),Bj(this.Ha,2120,this.qa(2078)),lg(this,this.qa(2072)),bh(this,this.qa(2074)),fg(this,this.qa(2092)),this.Tb=this.qa(2126)|this.Ia(2128)<<16,this.vd=this.Tb+this.qa(2130),this.Zb=this.qa(2138)|
this.Ia(2140)<<16,this.$d=this.Zb+this.qa(2142),Bj(this.Fb,2132,this.qa(2076)),Bj(this.la,2144,this.qa(2070)),this.A-=195)};Ff[6]=function(){this.Xa?eh.call(this,13,0):(this.ta&=-9,this.A-=2)};Ff[11]=mf;Ff[166]=mf;Ff[255]=mf;var z=[];z[5]=mf;
z[7]=function(){if(this.Xa)eh.call(this,13,0,0,!0);else{var a=this.ka.Ub(this.K&this.Fa,204);if(4294967296!==a){vl.call(this,this.na(a));var b=this.na(a+168),c=(b&24576)>>13;lg(this,this.na(a+4),c);this.Tb=this.na(a+112);this.vd=this.Tb+this.na(a+116);this.Zb=this.na(a+100);this.$d=this.Zb+this.na(a+104);Aj(this.Fb,this.na(a+56),this.na(a+120),this.na(a+124),this.na(a+128));Aj(this.la,this.na(a+52),this.na(a+84),this.na(a+88),this.na(a+92));this.K=this.na(a+12);this.L=this.na(a+16);this.N=this.na(a+
20);this.H=this.na(a+28);this.M=this.na(a+32);this.I=this.na(a+36);this.D=this.na(a+40);Aj(this.Ta,this.na(a+60),this.na(a+132),this.na(a+136),this.na(a+140));Aj(this.Qa,this.na(a+64),this.na(a+144),this.na(a+148),this.na(a+152));Aj(this.Ha,this.na(a+68),this.na(a+156),this.na(a+160),this.na(a+164));Aj(this.U,this.na(a+72),b,this.na(a+172),this.na(a+176));Aj(this.ca,this.na(a+76),this.na(a+180),this.na(a+184),this.na(a+188));Aj(this.ka,this.na(a+80),this.na(a+192),this.na(a+196),this.na(a+200));bh(this,
this.na(a+8));fg(this,this.na(a+24))}this.A-=122<<(a&3?1:0)}};z[16]=am;z[17]=bm;z[18]=cm;z[19]=dm;z[32]=function(){if(this.Xa)eh.call(this,13,0);else{var a=this.Aa();switch((a&56)>>3){case 0:var b=this.ta;break;case 2:b=this.ee;break;case 3:b=this.Lc;break;default:Cf.call(this);return}eg(this,a&7,b);this.A-=6}};z[33]=function(){if(this.Xa)eh.call(this,13,0);else{var a=this.Aa(),b=(a&56)>>3;4==b||5==b?Cf.call(this):(eg(this,a&7,this.mc[b]),this.A-=22)}};
z[34]=function(){if(this.Xa)eh.call(this,13,0);else{var a=this.Aa(),b=cg(this,a&7);switch((a&56)>>3){case 0:vl.call(this,b);this.A-=10;break;case 2:this.ee=b;this.A-=4;break;case 3:this.Lc=b;Bd(this);this.A-=5;break;default:Cf.call(this)}}};z[35]=function(){if(this.Xa)eh.call(this,13,0);else{var a=this.Aa(),b=(a&56)>>3;4==b||5==b?Cf.call(this):(a=cg(this,a&7),a!=this.mc[b]&&(Tg(this,!1),this.mc[b]=a,Tg(this,!0)),this.A-=4>b?22:14)}};
z[36]=function(){if(this.Xa)eh.call(this,13,0);else{var a=this.Aa(),b=(a&56)>>3;6>b?Cf.call(this):(eg(this,a&7,this.tl[b]),this.A-=12)}};z[38]=function(){if(this.Xa)eh.call(this,13,0);else{var a=this.Aa(),b=(a&56)>>3;6>b?Cf.call(this):(this.tl[b]=cg(this,a&7),this.A-=12)}};z[128]=function(){var a=this.Ua();mh(this)?(bh(this,kg(this)+a),this.A-=this.B.pb):this.A-=this.B.qb};z[129]=function(){var a=this.Ua();mh(this)?this.A-=this.B.qb:(bh(this,kg(this)+a),this.A-=this.B.pb)};
z[130]=function(){var a=this.Ua();hh(this)?(bh(this,kg(this)+a),this.A-=this.B.pb):this.A-=this.B.qb};z[131]=function(){var a=this.Ua();hh(this)?this.A-=this.B.qb:(bh(this,kg(this)+a),this.A-=this.B.pb)};z[132]=function(){var a=this.Ua();kh(this)?(bh(this,kg(this)+a),this.A-=this.B.pb):this.A-=this.B.qb};z[133]=function(){var a=this.Ua();kh(this)?this.A-=this.B.qb:(bh(this,kg(this)+a),this.A-=this.B.pb)};
z[134]=function(){var a=this.Ua();hh(this)||kh(this)?(bh(this,kg(this)+a),this.A-=this.B.pb):this.A-=this.B.qb};z[135]=function(){var a=this.Ua();hh(this)||kh(this)?this.A-=this.B.qb:(bh(this,kg(this)+a),this.A-=this.B.pb)};z[136]=function(){var a=this.Ua();lh(this)?(bh(this,kg(this)+a),this.A-=this.B.pb):this.A-=this.B.qb};z[137]=function(){var a=this.Ua();lh(this)?this.A-=this.B.qb:(bh(this,kg(this)+a),this.A-=this.B.pb)};
z[138]=function(){var a=this.Ua();ih(this)?(bh(this,kg(this)+a),this.A-=this.B.pb):this.A-=this.B.qb};z[139]=function(){var a=this.Ua();ih(this)?this.A-=this.B.qb:(bh(this,kg(this)+a),this.A-=this.B.pb)};z[140]=function(){var a=this.Ua();!lh(this)!=!mh(this)?(bh(this,kg(this)+a),this.A-=this.B.pb):this.A-=this.B.qb};z[141]=function(){var a=this.Ua();!lh(this)==!mh(this)?(bh(this,kg(this)+a),this.A-=this.B.pb):this.A-=this.B.qb};
z[142]=function(){var a=this.Ua();kh(this)||!lh(this)!=!mh(this)?(bh(this,kg(this)+a),this.A-=this.B.pb):this.A-=this.B.qb};z[143]=function(){var a=this.Ua();kh(this)||!lh(this)!=!mh(this)?this.A-=this.B.qb:(bh(this,kg(this)+a),this.A-=this.B.pb)};z[144]=function(){wl.call(this,Hk)};z[145]=function(){wl.call(this,Hk)};z[146]=function(){wl.call(this,Ik)};z[147]=function(){wl.call(this,Jk)};z[148]=function(){wl.call(this,Kk)};z[149]=function(){wl.call(this,Lk)};z[150]=function(){wl.call(this,Mk)};
z[151]=function(){wl.call(this,Nk)};z[152]=function(){wl.call(this,Ok)};z[153]=function(){wl.call(this,Pk)};z[154]=function(){wl.call(this,Qk)};z[155]=function(){wl.call(this,Rk)};z[156]=function(){wl.call(this,Sk)};z[157]=function(){wl.call(this,Tk)};z[158]=function(){wl.call(this,Uk)};z[159]=function(){wl.call(this,Vk)};z[160]=function(){Rh(this,this.Qa.W,this.Y,2);this.A-=this.B.zg};z[161]=function(){this.xa=this.Ma;var a=Ph(this);this.Qa.load(a);this.A-=this.B.Rc;this.xa=4294967296};
z[163]=function(){this.Ba.call(this,Rj);4294967296!==this.C&&(this.A-=6)};z[164]=function(){this.Ba.call(this,2==this.Y?Wk:Yk);this.A-=4294967296===this.C?3:7};z[165]=function(){this.Ba.call(this,2==this.Y?$k:al);this.A-=4294967296===this.C?3:7};z[168]=function(){Rh(this,this.Ta.W,this.Y,2);this.A-=this.B.zg};z[169]=function(){this.xa=this.Ma;var a=Ph(this);this.Ta.load(a);this.A-=this.B.Rc;this.xa=4294967296};z[171]=function(){this.Ba.call(this,Uj);4294967296!==this.C&&(this.A-=5)};
z[172]=function(){this.Ba.call(this,2==this.Y?bl:dl);this.A-=4294967296===this.C?3:7};z[173]=function(){this.Ba.call(this,2==this.Y?fl:gl);this.A-=4294967296===this.C?3:7};z[175]=function(){this.pa.call(this,2==this.Y?lk:nk)};z[178]=function(){this.pa.call(this,xk)};z[179]=function(){this.Ba.call(this,Tj);4294967296!==this.C&&(this.A-=5)};z[180]=function(){this.pa.call(this,uk)};z[181]=function(){this.pa.call(this,vk)};
z[182]=function(){this.Bc.call(this,zk);switch(this.ia>>3&7){case 0:this.D=this.D&~this.S|this.D&255;break;case 1:this.I=this.I&~this.S|this.I&255;break;case 2:this.M=this.M&~this.S|this.M&255;break;case 3:this.H=this.H&~this.S|this.H&255;break;case 4:this.gd=this.gd&~this.S|this.D>>8&255;this.D=this.ya;break;case 5:this.N=this.N&~this.S|this.I>>8&255;this.I=this.ya;break;case 6:this.L=this.L&~this.S|this.M>>8&255;this.M=this.ya;break;case 7:this.K=this.K&~this.S|this.H>>8&255,this.H=this.ya}this.A-=
4294967296===this.C?3:6};z[183]=function(){Ig(this,2);this.pa.call(this,Ak);switch(this.ia>>3&7){case 0:this.D=this.D&65535;break;case 1:this.I=this.I&65535;break;case 2:this.M=this.M&65535;break;case 3:this.H=this.H&65535;break;case 4:this.gd=this.gd&65535;break;case 5:this.N=this.N&65535;break;case 6:this.L=this.L&65535;break;case 7:this.K=this.K&65535}this.A-=4294967296===this.C?3:6};z[186]=function(){this.sb.call(this,vm,this.Aa)};
z[187]=function(){this.Ba.call(this,Sj);4294967296!==this.C&&(this.A-=5)};z[188]=function(){this.pa.call(this,Lj)};z[189]=function(){this.pa.call(this,Mj)};
z[190]=function(){this.Bc.call(this,zk);switch(this.ia>>3&7){case 0:this.D=this.D&~this.S|(this.D&255)<<24>>24&this.S;break;case 1:this.I=this.I&~this.S|(this.I&255)<<24>>24&this.S;break;case 2:this.M=this.M&~this.S|(this.M&255)<<24>>24&this.S;break;case 3:this.H=this.H&~this.S|(this.H&255)<<24>>24&this.S;break;case 4:this.gd=this.gd&~this.S|this.D<<16>>24&this.S;this.D=this.ya;break;case 5:this.N=this.N&~this.S|this.I<<16>>24&this.S;this.I=this.ya;break;case 6:this.L=this.L&~this.S|this.M<<16>>24&
this.S;this.M=this.ya;break;case 7:this.K=this.K&~this.S|this.H<<16>>24&this.S,this.H=this.ya}this.A-=4294967296===this.C?3:6};
z[191]=function(){Ig(this,2);this.pa.call(this,Ak);switch(this.ia>>3&7){case 0:this.D=this.D<<16>>16;break;case 1:this.I=this.I<<16>>16;break;case 2:this.M=this.M<<16>>16;break;case 3:this.H=this.H<<16>>16;break;case 4:this.gd=this.gd<<16>>16;break;case 5:this.N=this.N<<16>>16;break;case 6:this.L=this.L<<16>>16;break;case 7:this.K=this.K<<16>>16}this.A-=4294967296===this.C?3:6};
var Ug=[function(){this.A-=2+(4294967296===this.C?0:1);return this.Fb.W},function(){this.A-=2+(4294967296===this.C?0:1);return this.la.W},function(a){this.O|=2;this.Fb.load(a);this.A-=17+(4294967296===this.C?0:2);return a},function(a){this.O|=2;4294967296!==this.la.load(a)&&(this.Db(this.la.uc+4,this.la.Pb|=512),this.la.type|=512);this.A-=17+(4294967296===this.C?0:2);return a},function(a){this.O|=2;this.A-=14+(4294967296===this.C?0:2);if(4294967296!==this.wb.load(a)&&2048!=(this.wb.Pb&2560)&&(this.wb.ad>=
this.Xa&&this.wb.ad>=(a&3)||7168==(this.wb.Pb&7168)))return xh(this),a;vh(this);return a},function(a){this.O|=2;this.A-=14+(4294967296===this.C?0:2);if(4294967296!==this.wb.load(a)&&512==(this.wb.Pb&2560)&&this.wb.ad>=this.Xa&&this.wb.ad>=(a&3))return xh(this),a;vh(this);return a},jk,jk],lf=[Df,Df,Df,Df,Df,Df,jk,jk],um=[function(a){if(4294967296===this.C)eh.call(this,6);else{a=this.vd-this.Tb;var b=this.Tb;80286==this.model?b|=-16777216:80386<=this.model&&2!=this.Y&&(a|=b<<16);this.Cb(this.C+2,b);
this.A-=11}return a},function(a){if(4294967296===this.C)eh.call(this,6);else{a=this.$d-this.Zb;var b=this.Zb;80286==this.model?b|=-16777216:80386<=this.model&&2!=this.Y&&(a|=b<<16);this.Cb(this.C+2,b);this.A-=12}return a},function(a){4294967296===this.C||this.P&131072?eh.call(this,6):(this.Tb=this.na(this.C+2)&(this.S|this.S<<8),a&=65535,this.vd=this.Tb+a,this.O|=2,this.A-=11);return a},function(a){4294967296===this.C||this.P&131072?eh.call(this,6):(this.Zb=this.na(this.C+2)&(this.S|this.S<<8),a&=
65535,this.$d=this.Zb+a,this.O|=2,this.A-=12);return a},function(){this.A-=2+(4294967296===this.C?0:1);return this.ta&this.S},jk,function(a){this.P&131072?eh.call(this,6):(yh(this,a),this.A-=4294967296===this.C?3:6,this.O|=2);return a},jk],vm=[jk,jk,jk,jk,Nj,Qj,Pj,Oj];
function wm(a){dc.call(this,"ChipSet",a,268435456);var b=a.model;b&&!xm[b]&&tb(274877906944,"Unrecognized ChipSet model: %s\n",b);this.model=xm[b]||ym;this.B=[];this.wb=[0,null,null,0,Array(4),0];this.sb=[!0,[0,0],[0,0],[0,0],[0,0]];this.Eb=[0,Array(4)];this.Fb=[[0,0],[0,0],[0,0],[0,0]];b=zm(a[Am.Ak]);this.B[0]=[b,b];null==b&&(this.N=[360,360],b=a.floppies,"string"==typeof b&&(b=JSON.parse(b)),b&&b.length&&(this.N=b),Bm(this,bg.mf,this.N.length),Bm(this,bg.Md,a.monitor||(this.model<pi?"mono":"ega")));
b=zm(a[Am.Bk]);this.B[1]=[b,b];this.va=0;this.model>=Cm&&this.va++;this.model>=pi&&this.va++;this.ia=1;(this.model==Dm||this.model>=pi)&&this.ia++;this.O=a.scaleTimers||!1;this.Ib=a.dateRTC;this.Oa=0;if(a=a.sound)if(this.Oa="number"!=typeof a||0>a||1<a?.5:a,this.Ta=this.X=null,this.Ta=r.AudioContext||r.webkitAudioContext)this.X=new this.Ta;this.Va=this.bb=this.gb=!1;this.reset(!0)}oa(wm,dc);m=wm.prototype;
m.bd=function(a,b,c,d){this.ra=b;this.G=c;this.fa=d;this.Ea=a;this.vc=null;Bm(this,bg.md,this.Ea.bl?1:0,!0);this.C=Yc(a,"Keyboard");a=Be(a,"sound");if(null!=a){var e=+a||0;this.Oa="true"==a||0>e||1<e?.5:e}this.Oa||this.J(0,"note: speaker disabled\n");this.Na=c.Jf/Em;a=Fm;e=Gm;this.model==Dm&&(a={},a=(a[this.P+0]=Fm[Hm.R],a[this.P+1]=Fm[Hm.R+1],a[this.ba+0]=Im[Jm.R],a[this.ba+1]=Im[Jm.R+1],a),e={},e=(e[this.P+0]=Gm[Hm.R],e[this.P+1]=Gm[Hm.R+1],e[this.ba+0]=Km[Jm.R],e[this.ba+1]=Km[Jm.R+1],e));Qd(b,
this,a);Td(b,this,e);this.model==Lm?(Qd(b,this,Mm),Td(b,this,Nm)):this.model>=Cm&&(Qd(b,this,Om),Td(b,this,Pm),this.model<pi?this.model==Qm?(Qd(b,this,Rm),Td(b,this,Sm)):(Qd(b,this,Tm),Td(b,this,Um)):(Qd(b,this,Im),Td(b,this,Km),(this.model|0)==Vm&&(Qd(b,this,Wm),Td(b,this,Xm))));if(d){var f=this;Ym(d,262144,function(){for(var g=0;g<f.Ic.length;g++){for(var h=f.Ic[g],k="PIC"+g+":",l=0;l<h.Rd.length;l++)k+=" IC"+(l+1)+"="+Ya(h.Rd[l]);k+=" IMR="+Ya(h.Ve)+" IRR="+Ya(h.Jc)+" ISR="+Ya(h.Bd)+" DELAY="+
h.Bh+"\n";f.print(k)}});Ym(d,524288,function(g){g=(g=g[0])?+g:null;for(var h=0;h<f.fb.length;h++)if(null==g||h==g){Zm(f,h);var k=f.fb[h],l="TIMER"+h+":",p=0;if(null!=k.ne)for(var n=0;n<=k.ne;n++)p|=k.Ab[n]<<8*n;l+=" mode="+(k.mode>>1)+" bytes="+k.ne+" count="+Za(p)+"\n";f.print(l)}});this.model>=pi&&Ym(d,1048576,function(){for(var g="",h=0;h<x.da.Er;h++){var k=h<=x.da.ah?$m(f,h):f.A[h];g&&(g+="\n");g+="CMOS["+Ya(h)+"]: "+Ya(k)+"\n"}f.print(g)})}Qg(c,26,this.JA.bind(this));Cc(this)};
m.Sb=function(a,b,c){switch(b){case Am.Ak:return this.oa[b]=c,an(this,0,b),!0;case Am.Bk:if((this.model|0)==Cm||this.model==Qm)return this.oa[b]=c,an(this,1,b),!0;break;case Am.xr:return this.oa[b]=c,!0}return!1};m.Gc=function(a,b){if(!b){if(!a)this.reset();else if(!this.restore(a))return!1;this.G&&(this.vc=this.G.vc)}return!0};m.Fc=function(a){return a?this.save():!0};
m.reset=function(a){var b;bn(this);this.G&&this.G.eg();this.F=Array(this.va);for(b=0;b<this.va;b++)cn(this,b);this.Ic=Array(this.ia);this.P=Hm.R;this.ba=Jm.R;this.model==Dm&&(this.P=[240,112,176,48,208,80,144,16,224,96,160,32,192,64,128,0][this.B[0][0]&15],this.ba=this.P+2);dn(this,Hm.ga,this.P);1<this.ia&&dn(this,Jm.ga,this.ba);this.Ja=this.Ha=null;this.fb=Array((this.model|0)==Vm?6:3);for(b=0;b<this.fb.length;b++)en(this,b);this.ta=this.Qa=this.H=this.La=null;this.I=ti.ze;this.U=0;this.model==Qm&&
(this.pa=0);if(this.model>=pi){this.D=I.ja.Jm;this.L=0;this.K=I.ea.za.Qf;this.ya=0;this.M=I.ig.nx|I.ig.Ww;512<=In(this)&&(this.M|=I.ig.Tv);+ag(this,bg.Md)==Jn.Gb&&(this.M|=I.ig.Gb);(this.model|0)==Vm&&(this.M=this.M|I.ig.pv|I.ig.qv);this.Ba=I.Sg.Km|I.Sg.El;this.ca=Array(8);this.V=0;a&&(this.A=Array(x.da.Er));Kn(this,this.Ib);for(a=x.da.Yo;a<=x.da.bw;a++)this.A[a]=0;for(a=x.da.Xh;a<x.da.Jl;a++)void 0===this.A[a]&&(this.A[a]=0);a=0|+ag(this,bg.Md)<<Ln.Md.wa&Ln.Md.Ka;a|=+ag(this,bg.md)?Ln.md:0;b=+ag(this,
bg.mf);a|=b?b-1<<Ln.ld.wa&Ln.ld.Ka|Ln.ld.Lw:0;this.A[x.da.kq]=a;this.A[x.da.ld]=Mn(this,0)<<4|Mn(this,1);Nn(this)}};
function Kn(a,b){var c=b?new Date(b):new Date;"[object Date]"!==Object.prototype.toString.call(c)||isNaN(c.getTime())?(c=new Date,a.J(0,"CMOS date invalid (%s), using %T\n",b,c)):b&&a.J(0,"CMOS date: %T\n",c);var d,e;a.A[x.da.wk]=e=c.getSeconds();a.A[x.da.mr]=0;a.A[x.da.uk]=d=c.getMinutes();a.A[x.da.lr]=0;a.A[x.da.Xg]=b=c.getHours();a.A[x.da.tk]=0;a.A[x.da.Ym]=c.getDay()+1;a.A[x.da.Xm]=c.getDate();a.A[x.da.vk]=c.getMonth()+1;c=c.getFullYear();a.A[x.da.xk]=c%100;c/=100;a.A[x.da.Zu]=c%10|c/10<<4;a.A[x.da.vf]=
38;a.A[x.da.Hb]=x.Hb.wm;a.A[x.da.Wb]=0;a.A[x.da.ah]=x.ah.hz;a.xa=a.ka=0;a.jb=a.Ma=null;return 3600*b+60*d+e}function $m(a,b){var c=a.A[b];if(b<x.da.vf){var d=!1;b!=x.da.Xg&&b!=x.da.tk||a.A[x.da.Hb]&x.Hb.wm||(12>c?c=c?c:12:c=(c-=12)?c+128:140,d=!0);a.A[x.da.Hb]&x.Hb.$o||(d&&128<c&&(c-=48),c=c%10|c/10<<4)}else b==x.da.vf&&(a.A[b]&=~x.vf.Gr);return c}function On(a){var b=a.Ma;a.ka=Ie(a.G,a.O)+b;a.A[x.da.Hb]&x.Hb.Tg&&Me(a.G,b)}
function Nn(a){for(var b=0,c=x.da.ld;c<x.da.Jl;c++)b+=a.A[c];a.A[x.da.ev]=b&255;a.A[x.da.Jl]=b>>8}
m.save=function(){var a=new Wg(this);a.set(0,[this.B]);for(var b=[],c=0;c<this.F;c++){for(var d=this.F[c],e=d,f=[],g=0;g<e.Mc.length;g++){var h=e.Mc[g];f[g]=[h.xg,h.Lk,h.$c,h.Mb,h.Ab,h.mode,h.bj,h.aC,h.bC]}b[c]=[d.ic,d.Ur,d.Wr,d.hc,f,d.Xr]}a.set(1,[b]);b=[];for(c=0;c<this.Ic.length;c++)d=this.Ic[c],b[c]=[d.Bh,d.Rd,d.Cf,d.Ve,d.Jc,d.Bd,d.rg,d.aj];a.set(2,[b]);b=[];for(c=0;c<this.fb.length;c++)d=this.fb[c],b[c]=[d.$c,d.Td,d.Ab,d.tg,d.xn,d.mode,d.yj,d.$e,d.ne,d.Fe,d.sh,d.vg,d.He,d.ic,d.vh];a.set(3,[this.Ha,
b,this.Ja]);a.set(4,[this.La,this.H,this.Qa,this.ta,this.I]);this.model>=pi&&(a.set(5,[this.D,this.L,this.K,this.ya,this.M,this.Ba]),a.set(6,[this.ca[7],this.ca,this.V,this.A,this.xa,this.ka]));return a.data()};
m.restore=function(a){var b;var c=a[0];Array.isArray(c[0])?this.B=c[0]:(this.B[0][0]=c[0],this.B[1][0]=c[1]&15,this.B[0][1]=c[2],this.B[1][1]=c[3]&15);bn(this);c=a[1];for(b=0;b<this.va;b++)cn(this,b,1==c.length?c[0][b]:c);c=a[2];for(b=0;b<this.ia;b++)dn(this,b,0===b?this.P:this.ba,c[0][b]);c=a[3];this.Ha=c[0];this.Ja=c[2];for(b=0;b<this.fb.length;b++)en(this,b,c[1][b]);c=a[4];this.La=c[0];this.H=c[1];this.Qa=c[2];this.ta=c[3];this.I=c[4];if(c=a[5])this.D=c[0],this.L=c[1],this.K=c[2],this.ya=c[3],
this.M=c[4],this.Ba=c[5];if(c=a[6])this.ca=c[1],this.ca[7]=c[0],this.V=c[2],this.A=c[3],this.xa=c[4],this.ka=c[5],this.Xa=Kn(this);return!0};m.start=function(){Pn(this)};m.stop=function(){Pn(this)};function cn(a,b,c){var d=a.F[b];d||(d={Mc:Array(4)});c=c&&5<=c.length?c:a.wb;d.ic=c[0];d.Ur=c[1];d.Wr=c[2];d.hc=c[3];d.QA=b<<2;for(var e=0;e<d.Mc.length;e++)Qn(a,d,e,c[4][e]);d.Xr=c[5]||0;a.F[b]=d}
function Qn(a,b,c,d){var e=b.Mc[c];e||(e={Lk:[0,0],$c:[0,0],Mb:[0,0],Ab:[0,0]});a=d&&8==d.length?d:a.sb;e.xg=a[0];e.Lk[0]=a[1][0];e.Lk[1]=a[1][1];e.$c[0]=a[2][0];e.$c[1]=a[2][1];e.Mb[0]=a[3][0];e.Mb[1]=a[3][1];e.Ab[0]=a[4][0];e.Ab[1]=a[4][1];e.mode=a[5];e.bj=a[6];e.controller=b;e.ns=c;Rn(e,a[8],a[9]);b.Mc[c]=e}function Rn(a,b,c,d){"string"==typeof b&&(b=sc(b));b&&(a.done=null,a.aC=b.id,a.bC=c,a.component=b,a.Zk=b[c],a.sj=d)}
function dn(a,b,c,d){var e=a.Ic[b];e||(e={Rd:[null,null,null,null]});d=d&&8==d.length?d:a.Eb;e.port=c;e.TK=b<<3;e.Bh=d[0];e.Rd[0]=d[1][0];e.Rd[1]=d[1][1];e.Rd[2]=d[1][2];e.Rd[3]=d[1][3];e.Cf=d[2];e.Ve=d[3];e.Jc=d[4];e.Bd=d[5];e.rg=d[6];e.aj=d[7];a.Ic[b]=e}
function en(a,b,c){var d=a.fb[b];d||(d={$c:[0,0],Td:[0,0],Ab:[0,0],tg:[0,0]});c=c&&13<=c.length?c:a.Fb;d.$c[0]=c[0][0];d.$c[1]=c[0][1];d.Td[0]=c[1][0];d.Td[1]=c[1][1];d.Ab[0]=c[2][0];d.Ab[1]=c[2][1];d.tg[0]=c[3][0];d.tg[1]=c[3][1];d.xn=c[4];d.mode=c[5];d.yj=c[6];d.$e=c[7];d.ne=c[8];d.Fe=c[9];d.sh=c[10];d.vg=c[11];d.He=c[12];d.ic=c[13]||0;d.vh=c[14]||!1;a.fb[b]=d}
function an(a,b,c){for(var d="",e=a.oa[c],f=1;8>=f;f++){var g="pcjs-bitCell";f||(g+=" pcjs-bitCellLeft");d+='<div id="'+(c+"-"+f)+'" class="'+g+'" data-value="0">'+f+"</div>\n"}e.innerHTML=d;Sn(a,b,c,!0)}function Tn(a,b,c){if(b=(a=Un[a.model|0])&&a[b])for(var d in b)if(a=b[d],a.Ka&1<<c)return a;return null}
function ag(a,b,c){for(var d=null,e=Un[a.model]||Un[a.model|0]||Un[Cm],f=0;f<e.length;f++){var g=e[f];if(g&&(g=g[b])){a=a.B[f][c?0:1]&g.Ka;for(var h in g.Qd)if(g.Qd[h]==a&&(d=h,"number"==typeof+d))break;break}}return d}function Vn(a,b){var c=[-1,-1];a=Un[a.model]||Un[a.model|0]||Un[Cm];for(var d=0;d<a.length;d++){var e=a[d];if(e&&(e=e[b]))for(var f in e.Qd){if(0>c[0]||c[0]>+f)c[0]=+f;if(0>c[1]||c[1]<+f)c[1]=+f}}return c}
function Mn(a,b){if(b<+ag(a,bg.mf)){if(!a.N)return x.ld.nq;if(b<a.N.length)switch(a.N[b]){case 160:case 180:case 320:case 360:return x.ld.nq;case 720:return x.ld.fw;case 1200:return x.ld.dw;case 1440:return x.ld.ew}}return x.ld.NONE}function In(a,b){return+ag(a,bg.jg,b)+ +ag(a,bg.Mg,b)}function zm(a,b){if(a){b=0;for(var c=1,d=0;d<a.length;d++)"0"==a.charAt(d)&&(b|=c),c<<=1}return b}
function Bm(a,b,c,d){for(var e=Un[a.model]||Un[a.model|0]||Un[Cm],f=0;f<e.length;f++){var g=e[f];if(g&&(g=g[b]))for(var h in g.Qd)if(h==c)return a.B[f][d?0:1]&=~g.Ka,a.B[f][d?0:1]|=g.Qd[h],!0}return!1}function Wn(a,b){a.setAttribute("data-value",b?"1":"0");a.style.color=b?"#ffffff":"#000000";a.style.backgroundColor=b?"#000000":"#ffffff"}function bn(a){Sn(a,0,Am.Ak);Sn(a,1,Am.Bk);Xn(a)}
function Sn(a,b,c,d){if(c=a.oa[c]){d=d?a.B[b][0]:a.B[b][1]=a.B[b][0];c=pc("pcjs-bitCell","",c);for(var e=0;e<c.length;e++){var f=Tn(a,b,e);c[e].setAttribute("title",f&&f.nf||"Reserved");Wn(c[e],!(d&1<<e));c[e].onclick=function(g,h){return function(){var k="1"!=h.getAttribute("data-value");Wn(h,k);var l=h.getAttribute("id").split("-"),p=1<<+l[1]-1;switch(l[0]){case Am.Ak:g.B[0][0]=g.B[0][0]&~p|(k?0:p);break;case Am.Bk:g.B[1][0]=g.B[1][0]&~p|(k?0:p)}Xn(g)}}(a,c[e])}}}
function Xn(a){var b=a.oa[Am.xr];if(null!=b){var c=In(a,!0)+"K";c+=", "+(+ +ag(a,bg.md,!0)?"":"No ")+"FPU";c+=", "+{0:"Enhanced Color",1:"TV",2:"Color",3:"Monochrome"}[+ag(a,bg.Md,!0)]+" Monitor";c+=", "+ +ag(a,bg.mf,!0)+" Floppy Drives";if(null!=a.B[0][1]&&a.B[0][1]!=a.B[0][0]||null!=a.B[1][1]&&a.B[1][1]!=a.B[1][0])c+=" (Reset required)";b.textContent=c}}
function Yn(a,b,c,d,e){var f=a.F[b],g=f.Mc[c],h=g.Mb[f.hc];v(a,16416)&&w(a,d,void 0,e,"DMA"+b+".CHANNEL"+c+".ADDR["+f.hc+"]",h,!0);f.hc^=1;b||c!=Zn||f.hc||(g.Mb[0]++,255<g.Mb[0]&&(g.Mb[0]=0,g.Mb[1]++,255<g.Mb[1]&&(g.Mb[1]=0)));return h}function $n(a,b,c,d,e,f){var g=a.F[b];v(a,16416)&&w(a,d,e,f,"DMA"+b+".CHANNEL"+c+".ADDR["+g.hc+"]",void 0,!0);a=g.Mc[c];a.Mb[g.hc]=a.Lk[g.hc]=e;g.hc^=1}
function ao(a,b,c,d,e){var f=a.F[b],g=f.Mc[c],h=g.Ab[f.hc];v(a,16416)&&w(a,d,void 0,e,"DMA"+b+".CHANNEL"+c+".COUNT["+f.hc+"]",h,!0);f.hc^=1;b||c!=Zn||f.hc||(g.Ab[0]--,0>g.Ab[0]&&(g.Ab[0]=255,g.Ab[1]--,0>g.Ab[1]&&(g.Ab[1]=255)));return h}function bo(a,b,c,d,e,f){var g=a.F[b];v(a,16416)&&w(a,d,e,f,"DMA"+b+".CHANNEL"+c+".COUNT["+g.hc+"]",void 0,!0);a=g.Mc[c];a.Ab[g.hc]=a.$c[g.hc]=e;g.hc^=1}
function co(a,b,c,d){var e=a.F[b],f=e.ic|eo.bv;e.ic&=~eo.Hu;v(a,16416)&&w(a,c,void 0,d,"DMA"+b+".STATUS",f,!0);return f}function fo(a,b,c,d,e){v(a,16416)&&w(a,c,d,e,"DMA"+b+".CMD",void 0,!0);a.F[b].Ur=d}function go(a,b,c,d,e){var f=a.F[b];v(a,16416)&&w(a,c,d,e,"DMA"+b+".REQ",void 0,!0);a=d&3;f.ic=f.ic&~(16<<a)|(d&4)<<a+2;f.Wr=d}function ho(a,b,c,d,e){var f=a.F[b];v(a,16416)&&w(a,c,d,e,"DMA"+b+".MASK",void 0,!0);b=d&io.Il;c=f.Mc[b];c.xg=!!(d&io.dv);c.xg||jo(a,f.QA+b)}
function ko(a,b,c,d,e){v(a,16416)&&w(a,c,d,e,"DMA"+b+".MODE",void 0,!0);a.F[b].Mc[d&lo.Il].mode=d}function mo(a,b,c,d,e){v(a,16416)&&w(a,c,d,e,"DMA"+b+".RESET_FF",void 0,!0);a.F[b].hc=0}function no(a,b,c,d){var e=a.F[b].Xr;v(a,16416)&&w(a,c,void 0,d,"DMA"+b+".TEMP",e,!0);return e}function oo(a,b,c,d,e){v(a,16416)&&w(a,c,d,e,"DMA"+b+".MASTER_CLEAR",void 0,!0);b=a.F[b];for(c=0;c<b.Mc.length;c++)Qn(a,b,c)}
function po(a,b,c,d,e){var f=a.F[b].Mc[c].bj;v(a,16416)&&w(a,d,void 0,e,"DMA"+b+".CHANNEL"+c+".PAGE",f,!0);return f}function qo(a,b,c,d,e,f){v(a,16416)&&w(a,d,e,f,"DMA"+b+".CHANNEL"+c+".PAGE",void 0,!0);a.F[b].Mc[c].bj=e}function ro(a,b,c,d){var e=a.ca[b];v(a,16416)&&w(a,c,void 0,d,"DMA.SPARE"+b+".PAGE",e,!0);return e}function so(a,b,c,d,e){v(a,16416)&&w(a,c,d,e,"DMA.SPARE"+b+".PAGE",void 0,!0);a.ca[b]=d}
function to(a){var b=uo;a=a.F[b>>2].Mc[b&3];return[a.bj<<16|a.Mb[1]<<8|a.Mb[0],a.Ab[1]<<8|a.Ab[0]]}function vo(a,b,c,d,e){Rn(a.F[b>>2].Mc[b&3],c,d,e)}function jo(a,b,c){b=a.F[b>>2].Mc[b&3];b.component&&b.Zk&&b.sj?(c&&(b.done=c),b.xg||wo(a,b,!0)):c&&c(!0)}
function wo(a,b,c){c&&(b.count=b.Ab[1]<<8|b.Ab[0],b.type=b.mode&lo.TYPE,b.Xk=b.fj=!1);for(var d=!1;0<=b.count&&(c=void 0,c=b.bj<<16|b.Mb[1]<<8|b.Mb[0],b.type==lo.Uy?(d=!0,function(e){b.Zk.call(b.component,b.sj,-1,function(f,g){0>f&&(b.Xk||(b.Xk=!0),f=255);b.xg||b.fj||a.ra.Ob(e,f);(d=g)&&setTimeout(function(){xo(b)||wo(a,b)},0)})}(c)):b.type==lo.Sy?(c=a.ra.Ia(c),0>b.Zk.call(b.component,b.sj,c)&&(b.fj=!0)):b.type==lo.Ty?function(){b.Zk.call(b.component,b.sj,-1,function(e){0>e&&!b.Xk&&(b.Xk=!0)})}(c):
b.fj=!0),!d&&!xo(b););}function xo(a){if(!a.fj&&0<=--a.count&&(a.mode&lo.Hv?(a.Mb[0]--,0>a.Mb[0]&&(a.Mb[0]=255,a.Mb[1]--,0>a.Mb[1]&&(a.Mb[1]=255))):(a.Mb[0]++,255<a.Mb[0]&&(a.Mb[0]=0,a.Mb[1]++,255<a.Mb[1]&&(a.Mb[1]=0))),!a.xg))return!1;var b=a.controller;b.ic=b.ic&~(16<<a.ns)|1<<a.ns;a.mode&lo.Ku||(a.xg=!0,a.component=a.sj=null);a.done&&(a.done(!a.fj),a.done=null);return!0}
function yo(a,b,c){var d=0,e=a.Ic[b];if(null!=e.aj)switch(e.aj&zo.Hx){case zo.Wq:d=e.Jc;break;case zo.Ix:d=e.Bd}v(a,262176)&&w(a,e.port,void 0,c,"PIC"+b,d,!0);return d}
function Ao(a,b,c,d){var e=a.Ic[b];v(a,262176)&&w(a,e.port,c,d,"PIC"+b,void 0,!0);if(c&zo.Dw)e.Cf=0,e.Rd[e.Cf++]=c,e.Ve=0,e.rg=7,e.Jc=e.Bd=0,e.aj=zo.Vq|zo.Wq;else if(c&zo.Vq)c&(zo.Gx|zo.Jx)&&a.J(549756076033,"outPIC%d(%#04X): unsupported OCW3 %#04X\n",b,e.port,c),e.aj=c;else if(d=c&zo.Dx,d&zo.Cx){var f=0;if((d&zo.Tq)==zo.Tq){var g=c&zo.Uq;f=1<<g}else for(g=e.rg+1;;){g&=7;var h=1<<g;if(e.Bd&h){f=h;break}if(g++==e.rg)break}e.Bd&f&&(e.Bd&=~f,Bo(a));d&zo.Fx&&a.J(549756076033,"outPIC%d(%#04X): unsupported OCW2 rotate %#04X\n",
b,e.port,c)}else d==zo.Ex?e.rg=c&zo.Uq:a.J(549756076033,"outPIC%d(%#04X): unsupported OCW2 automatic rotate %#04X\n",b,e.port,c)}function Co(a,b,c){var d=a.Ic[b],e=d.Ve;v(a,262176)&&w(a,d.port+1,void 0,c,"PIC"+b,e,!0);return e}function Do(a,b,c,d){var e=a.Ic[b];v(a,262176)&&w(a,e.port+1,c,d,"PIC"+b,void 0,!0);e.Cf<e.Rd.length?(e.Rd[e.Cf++]=c,2==e.Cf&&e.Rd[0]&zo.Fw&&e.Cf++,3!=e.Cf||e.Rd[0]&zo.Ew||e.Cf++):(e.Ve=c,d=a.G,d.O|=4,Bo(a,b||253!=c?0:6))}
function si(a,b,c){b==ri.Ji&&2==a.ia&&(b=ri.Mw);var d=a.Ic[b>>3],e=1<<(b&7);d.Jc&e||(d.Jc|=e,a.J(Eo(b),"set IRQ %d\n",b),d.Bh=c||0,Bo(a))}function qi(a,b){var c=a.Ic[b>>3],d=1<<(b&7);c.Jc&d&&(c.Jc&=~d,a.J(Eo(b),"clear IRQ %d\n",b),Bo(a))}function Bo(a,b){var c=-1;if(1<a.ia){var d=a.Ic[1];c=~(d.Bd|d.Ve)&d.Jc}d=a.Ic[0];0<=c&&(d.Jc=c?d.Jc|1<<ri.Ji:d.Jc&~(1<<ri.Ji));c=~(d.Bd|d.Ve)&d.Jc;a=a.G;a.V&&(a.La=c?a.La|1:a.La&-2);c&&b&&(d.Bh=b)}
function Uh(a,b){void 0===b&&(b=0);var c=-1,d=a.Ic[b];if(d.Bh)c=-2,d.Bh--;else for(var e=d.Jc&((d.Bd|d.Ve)^255),f=d.rg+1;;){f&=7;var g=1<<f;if(d.Bd&g)break;if(e&g){!b&&f==ri.Ji&&1<a.Ic.length?c=Uh(a,1):c=d.Rd[1]+f;0<=c&&(d.Bd|=g,d.Jc&=~g);break}if(f++==d.rg)break}return c}
function Fo(a,b,c,d,e){var f=b?3:0;var g=a.fb[f+c];g.vh?(f=g.ic,g.vh=!1):(g.$e==g.ne&&Go(a,f+c),g.sh?(f=g.tg[g.$e++],g.$e==g.ne&&(g.sh=!1)):(Zm(a,f+c),f=g.Ab[g.$e++]));v(a,524320)&&w(a,d,void 0,e,"PIT"+b+".TIMER"+c,f,!0);return f}
function Ho(a,b,c,d,e,f){v(a,524320)&&w(a,d,e,f,"PIT"+b+".TIMER"+c,void 0,!0);f=b?3:0;d=a.fb[f+c];d.$e==d.ne&&Go(a,f+c);d.$c[d.$e++]=e;d.$e==d.ne&&(d.vg&&d.mode!=Ye.rb&&d.mode!=Ye.ox||(d.sh=!1,d.Ab[0]=d.Td[0]=d.$c[0],d.Ab[1]=d.Td[1]=d.$c[1],d.He=Ie(a.G,a.O),d.vg=!0,d.Fe=d.mode!=Ye.rb,b==Io.ga&&c==Io.ke&&(qi(a,ri.ke),e=Jo(a,Io.ke)*a.Na|0,d.mode==Ye.pf&&(e>>=1),Me(a.G,e))),b==Io.ga&&c==Io.Sf&&Pn(a))}function Ko(a,b,c,d){w(a,c,void 0,d,"PIT"+b+".CTRL",void 0,524288);return b?a.Ja:a.Ha}
function Lo(a,b,c,d,e){w(a,c,d,e,"PIT"+b+".CTRL",void 0,524288);e=0;c=d&Ye.ny;b?(e=3,a.Ja=d):a.Ha=d;if(c==Ye.py){if(!(d&Ye.Wx))for(c=0;2>=c;c++)if(d&Ye.fr<<c){b=a;var f=e+c,g=b.fb[f];g.vh||(Zm(b,f),g.ic=g.xn|g.mode|g.yj|(g.$e<g.ne?Ye.Ux:0)|(g.Fe?Ye.Vx:0),g.vh=!0)}if(!(d&Ye.Tx))for(c=0;2>=c;c++)d&Ye.fr<<c&&Mo(a,e+c)}else if(c>>=Ye.qy,f=d&Ye.Pu,g=d&Ye.ab,d&=Ye.iy,d==Ye.ly)Mo(a,e+c);else{e+=c;var h=a.fb[e];h.yj=d;h.mode=g;h.xn=f;h.$c=[0,0];h.Ab=[0,0];h.tg=[0,0];h.Fe=!1;h.sh=!1;h.vg=!1;h.vh=!1;Go(a,e);
b==Io.ga&&c==Io.ke&&qi(a,ri.ke);b==Io.ga&&c==Io.Sf&&255==a.Ic[0].Ve&&a.H==(No.Hg|No.hq|No.Xu|No.Kl)&&(c=a.fb[0],c.Td[0]=c.$c[0],c.Td[1]=c.$c[1],c.He=Ie(a.G,a.O))}}function Jo(a,b){a=a.fb[b];(b=a.$c[1]<<8|a.$c[0])||(b=1==a.ne?256:65536);return b}function Xe(a,b){a=a.fb[b];(b=a.Td[1]<<8|a.Td[0])||(b=1==a.ne?256:65536);return b}function Mo(a,b){Zm(a,b);var c=a.fb[b];c.tg[0]=c.Ab[0];c.tg[1]=c.Ab[1];c.sh=!0;Go(a,b)}function Go(a,b){a=a.fb[b];a.$e=a.yj==Ye.my?1:0;a.ne=a.yj==Ye.jy?2:1}
function Zm(a,b,c){var d=a.fb[b];if(d.vg&&(b!=Io.Sf||a.H&No.Hg)){var e=Ie(a.G,a.O),f=(e-d.He)/a.Na|0;0>f&&(d.He=e,f=0);var g=Jo(a,b),h=Xe(a,b)-f;d.mode==Ye.rb?(0>=h&&(h=0),h||(d.Fe=!0,d.vg=!1,b||si(a,ri.ke))):d.mode==Ye.Xc?(d.Fe=1!=h,0>=h&&(h=g+h,0>=h&&(h=g),d.Td[0]=h&255,d.Td[1]=h>>8&255,d.He=e,!b&&d.Fe&&si(a,ri.ke))):d.mode==Ye.pf&&(h-=f,0>=h&&(d.Fe=!d.Fe,h=g+h,0>=h&&(h=g),d.Td[0]=h&255,d.Td[1]=h>>8&255,d.He=e,!b&&d.Fe&&si(a,ri.ke)));d.Ab[0]=h&255;d.Ab[1]=h>>8&255;c&&(a.He=0)}return d}
function We(a,b){for(var c=0;c<a.fb.length;c++)Zm(a,c,b);if(a.model>=pi){b=a.G.Jf;c=Ie(a.G,a.O);null==a.Ma&&(a.xa=Ie(a.G,a.O),a.jb=1024,a.Ma=Math.floor(a.G.Jf/a.jb),On(a));c>=a.ka&&(a.A[x.da.Wb]|=x.Wb.ar,a.A[x.da.Hb]&x.Hb.Tg&&(a.A[x.da.Wb]|=x.Wb.Yj,si(a,ri.Hi)),a.ka=c+a.Ma);a.A[x.da.wk]==a.A[x.da.mr]&&a.A[x.da.uk]==a.A[x.da.lr]&&a.A[x.da.Xg]==a.A[x.da.tk]&&(a.A[x.da.Wb]|=x.Wb.Eu,a.A[x.da.Hb]&x.Hb.Fu&&(a.A[x.da.Wb]|=x.Wb.Yj,si(a,ri.Hi)));var d=c-a.xa,e=Math.floor(d/b);if(e&&!(a.A[x.da.Hb]&x.Hb.xy)){for(;e--;)if(60<=
++a.A[x.da.wk]&&(a.A[x.da.wk]=0,60<=++a.A[x.da.uk]&&(a.A[x.da.uk]=0,24<=++a.A[x.da.Xg]))){a.A[x.da.Xg]=0;a.A[x.da.Ym]=a.A[x.da.Ym]%7+1;var f=a.A[x.da.xk];var g=rb[a.A[x.da.vk]-1];28==g&&0===f%4&&(f%100||0===f%400)&&g++;f=g;++a.A[x.da.Xm]>f&&(a.A[x.da.Xm]=1,12<++a.A[x.da.vk]&&(a.A[x.da.vk]=1,a.A[x.da.xk]=(a.A[x.da.xk]+1)%100))}a.A[x.da.vf]|=x.vf.Gr;a.A[x.da.Wb]|=x.Wb.Vy;a.A[x.da.Hb]&x.Hb.Wy&&(a.A[x.da.Wb]|=x.Wb.Yj,si(a,ri.Hi))}a.xa=c-d%b}}m.zB=function(a,b,c){w(this,a,b,c,"MFG_TEST")};
m.vs=function(a,b){var c=this.La;if(this.ta&Oo.Lu)if(this.H&No.Jp)c=this.B[0][1];else return c=this.U,w(this,a,void 0,b,"PPI_A",c,8388608),c;w(this,a,void 0,b,"PPI_A",c);return c};m.$t=function(a,b,c){w(this,a,b,c,"PPI_A");this.La=b};m.ws=function(a,b){var c=this.H;w(this,a,void 0,b,"PPI_B",c);return c};m.au=function(a,b,c){w(this,a,b,c,"PPI_B");Po(this,b)};function Po(a,b){var c=b^a.H;c&No.Hg&&(b&No.Hg||Zm(a,Io.Sf));a.H=b;c&No.yk&&Pn(a,b&No.yk);a.C&&Qo(a.C,!(b&No.Jp),!!(b&No.Kl))}
m.xs=function(a,b){var c=0;(this.model|0)==Lm?(c|=this.I&ti.ri,c|=Ro.zx|Ro.xx|Ro.yx,c|=this.U&1?Ro.Fm:0,this.U>>>=1):c=(this.model|0)==Cm?this.H&No.hq?c|this.B[1][1]&Ro.Jy:c|this.B[1][1]>>4&1:this.H&No.Vv?c|this.B[0][1]>>4:c|this.B[0][1]&15;this.H&No.Hg&&Zm(this,Io.Sf).Fe&&(c=this.H&No.yk?c|Ro.Oy:c|Ro.Wu);w(this,a,void 0,b,"PPI_C",c,268435456);return c};m.bu=function(a,b,c){w(this,a,b,c,"PPI_C");this.Qa=b};m.ys=function(a,b){var c=this.ta;w(this,a,void 0,b,"PPI_CTRL",c);return c};
m.cu=function(a,b,c){w(this,a,b,c,"PPI_CTRL");this.ta=b};m.Mz=function(a,b){var c=this.U;w(this,a,void 0,b,"8041_KBD",c,8388608);this.pa&=~I.ja.rf;return c};m.TA=function(a,b,c){w(this,a,b,c,"8041_KBD")};m.Lz=function(a,b){var c=this.H;w(this,a,void 0,b,"8041_CTRL",c);return c};m.SA=function(a,b,c){w(this,a,b,c,"8041_CTRL");Po(this,b)};m.Nz=function(a,b){var c=this.pa;w(this,a,void 0,b,"8041_STATUS",c);return c};
m.Oz=function(a,b){var c=this.ya;w(this,a,void 0,b,"8042_OUTBUFF",c,4194304);this.D&=~(I.ja.rf|I.ja.Ai);this.C&&So(this.C,c);return c};
m.VA=function(a,b,c){w(this,a,b,c,"8042_INBUF.DATA",void 0,4194304);if(this.D&I.ja.Ll)switch(this.L){case I.za.sz:To(this,b);break;case I.za.uz:Uo(this,b);break;default:if(To(this,this.K&~I.ea.za.Qf),this.C){a=this.C;c=b;var d=-1;switch(a.L||c){case Vo.ze:d=Wo.Fj;Xo(a);break;case Vo.Cy:a.L&&(c=0);Yo(a,Wo.Fj);a.L=c;break;case Vo.zy:a.L&&(c=0),Yo(a,Wo.Fj),a.L=c}Zo(this,d)}}this.L=b;this.D&=~I.ja.Ll};
m.Pz=function(a,b){var c=this.H&~(I.Zm.vx|I.Zm.ir)|(Ie(this.G)&64?I.Zm.ir:0);w(this,a,void 0,b,"8042_RWREG",c,549760008192);return c};m.WA=function(a,b,c){w(this,a,b,c,"8042_RWREG",void 0,4194304);Po(this,b)};m.Qz=function(a,b){w(this,a,void 0,b,"8042_STATUS",this.D,4194304);a=this.D&255;this.D&I.ja.Ai&&(this.D|=I.ja.rf,this.D&=~I.ja.Ai);this.D&I.ja.rf||!this.C||So(this.C);return a};
m.UA=function(a,b,c){w(this,a,b,c,"8042_INBUFF.CMD",void 0,4194304);this.L=b;this.D|=I.ja.Ll;a=0;this.L>=I.za.Qm&&(a=this.L^15,this.L=I.za.Qm);switch(this.L){case I.za.Zx:Zo(this,this.K);break;case I.za.Jv:To(this,this.K|I.ea.za.Qf);break;case I.za.Uv:To(this,this.K&~I.ea.za.Qf);this.C&&So(this.C);break;case I.za.bn:this.C&&(this.C.Be=[]);To(this,this.K|I.ea.za.Qf);Zo(this,I.ea.bn.Yc);Uo(this,I.Sg.Km|I.Sg.El);break;case I.za.Bm:Zo(this,I.ea.Bm.Yc);break;case I.za.$x:Zo(this,this.M);break;case I.za.ay:Zo(this,
this.Ba);break;case I.za.by:Zo(this,this.K&I.ea.za.Qf?0:I.Ly.Eq);break;case I.za.Qm:a&1&&Vf(this.G)}};function To(a,b){a.K=b;a.D=a.D&~I.ja.jn|b&I.ea.za.jn;a.C&&Qo(a.C,!!(b&I.ea.za.Jm),!(b&I.ea.za.Qf))}function Zo(a,b,c){0<=b&&(a.ya=b,c?a.D|=I.ja.rf:(a.D&=~I.ja.rf,a.D|=I.ja.Ai))}function Uo(a,b){a.Ba=b;xd(a.ra,!!(b&I.Sg.El));b&I.Sg.Km||Vf(a.G)}
function $o(a,b){if(a.model==Lm)return a.I&ti.ri?!1:(a.I|=ti.ri,(a.U=b)&&a.I&ti.Nf&&hi.call(a.G,2),!0);if(a.model<pi){if(a.H&No.Kl){if(a.U=b)si(a,ri.Em,120),a.pa|=I.ja.rf;return!0}return!1}return!b||a.K&I.ea.za.Qf||a.D&(I.ja.rf|I.ja.Ai)?!1:(Zo(a,b,!0),si(a,ri.Em,120),!0)}function ap(a,b,c,d){var e=a.B[b][1];w(a,c,void 0,d,"DIPSW-"+b,e,268435456);return e}m.aA=function(a,b){w(this,a,void 0,b,"CMOS.ADDR",this.V,1048576);return this.V};
m.eB=function(a,b,c){w(this,a,b,c,"CMOS.ADDR",void 0,1048576);this.V=b;this.I=this.I&~ti.Nf|(b&x.da.ux?0:ti.Nf)};m.bA=function(a,b){var c=this.V&x.da.Ka,d=c<=x.da.ah?$m(this,c):this.A[c];v(this,1048608)&&w(this,a,void 0,b,"CMOS.DATA["+Ya(c)+"]",d,!0);null!=b&&c==x.da.Wb&&(this.A[c]&=x.Wb.Od,d&x.Wb.Yj&&qi(this,ri.Hi),d&x.Wb.ar&&this.A[x.da.Hb]&x.Hb.Tg&&On(this));return d};
m.fB=function(a,b,c){var d=this.V&x.da.Ka;v(this,1048608)&&w(this,a,b,c,"CMOS.DATA["+Ya(d)+"]",void 0,!0);a=b^this.A[d];if(d<=x.da.ah){if(c=b,d<x.da.vf){var e=!1;this.A[x.da.Hb]&x.Hb.$o||(c=10*(c>>4)+(c&15),e=!0);if(d==x.da.Xg||d==x.da.tk)e&&23<c&&(c+=48),this.A[x.da.Hb]&x.Hb.wm||(12>=c?c=12==c?0:c:(c-=116,c=24==c?12:c))}}else c=b;this.A[d]=c;d==x.da.Hb&&a&x.Hb.Tg&&b&x.Hb.Tg&&On(this)};m.vA=function(a,b){var c=this.I;w(this,a,void 0,b,"NMI",c);this.I&=~ti.ri;return c};
m.Eo=function(a,b,c){w(this,a,b,c,"NMI");this.I=b};m.pB=function(a,b,c){w(this,a,b,c,"FPU.CLEAR")};m.qB=function(a,b,c){w(this,a,b,c,"FPU.RESET");this.vc&&this.vc.eg()};
m.JA=function(a){if(v(this,1024)&&rm(this.fa,26,a)){var b=this,c=this.G.D>>8,d=Ie(this.G);Rg(this.G,a,function(e){var f=b.G.M&255,g=b.G.M>>8,h=b.G.M&255,k=b.G.M>>8;if(2==c||3==c)var l=" CH(hour)="+Za(g)+" CL(min)="+Ya(f)+" DH(sec)="+Ya(k);else if(4==c||5==c)l=" CX(year)="+Za(b.G.I)+" DH(month)="+Ya(k)+" DL(day)="+Ya(h);f=-d+(d=Ie(b.G));g=b.fa;g.J("INT %#04X: C=%d%s (cycles=%d%s)\n",26,hh(g.G)?1:0,l||"",f,e?",level="+(e+1):"")})}return!0};
function Pn(a,b){void 0!==b?(b=!!b,b!=a.Va&&(a.Va=b)):b=!!(a.Va&&a.G&&a.G.flags.vb);var c=Math.round(Em/Jo(a,Io.Sf));if(20>c||2E4<c)b=!1;a.X?b&&bp(a)?(a.Z.frequency.setValueAtTime(c,0),a.la.gain.setValueAtTime(a.Oa,0),a.J(134217728,"speaker on at  %dhz\n",c)):a.la&&(a.la.gain.setValueAtTime(0,0),a.J(134217728,"speaker off at %dhz\n",c)):b&&a.bb!=b&&a.J(134217728,"BEEP\n");a.bb=b}
function bp(a,b){if(a.X){if(b){if(a.gb)return!0;a.Z=null;a.gb=!0}if(a.Z)return!0;try{if(a.Z=a.X.createOscillator(),"start"in a.Z)return a.la=a.X.createGain(),a.Z.connect(a.la),a.la.connect(a.X.destination),a.la.gain.setValueAtTime(0,0),a.Z.type="square",a.Z.start(0),!0}catch(c){a.J(274877906944,"AudioContext exception: %s\n",c.message),a.X=null}}return!1}
function Eo(a){var b=2048;if(a==ri.ke)b|=524288;else if(a==ri.Em)b|=8388608;else if(a==ri.Ji)b|=0;else if(a==ri.Mp||a==ri.Np)b|=33554432;else if(a==ri.Jk)b|=65536;else if(a==ri.Wj)b|=32768;else if(a==ri.Hi)b|=2097152;else if(a==ri.Fl||a==ri.Ju)b|=65536;return b}
var Dm=100,Lm=4860,Cm=5150,ym=5150.9,pi=5170,Qm=5160.101,Vm=5180,xm={100:Dm,4860:Lm,5150:Cm,5160:5160,5170:pi,att6300:Qm,mpc1600:5150.101,z150:5160.15,compaq:5150.102,other:ym,deskpro386:Vm},Am={Ak:"sw1",Bk:"sw2",xr:"swdesc"},Jn={NONE:0,Pi:1,COLOR:2,Gb:3,Kg:4,aq:6,Gk:7},Ln={ld:{Lw:1,ONE:0,nn:64,kn:128,um:192,Ka:192,wa:6},md:2,ZG:{MK:0,NK:4,OK:8,PK:12,Ka:12,wa:2},Md:{Pi:16,COLOR:32,Gb:48,Ka:48,wa:4}},bg={mf:1,ow:2,md:3,Md:4,jg:5,Mg:6},cp={Ka:192,Qd:{1:0,2:64,3:128,4:192},nf:"Number of Floppy Drives"},
dp={Ka:2,Qd:{0:0,1:2},nf:"FPU"},ep={Ka:48,Qd:{0:0,1:16,2:32,3:48,none:0,tv:16,color:32,cga:32,mda:48,mono:48,ega:0,vga:0},nf:"Monitor Type"},fp={Ka:31,Qd:{0:0,32:1,64:2,96:3,128:4,160:5,192:6,224:7,256:8,288:9,320:10,352:11,384:12,416:13,448:14,480:15,512:16,544:17,576:18},nf:"Expansion Memory (32Kb Increments)"},Un,gp={},hp={},ip={},jp={},kp={},lp={},mp={};
Un=(mp[Cm]=[(gp[bg.mf]=cp,gp[bg.md]=dp,gp[bg.Md]=ep,gp[bg.jg]={Ka:12,Qd:{16:0,32:4,48:8,64:12},nf:"Base Memory (16Kb Increments)"},gp),(hp[bg.Mg]=fp,hp)],mp[5160]=[(ip[bg.mf]=cp,ip[bg.md]=dp,ip[bg.Md]=ep,ip[bg.jg]={Ka:12,Qd:{64:0,128:4,192:8,256:12},nf:"Base Memory (64Kb Increments)"},ip),(jp[bg.Mg]=fp,jp)],mp[Qm]=[(kp[bg.jg]={Ka:143,Qd:{128:1,256:130,512:8,640:141},nf:"Base Memory (128Kb Increments)"},kp[bg.md]={Ka:16,Qd:{0:0,1:16},nf:"FPU"},kp),(lp[bg.ow]={Ka:1,Qd:{0:0,1:1},nf:"Floppy Type"},lp[bg.mf]=
cp,lp[bg.Md]=ep,lp)],mp);
var np={ga:0,R:{lp:0,mp:1,pp:2,qp:3,sp:4,tp:5,vp:6,wp:7,Oh:8,Tm:9,Ka:10,ab:11,Um:12,ui:13,lx:14,kx:15,up:129,xp:130,rp:131,np:135}},op={ga:1,R:{Fp:137,Ip:138,Cp:139,cv:143,yp:192,zp:194,Ap:196,Bp:198,Dp:200,Ep:202,Gp:204,Hp:206,Oh:208,Tm:210,Ka:212,ab:214,Um:216,ui:218,lx:220,kx:222}},eo={bv:1,BD:2,DD:4,FD:8,Hu:15,zD:16,AD:32,CD:64,ED:128},io={Il:3,dv:4},lo={Il:3,TYPE:12,Ty:0,Uy:4,Sy:8,Ku:16,Hv:32,ab:192,qH:0,rH:64,oH:128,pH:192},Zn=0,uo=2,Hm={ga:0,R:32},Jm={ga:1,R:160},zo={Dw:16,Ew:1,Fw:2,dG:4,eG:8,
YH:0,Uq:7,Dx:224,Cx:32,Tq:96,$H:160,aI:224,Fx:128,ZH:0,Ex:192,Vq:8,Wq:2,Ix:3,Hx:3,Gx:4,bI:64,cI:96,Jx:96},ri={ke:0,Em:1,fz:2,Ji:2,Np:3,Mp:4,Jk:5,ax:5,Wj:6,Hq:7,Hi:8,Mw:9,md:13,Fl:14,Ju:15},Io={R:64,ga:0,ke:0,Ar:1,Sf:2},pp={R:72,ga:1,Br:0,Cr:1,Dr:2},Ye={zd:67,Ad:75,Pu:1,ab:14,rb:0,Ld:2,Xc:4,pf:6,ox:8,nH:10,iy:48,ly:0,sJ:16,my:32,jy:48,ny:192,CJ:0,DJ:64,EJ:128,py:192,qy:6,fr:2,VI:4,WI:8,Wx:16,Tx:32,Ux:64,Vx:128},Em=1193181,qp={R:96},No={R:97,Hg:1,yk:2,hq:4,Xu:8,Vv:8,PE:16,NE:32,Kl:64,Jp:128},Ro={R:98,
ri:1,zx:2,xx:4,yx:8,Jy:15,Wu:16,Oy:32,Fm:64,OH:128,rG:64,tJ:128},Oo={R:99,Lu:16,uD:2,wE:1,vE:8,vD:4,FC:96},rp={R:96},I={R:96,ea:{R:96,za:{Cm:1,jn:4,Jm:8,Qf:16,sI:32,rI:64},bn:{Yc:85},Bm:{Yc:0,LD:1,KD:2,FE:3,EE:4}},ig:{MD:1,vK:2,pv:4,qv:8,Tv:16,PD:16,nx:32,ND:32,Gb:64,RD:64,Ww:128},Sg:{Km:1,El:2,rv:8,rf:16,fG:32,Eq:64,Fm:128},Ly:{Eq:1,Fm:2},Zm:{R:97,Hg:1,yk:2,OD:4,QD:8,OE:12,ir:16,hI:32,qG:64,MI:128,vx:192},za:{R:100,Zx:32,sz:96,rv:163,UD:164,TD:165,bn:170,Bm:171,KE:172,Jv:173,Uv:174,$x:192,ay:208,
uz:209,by:224,Qm:240},ja:{R:100,rf:1,gG:2,jn:4,Ll:8,Jm:16,QK:32,XI:64,nI:128,Ai:256}},x={da:{R:112,wk:0,mr:1,uk:2,lr:3,Xg:4,tk:5,Ym:6,Xm:7,vk:8,xk:9,vf:10,Hb:11,Wb:12,ah:13,Xh:14,YJ:15,ld:16,Og:18,kq:20,Yo:21,TC:22,cw:23,bw:24,$v:25,aw:26,Jl:46,ev:47,wF:48,vF:49,Zu:50,iD:51,Ka:63,Er:64,ux:128},ea:{R:113},vf:{Gr:128,iF:112,kJ:15},Hb:{xy:128,Tg:64,Fu:32,Wy:16,bK:8,$o:4,wm:2,hF:1},Wb:{Yj:128,ar:64,Eu:32,Vy:16,Od:15},ah:{hz:128,Od:127},Xh:{nJ:128,ID:64,WD:32,aH:16,LF:8,pK:4,Od:3},ld:{Up:240,Vp:15,NONE:0,
nq:1,dw:2,fw:3,ew:4},Og:{Up:240,Vp:15},kq:{Md:Ln.Md,md:Ln.md,ld:Ln.ld}},ti={R:160,Nf:128,wG:64,MJ:32,QE:16,ri:1,ze:0},Fm=function(){var a={};return a[Hm.R]=function(b,c){return yo(this,Hm.ga,c)},a[Hm.R+1]=function(b,c){return Co(this,Hm.ga,c)},a[Io.R]=function(b,c){return Fo(this,Io.ga,Io.ke,b,c)},a[Io.R+1]=function(b,c){return Fo(this,Io.ga,Io.Ar,b,c)},a[Io.R+2]=function(b,c){return Fo(this,Io.ga,Io.Sf,b,c)},a[Io.R+3]=function(b,c){return Ko(this,Io.ga,b,c)},a}(),Mm,sp={};
Mm=(sp[qp.R]=wm.prototype.vs,sp[qp.R+1]=wm.prototype.ws,sp[qp.R+2]=wm.prototype.xs,sp[qp.R+3]=wm.prototype.ys,sp[ti.R]=wm.prototype.vA,sp);var Tm,tp={};Tm=(tp[qp.R]=wm.prototype.vs,tp[qp.R+1]=wm.prototype.ws,tp[qp.R+2]=wm.prototype.xs,tp[qp.R+3]=wm.prototype.ys,tp);
var Om=function(){var a={};return a[np.R.lp]=function(b,c){return Yn(this,np.ga,0,b,c)},a[np.R.mp]=function(b,c){return ao(this,np.ga,0,b,c)},a[np.R.pp]=function(b,c){return Yn(this,np.ga,1,b,c)},a[np.R.qp]=function(b,c){return ao(this,np.ga,1,b,c)},a[np.R.sp]=function(b,c){return Yn(this,np.ga,2,b,c)},a[np.R.tp]=function(b,c){return ao(this,np.ga,2,b,c)},a[np.R.vp]=function(b,c){return Yn(this,np.ga,3,b,c)},a[np.R.wp]=function(b,c){return ao(this,np.ga,3,b,c)},a[np.R.Oh]=function(b,c){return co(this,
np.ga,b,c)},a[np.R.ui]=function(b,c){return no(this,np.ga,b,c)},a[np.R.up]=function(b,c){return po(this,np.ga,2,b,c)},a[np.R.xp]=function(b,c){return po(this,np.ga,3,b,c)},a[np.R.rp]=function(b,c){return po(this,np.ga,1,b,c)},a[np.R.np]=function(b,c){return po(this,np.ga,0,b,c)},a}(),Im=function(){var a={};return a[I.R]=wm.prototype.Oz,a[I.R+1]=wm.prototype.Pz,a[I.R+4]=wm.prototype.Qz,a["112"]=wm.prototype.aA,a["113"]=wm.prototype.bA,a["128"]=function(b,c){return ro(this,7,b,c)},a["132"]=function(b,
c){return ro(this,0,b,c)},a["133"]=function(b,c){return ro(this,1,b,c)},a["134"]=function(b,c){return ro(this,2,b,c)},a["136"]=function(b,c){return ro(this,3,b,c)},a[op.R.Fp]=function(b,c){return po(this,op.ga,2,b,c)},a[op.R.Ip]=function(b,c){return po(this,op.ga,3,b,c)},a[op.R.Cp]=function(b,c){return po(this,op.ga,1,b,c)},a["140"]=function(b,c){return ro(this,4,b,c)},a["141"]=function(b,c){return ro(this,5,b,c)},a["142"]=function(b,c){return ro(this,6,b,c)},a[op.R.cv]=function(b,c){return po(this,
op.ga,0,b,c)},a[Jm.R]=function(b,c){return yo(this,Jm.ga,c)},a[Jm.R+1]=function(b,c){return Co(this,Jm.ga,c)},a[op.R.yp]=function(b,c){return Yn(this,op.ga,0,b,c)},a[op.R.zp]=function(b,c){return ao(this,op.ga,0,b,c)},a[op.R.Ap]=function(b,c){return Yn(this,op.ga,1,b,c)},a[op.R.Bp]=function(b,c){return ao(this,op.ga,1,b,c)},a[op.R.Dp]=function(b,c){return Yn(this,op.ga,2,b,c)},a[op.R.Ep]=function(b,c){return ao(this,op.ga,2,b,c)},a[op.R.Gp]=function(b,c){return Yn(this,op.ga,3,b,c)},a[op.R.Hp]=function(b,
c){return ao(this,op.ga,3,b,c)},a[op.R.Oh]=function(b,c){return co(this,op.ga,b,c)},a[op.R.ui]=function(b,c){return no(this,op.ga,b,c)},a}(),Rm=function(){var a={};return a[rp.R]=wm.prototype.Mz,a[rp.R+1]=wm.prototype.Lz,a[rp.R+4]=wm.prototype.Nz,a["102"]=function(b,c){return ap(this,0,b,c)},a["103"]=function(b,c){return ap(this,1,b,c)},a}(),Wm=function(){var a={};return a[pp.R]=function(b,c){return Fo(this,pp.ga,pp.Br,b,c)},a[pp.R+1]=function(b,c){return Fo(this,pp.ga,pp.Cr,b,c)},a[pp.R+2]=function(b,
c){return Fo(this,pp.ga,pp.Dr,b,c)},a[pp.R+3]=function(b,c){return Ko(this,pp.ga,b,c)},a}(),Gm=function(){var a={};return a[Hm.R]=function(b,c,d){Ao(this,Hm.ga,c,d)},a[Hm.R+1]=function(b,c,d){Do(this,Hm.ga,c,d)},a[Io.R]=function(b,c,d){Ho(this,Io.ga,Io.ke,b,c,d)},a[Io.R+1]=function(b,c,d){Ho(this,Io.ga,Io.Ar,b,c,d)},a[Io.R+2]=function(b,c,d){Ho(this,Io.ga,Io.Sf,b,c,d)},a[Io.R+3]=function(b,c,d){Lo(this,Io.ga,b,c,d)},a}(),Nm,up={};
Nm=(up["16"]=wm.prototype.zB,up[qp.R]=wm.prototype.$t,up[qp.R+1]=wm.prototype.au,up[qp.R+2]=wm.prototype.bu,up[qp.R+3]=wm.prototype.cu,up[ti.R]=wm.prototype.Eo,up);var Um,vp={};Um=(vp[qp.R]=wm.prototype.$t,vp[qp.R+1]=wm.prototype.au,vp[qp.R+2]=wm.prototype.bu,vp[qp.R+3]=wm.prototype.cu,vp[ti.R]=wm.prototype.Eo,vp);
var Pm=function(){var a={};return a[np.R.lp]=function(b,c,d){$n(this,np.ga,0,b,c,d)},a[np.R.mp]=function(b,c,d){bo(this,np.ga,0,b,c,d)},a[np.R.pp]=function(b,c,d){$n(this,np.ga,1,b,c,d)},a[np.R.qp]=function(b,c,d){bo(this,np.ga,1,b,c,d)},a[np.R.sp]=function(b,c,d){$n(this,np.ga,2,b,c,d)},a[np.R.tp]=function(b,c,d){bo(this,np.ga,2,b,c,d)},a[np.R.vp]=function(b,c,d){$n(this,np.ga,3,b,c,d)},a[np.R.wp]=function(b,c,d){bo(this,np.ga,3,b,c,d)},a[np.R.Oh]=function(b,c,d){fo(this,np.ga,b,c,d)},a[np.R.Tm]=
function(b,c,d){go(this,np.ga,b,c,d)},a[np.R.Ka]=function(b,c,d){ho(this,np.ga,b,c,d)},a[np.R.ab]=function(b,c,d){ko(this,np.ga,b,c,d)},a[np.R.Um]=function(b,c,d){mo(this,np.ga,b,c,d)},a[np.R.ui]=function(b,c,d){oo(this,np.ga,b,c,d)},a[np.R.up]=function(b,c,d){qo(this,np.ga,2,b,c,d)},a[np.R.xp]=function(b,c,d){qo(this,np.ga,3,b,c,d)},a[np.R.rp]=function(b,c,d){qo(this,np.ga,1,b,c,d)},a[np.R.np]=function(b,c,d){qo(this,np.ga,0,b,c,d)},a}(),Km=function(){var a={};return a[I.R]=wm.prototype.VA,a[I.R+
1]=wm.prototype.WA,a[I.R+4]=wm.prototype.UA,a["112"]=wm.prototype.eB,a["113"]=wm.prototype.fB,a["128"]=function(b,c,d){so(this,7,b,c,d)},a["132"]=function(b,c,d){so(this,0,b,c,d)},a["133"]=function(b,c,d){so(this,1,b,c,d)},a["134"]=function(b,c,d){so(this,2,b,c,d)},a["136"]=function(b,c,d){so(this,3,b,c,d)},a[op.R.Fp]=function(b,c,d){qo(this,op.ga,2,b,c,d)},a[op.R.Ip]=function(b,c,d){qo(this,op.ga,3,b,c,d)},a[op.R.Cp]=function(b,c,d){qo(this,op.ga,1,b,c,d)},a["140"]=function(b,c,d){so(this,4,b,c,
d)},a["141"]=function(b,c,d){so(this,5,b,c,d)},a["142"]=function(b,c,d){so(this,6,b,c,d)},a["143"]=function(b,c,d){qo(this,op.ga,0,b,c,d)},a[Jm.R]=function(b,c,d){Ao(this,Jm.ga,c,d)},a[Jm.R+1]=function(b,c,d){Do(this,Jm.ga,c,d)},a[op.R.yp]=function(b,c,d){$n(this,op.ga,0,b,c,d)},a[op.R.zp]=function(b,c,d){bo(this,op.ga,0,b,c,d)},a[op.R.Ap]=function(b,c,d){$n(this,op.ga,1,b,c,d)},a[op.R.Bp]=function(b,c,d){bo(this,op.ga,1,b,c,d)},a[op.R.Dp]=function(b,c,d){$n(this,op.ga,2,b,c,d)},a[op.R.Ep]=function(b,
c,d){bo(this,op.ga,2,b,c,d)},a[op.R.Gp]=function(b,c,d){$n(this,op.ga,3,b,c,d)},a[op.R.Hp]=function(b,c,d){bo(this,op.ga,3,b,c,d)},a[op.R.Oh]=function(b,c,d){fo(this,op.ga,b,c,d)},a[op.R.Tm]=function(b,c,d){go(this,op.ga,b,c,d)},a[op.R.Ka]=function(b,c,d){ho(this,op.ga,b,c,d)},a[op.R.ab]=function(b,c,d){ko(this,op.ga,b,c,d)},a[op.R.Um]=function(b,c,d){mo(this,op.ga,b,c,d)},a[op.R.ui]=function(b,c,d){oo(this,op.ga,b,c,d)},a["240"]=wm.prototype.pB,a["241"]=wm.prototype.qB,a}(),Sm,wp={};
Sm=(wp[rp.R]=wm.prototype.TA,wp[rp.R+1]=wm.prototype.SA,wp[ti.R]=wm.prototype.Eo,wp);var Xm=function(){var a={};return a[pp.R]=function(b,c,d){Ho(this,pp.ga,pp.Br,b,c,d)},a[pp.R+1]=function(b,c,d){Ho(this,pp.ga,pp.Cr,b,c,d)},a[pp.R+2]=function(b,c,d){Ho(this,pp.ga,pp.Dr,b,c,d)},a[pp.R+3]=function(b,c,d){Lo(this,pp.ga,b,c,d)},a}();Vb(function(){for(var a=pc("pcx86","chipset"),b=0;b<a.length;b++){var c=a[b],d=qc(c);d=new wm(d);oc(d,c);Xn(d)}});
function xp(a){dc.call(this,"ROMx86",a,8192);this.A=null;this.H=+a.addr;this.D=+a.size;this.B=a.alias;"string"==typeof this.B&&("["!=this.B[0]?this.B=+this.B:this.B=eval(this.B));this.C=a.notify;this.I=null;if(this.C){var b=this.C.indexOf("[");if(0<b){try{this.I=eval(this.C.substr(b))}catch(c){}this.C=this.C.substr(0,b)}}if(this.F=this.K=a.file)a=ab($a(this.F)),"json"!=a&&"hex"!=a&&(this.F=wb()+"/api/v1/dump?file="+this.K+"&format=bytes&decimal=true")}oa(xp,dc);
xp.prototype.bd=function(a,b,c,d){this.Ea=a;this.ra=b;this.G=c;this.fa=d;if(this.F){var e=this;sb(this.F,null,!0,function(f,g,h){yp(e,f,g,h)},function(){e.J(4398046511104,"Loading %s...\n",e.F)})}};xp.prototype.Gc=function(){this.le&&(this.fa&&zp(this.fa,this.id,0,this.H>>>4,0,this.H,this.D,this.le),delete this.le);return!0};xp.prototype.Fc=function(){return!0};
function yp(a,b,c,d){if(d)a.J(0>d?137438953472:274877906944,"Unable to load system ROM (error %d: %s)\n",d,b);else{fc(a.pd,b,c);if("["==c.charAt(0)||"{"==c.charAt(0))try{var e=eval("("+c+")"),f=e.width,g=e.values,h=!1!==e.littleEndian;if(!f||!g)if(f=0,g=e.bytes)f=8;else if(g=e.longs||e.data)f=32;if(f)if(8==f)a.A=g;else for(c=f>>>3,a.A=Array(g.length*c),f=d=0;d<g.length;d++){var k=g[d];if(h)for(var l=0;l<c;l++)a.A[f+l]=k&255,k>>>=8;else for(l=c-1;0<=l;l--)a.A[f+l]=k&255,k>>>=8;f+=c}else a.A=e;a.le=
e.symbols;if(!a.A.length){hc("Empty ROM: "+b);return}if(1==a.A.length){hc(a.A[0]);return}}catch(p){a.J(274877906944,"ROM data error: %s\n",p.message);return}else for(b=c.replace(/\n/gm," ").replace(/ +$/,"").split(" "),a.A=Array(b.length),e=0;e<b.length;e++)a.A[e]=Ra(b[e],16);Ap(a)}}
function Ap(a){if(!Bc(a))if(!a.K)Cc(a);else if(a.A&&a.ra){a.D||(a.D=a.A.length);if(a.A.length!=a.D)yc(a,"ROM size ("+Xa(a.A.length,8,!0)+") does not match specified size ("+Xa(a.D,8,!0)+")");else{var b=a.H;if(yd(a.ra,b,a.D,od.Gi)){for(var c=0;c<a.A.length;c++)Nd(a.ra,b+c,a.A[c]);b=!0}else b=!1;if(b){b=[];"number"==typeof a.B?b.push(a.B):null!=a.B&&a.B.length&&(b=a.B);for(c=0;c<b.length;c++){var d=a,e=b[c],f=Fd(d.ra,d.H,d.D);Ed(d.ra,e,d.D,f)}a.C&&((b=sc(a.C,a.id))?(c=a.A,d=a.I,b.Pa==J.sa?Bp(b,c,d||
[12640,8752],8):b.Pa==J.tc&&Bp(b,c,d||[14221,16269,20154],8),Cc(b)):a.J(274877906944,"Unable to find component: %s\n",a.C));delete a.A}}Cc(a)}}
var Yg={lJ:1024,JI:1032,uF:{da:1040,UH:49152,FF:4096,VH:3584,TH:192,AK:48,NI:12,vG:1},dH:1042,$G:1043,sG:1045,cH:1045,SD:1045,ov:1046,EG:{da:1047,lG:128,yD:64,XH:32,BJ:16,BC:8,jE:4,QG:2,gJ:1},FG:{da:1048,kG:128,xD:64,WH:32,AJ:16,WF:8},AC:1049,lD:1050,nD:1052,zG:1054,AG:1086,LJ:{da:1086,nG:128},yH:1087,tH:1088,RE:{da:1089,qK:128,Nu:64,QC:32,MC:16,TE:9,PC:8,dJ:4,KK:3,KC:2,Mu:1},DH:1090,fE:1097,dE:1098,eE:1100,iE:1102,oE:1104,nE:1120,uC:1122,wC:1123,gE:1125,hE:1126,qF:1127,cE:1129,LG:1131,tG:1127,uG:1129,
mG:1131,Qy:1132,Py:1134,Ry:1136,hD:1137,jr:{da:1138,pz:4660},SE:1140,SF:1141,YD:1142,HI:1143,KI:1144,mJ:1148,mD:1152,kD:1154,jJ:1156,POINTS:1157,hG:1159,iG:1160,KG:1163,TF:1164,QF:1165,RF:1166,PF:1167,fF:1168,gF:1172,HG:{da:1174,PG:1,OG:2,vJ:4,uJ:8,GF:8,yG:16,UJ:32,NG:64,YI:128},GG:{da:1175,IG:7,je:1,ve:2,yd:4,CG:16,DG:32,JG:64,BG:128},xK:1176,yK:1178,pJ:1180,oJ:1182,qJ:1184,EH:1185,wJ:1192,cK:1280};
Vb(function(){for(var a=pc("pcx86","rom"),b=0;b<a.length;b++){var c=a[b],d=qc(c);d=new xp(d);oc(d,c)}});function Cp(a){dc.call(this,"RAMx86",a);this.B=+a.addr;this.A=+a.size;this.F=a.test&&"false"!=a.test;this.H=!!this.A;this.C=0;this.D=!1}oa(Cp,dc);m=Cp.prototype;m.Sb=function(a,b,c){if(void 0===this.oa[b])switch(b){case "listSizes":return this.oa[b]=c,!0}return!1};
m.bd=function(a,b,c,d){this.ra=b;this.G=c;this.fa=d;this.V=Yc(a,"ChipSet");this.F=Ae(a,"testRAM",this.F);this.C=+Be(a,"sizeRAM")||0;1024>this.C&&(this.C*=1024);Cc(this)};m.Gc=function(a,b){return!b&&(this.reset(),a&&this.controller&&!this.restore(a))?!1:!0};m.Fc=function(a){return a&&this.controller?this.save():!0};
m.reset=function(){if(!this.B&&!this.H&&this.V){var a=this.C||-1;var b=this.oa.listSizes;b&&(0<a&&(b.options[0].value=a.toString()),a=+b.options[b.selectedIndex].value);if(0<a){b=this.V;var c=a/1024,d=Vn(b,bg.jg);!(c<=d[1]&&Bm(b,bg.jg,c)&&Bm(b,bg.Mg,0))&&c<=d[1]+Vn(b,bg.Mg)[1]&&(c-=d[1],Bm(b,bg.jg,d[1])&&Bm(b,bg.Mg,c))}else a=1024*In(this.V,0==a);this.A&&a!=this.A&&(Hd(this.ra,this.B,this.A),this.D=!1);this.A=a}if(a=this.oa.listSizes)for(b=1;b<a.options.length;b++)if(+a.options[b].value==this.A){a.selectedIndex!=
b&&(a.selectedIndex=b);break}!this.D&&this.A&&yd(this.ra,this.B,this.A,od.Rm)&&(this.D=!0,"ramCPQ"==this.Yb&&(this.controller=new Dp(this),yd(this.ra,Ep,4,od.Ga,this.controller)));this.D?(this.B||this.F||Pd(this.ra,Yg.jr.da,Yg.jr.pz),"ramCPQ"!=this.Yb&&this.V&&(a=this.V,a.A&&(b=1048576>this.B?x.da.Yo:x.da.cw,c=a.A[b]|a.A[b+1]<<8,c+=this.A>>10,a.A[b]=c&255,a.A[b+1]=c>>8,Nn(a)))):hc("No RAM allocated")};m.save=function(){var a=new Wg(this);this.controller&&a.set(0,this.controller.save());return a.data()};
m.restore=function(a){return this.controller?this.controller.restore(a[0]):!0};function Dp(a){this.H=a;this.C=Fp.re;this.D=Gp.re;this.G=Hp.re;this.B=null;this.buffer=[null,0];this.F=[Ip,Jp]}oa(Dp,td);m=Dp.prototype;m.save=function(){return[this.C,this.G]};m.restore=function(a){this.Ob(0,a[0]&255);this.Ob(2,a[1]&255);return!0};m.Ia=function(a){var b=255;2>a?b=a&1?this.D>>8:this.D&255:4>a&&(b=a&1?this.G>>8:this.G&255);return b};
m.Ob=function(a,b){if(a)2==a&&(this.G=this.G&-256|b);else if(b!=(this.C&255)){a=this.H.ra;if(b&Fp.Yy)this.B&&(Ed(a,Kp,Lp,this.B),this.B=null);else{this.B||(this.B=Fd(a,Kp,Lp));var c=Fd(a,Mp,Lp);Ed(a,Kp,Lp,c,b&Fp.Yx?od.Rm:od.Gi)}this.C=this.C&-256|b}};m.$k=function(){return this.F};m.In=function(){return this.buffer};function Ip(a){return this.controller.Ia(a)}function Jp(a,b){this.controller.Ob(a,b)}
var Ep=-2134900736,Mp=16646144,Kp=917504,Lp=131072,Fp={Yy:1,Yx:2,Od:65532,re:65535},Gp={GC:1,HC:2,IC:4,JC:8,WC:0,XC:16,VC:32,UC:48,vC:64,xI:128,kK:256,jK:512,lK:768,fH:1024,eH:2048,gH:3072,iH:4096,hH:8192,jH:12288,lH:16384,kH:32768,mH:49152,re:2575},Hp={RJ:15,wD:64,Od:65456,re:2};Vb(function(){for(var a=pc("pcx86","ram"),b=0;b<a.length;b++){var c=a[b],d=qc(c);d=new Cp(d);oc(d,c)}});
function Np(a){dc.call(this,"Keyboard",a,8388608);Op(this,a.model);this.N=Lb("!iPad");this.J("mobile keyboard support: %b\n",this.N);this.ya=Kb("Windows");this.va=0;this.H=a.softKeys;this.D=this.U=null;this.xa=this.Hn=!1;this.C=[];this.Ha=50;this.ca=100;this.ta=this.I=0;this.O=Object.keys(Pp);for(var b=0;b<this.O.length;b++)2>this.O[b].length&&(this.O.splice(b,1),b--);this.P=a.autoType;this.ka=!1;this.Z=this.ba=null;this.K=Qp.Lm;this.exports={type:this.zh,wait:this.eC};Cc(this)}oa(Np,dc);m=Np.prototype;
m.Sb=function(a,b,c,d){var e=this,f=a+"-"+b;if(void 0===this.oa[f])switch(b){case "keys":case "keyboard":try{var g=document.getElementById(this.pd+".soft-keyboard"+(this.N?"-mobile":""));if(!g){g=c.parentElement.parentElement.nextElementSibling;var h=g.className;this.N!=0<=h.indexOf("mobile")&&(g=g.nextElementSibling)}g&&(this.U=g,null!=this.H?Rp(this,this.H):this.H="none"!=getComputedStyle(g).display,c.onclick=function(){Rp(e,!e.H)},"ontouchstart"in window&&(g.ontouchstart=function(n){n.preventDefault()}))}catch(n){}return!0;
case "screen":return"textarea"!=a||Kb("iPhone")||(this.D=c,this.D.addEventListener("copy",function(n){n.stopPropagation&&n.stopPropagation();n.preventDefault&&n.preventDefault();if((n=n.clipboardData||window.clipboardData)&&e.video){var q=e.video,u="",y=0;if(q.I)for(var N=0;N<q.K;N++){for(var E="",G=0;G<q.M;G++)G<q.D&&(E+=Mc[q.F[y]&255]),y++;u+=E.replace(/\s*$/,"\n")}n.setData("text/plain",u)}}),this.D.addEventListener("cut",function(n){n.stopPropagation&&n.stopPropagation();n.preventDefault&&n.preventDefault();
(n=n.clipboardData||window.clipboardData)&&n.setData("text/plain",e.D.value)}),this.D.addEventListener("paste",function(n){n.stopPropagation&&n.stopPropagation();n.preventDefault&&n.preventDefault();if(n=n.clipboardData||window.clipboardData){n=n.getData("text/plain");var q=n.slice(-1);"$"==q&&(n=n.slice(0,-1),"$"==n.slice(-1)&&(q=""));"$"!=q&&(n=n.replace(/\$/g,"$$$$"));e.zh(n.replace(/\r\n/g,"\r"))}})),c.onkeydown=function(n){return Sp(e,n,!0)},c.onkeypress=function(n){var q=n||window.event;n=q.which||
q.keyCode;Tp(e.Ea,q)?(e.ta++,e.A="",q=!Up[n]||!!(e.B&Vp.za),e.J(25769803776,"onKeyPress(%d): %b\n",n,q),q||Wp(e,n,!0),n=q):n=!1;return n},c.onkeyup=function(n){return Sp(e,n,!1)},!0;case "caps-lock":if("led"==a)return this.oa[f]=c,c.onclick=function(n){e.Ed(n);Wp(e,L.yd,!0)},!0;case "num-lock":if("led"==a)return this.oa[f]=c,c.onclick=function(n){e.Ed(n);Wp(e,L.ve,!0)},!0;case "scroll-lock":if("led"==a)return this.oa[f]=c,c.onclick=function(n){e.Ed(n);Wp(e,L.je,!0)},!0;default:h=b.toUpperCase().replace(/-/g,
"_");if(void 0!==Xp[h]&&"button"==a)return this.oa[f]=c,c.onclick=function(n,q,u){return function(y){n.J(25769803776,"%s clicked\n",q);n.Ed(y);n.A="";Yp(n,u,!0);Wp(n,u,!0)}}(this,h,Xp[h]),!0;if(void 0!==Pp[b]){if((h=c.parentElement.parentElement.className)&&this.N!=0<=h.indexOf("mobile"))break;this.va++;this.oa[f]=c;var k=0,l=0,p=Zp[Pp[b]]<=Vp.Kh;a=function(n,q,u){return function(y){var N=y.timeStamp-k;l=l&&250>N?l<<1:1;k=y.timeStamp;y.preventDefault();n.A="";Wp(n,u)}}(this,b,Pp[b]);b=function(n,
q,u){return function(y){if(l){var N=y.timeStamp-k;l=p&&250>N?l<<1:0;k=y.timeStamp;8>l?$p(n,u):l=0}}}(this,b,Pp[b]);"ontouchstart"in window?(c.ontouchstart=a,c.ontouchend=b):(c.onmousedown=a,c.onmouseup=c.onmouseout=b);return!0}if(d)return this.oa[f]=c,c.onclick=function(n){e.Ed(n);return e.zh(d)},!0}return!1};m.Ed=function(a){a.preventDefault();!this.H&&this.Ea&&this.Ea.Ed()};
function aq(a,b,c){if(a.va&&a.H){for(var d in Ma)if(b==Ma[d]){b=+d;(d=La[d])&&(b=+d);break}b==L.Sp?b=L.ve:b==L.Mj?b=L.je:b==L.Ph?b=L.Wh:b==L.Ol?b=L.zm:b==L.Kj?b=L.Qg:b==L.Lj?b=L.Rg:b==L.Pl&&(b=L.mg);for(var e in Pp)if((d=Pp[e]==b)||(d=b,d>=t.a&&d<=t.z&&(d-=t.a-t.Ie),d=Pp[e]==d),d){(a=a.oa["key-"+e])&&void 0!==c&&(a.style.color=c?"#ffffff":"#000000",a.style.backgroundColor=c?"#000000":"#ffffff");break}}}
m.bd=function(a,b,c,d){this.Ea=a;this.ra=b;this.G=c;this.fa=d;var e=this;this.Ja=ed(this.G,this.id+".inject",function(){e.zh()});this.pa=ed(this.G,this.id+".transmit",function(){bq(e)});this.V=Yc(a,"ChipSet");this.P=Be(a,"autoType")||this.P;(b=Be(a,"softKeys"))&&Rp(this,"false"!=b);this.video=Yc(a,"Video");Qg(c,33,this.KA.bind(this))};m.start=function(){this.D&&(this.D.style.lineHeight="normal",this.D.focus(),this.D.select());cq(this,Qp.Xq)};
m.KA=function(){var a=this.G.D>>8&255;this.ka=!1;10==a&&(this.ka=!0,this.Z?(this.Z(),this.Z=null):cq(this,Qp.Lm));return!0};function Xo(a){a.J(8388640,"keyboard reset\n");a.Be=[];Yo(a,Wo.Ou)}function Op(a,b){var c=0;a.model=null;"string"==typeof b&&(a.model=b.toUpperCase(),c=dq.indexOf(a.model),0>c&&(c=0));if(b=dq[c])a.Ba=parseInt(b.substr(2),10)}function So(a,b){var c=!1;b&&(b==Wo.Fj&&(c=!0),a.G&&Qe(a.G,a.pa,25,!0));bq(a,c)}
function Qo(a,b,c){a.ia!==c&&(a.ia=a.la=c);a.X!==b&&(a.X=b)&&!a.la&&bq(a,!0);a.X&&a.la&&(Xo(a),a.la=!1)}function Yo(a,b){a.V&&(a.Be.unshift(b),bq(a))}function bq(a,b){var c;if(c=a.V)b||(b=a.G,c=a.pa,b=!(0<=c&&c<b.fb.length&&0<=b.fb[c][1])),c=b;c&&(b=a.Be.length?a.Be[0]:0,$o(a.V,b)&&a.Be.shift(),b&&Qe(a.G,a.pa,25))}m.Gc=function(a,b){return!b&&(this.reset(),a&&this.restore&&!this.restore(a))?!1:!0};m.Fc=function(a){return a?this.save():!0};
m.reset=function(){if(!this.model&&this.V)switch(this.V.model){case Cm:case 5160:Op(this,dq[0]);break;default:Op(this,dq[1])}eq(this)};m.save=function(){var a=new Wg(this),b=[],c=0;b[c++]=this.ia;b[c++]=this.X;b[c++]=this.K;b[c++]=this.A;b[c]=this.I;a.set(0,b);return a.data()};m.restore=function(a){return eq(this,a[0])};function eq(a,b){b?b[2]=a.Ea.P?Qp.Xq:b[2]||Qp.NONE:b=[!1,!1,Qp.Lm];var c=0;a.ia=b[c++];a.X=b[c++];a.K=b[c++];a.A=b[c++]||"";a.I=b[c]||a.ca;a.L=0;a.B=a.F=a.M=0;a.Be=[];return!0}
function Rp(a,b){a.U&&(b?(a.U.style.display="block",a.D&&(a.D.readOnly=!0)):(a.U.style.display="none",a.D&&(a.D.readOnly=!1)));a.H=b}function cq(a,b){a.K==b&&(a.K=Qp.NONE,a.P&&a.zh(a.P))}
m.zh=function(a,b){b=void 0===b?this.ca:b;if(a){if(a){for(var c=new Date,d,e=/(?:^|[^$])\$([a-z0-9][a-z0-9-]+)/g;d=e.exec(a);){e.lastIndex&&e.lastIndex--;switch(d[1]){case "date":var f=fb("%M-%02D-%04Y",c);break;case "time":f=fb("%H:%02N:%02S",c);break;default:continue}a=a.replace("$"+d[1],f)}a=a.replace(/\$\$/g,"\u001f")}return a?(this.K=Qp.NONE,this.A=a,this.I=b||0,this.zh(),!0):!1}1E3<=this.I&&(this.I=this.ca);for(b=0;0<this.A.length&&!b;){a=this.A.charAt(0);if("$"==a){if(c=this.A.match(/^\$([0-9]+)\.?/)){this.I=
100*+c[1]||this.ca;this.A=this.A.substr(c[0].length);break}for(c=0;c<this.O.length;c++){d=this.O[c];if(1==this.A.indexOf(d)){b=Pp[d];this.A=this.A.substr(d.length+1);break}if((e=0==d.indexOf("num-")?d.substr(4):"")&&1==this.A.indexOf(e)){b=Pp[d];this.A=this.A.substr(e.length+1);break}}}if(b)break;this.A=this.A.substr(1);a=a.charCodeAt(0);a<=t.Qj?(b=a,10==a&&(b=13),a!=t.Qh&&a!=t.Rh&&a!=t.Sh&&(b+=4E3)):28==a?b=t.Qh+4E3:29==a?b=t.Rh+4E3:30==a?b=t.Sh+4E3:31==a?b=t.$:127>=a&&(b=a)}b&&(a=void 0===fq[b],
Wp(this,b,a),a&&gq(this,!0));this.A.length?Qe(this.G,this.Ja,this.I):this.ba&&(this.ba(),this.ba=null);return!0};m.eC=function(a,b){var c=!1;switch(b){case "DOS":this.ka?c=!0:this.Z=a;break;default:this.A.length?this.ba=a:c=!0}return c};m.Hh=function(a,b){a.style.backgroundColor=b?"#00ff00":"#000000"};
function Yp(a,b,c,d){var e=0;if(Up[b]){var f=Math.floor(b/1E3)&2;if(b=Zp[b]||0){!f||b&Vp.Gu||(b>>=1);if(b&Vp.Wo){if(!1===d)return-1;d=null}null==d?d=!((c?a.F:a.B)&b):!d&&!c&&b&Vp.Kh&&(b=Vp.Kh);if(!c)a.B&=~b,d&&(a.B|=b);else if(!(a.F&Vp.Kh&&b&Vp.Wo)){a.F&=~b;d&&(a.F|=b);c=b;var g,h;for(h in hq)e="led-"+h,f=hq[h],c&&c!=f||!(g=a.oa[e])||a.Hh(g,!!(a.F&f))}e=d?1:-1}}return e}
function Wp(a,b,c){if((Up[b]||Up[b+=1E3])&&a.G&&a.G.flags.vb){Zp[b]&&a.C.length&&0<a.C[0].Df&&(a.C[0].Df=0);var d;for(d=0;d<a.C.length;d++){var e=a.C[d];if(e.Gf==b){if(!c||0<=e.Df){d=-1;break}0<d&&(0<a.C[0].Df&&(a.C[0].Df=0),a.C.splice(d,1));break}}0>d||(d==a.C.length&&(e={Gf:b},aq(a,b,!0),d++),0<d&&a.C.splice(0,0,e),e.Vk=!0,e.Df=c?-1:Zp[b]?0:1,iq(a,e))}}function gq(a,b){for(var c=0;c<a.C.length;c++){var d=a.C[c];(!b||fq[d.Gf])&&$p(a,d.Gf)&&c--}}
function $p(a,b,c){if(!Up[b]||!(c||a.G&&a.G.flags.vb))return!1;for(var d=!1,e=0;e<a.C.length;e++){var f=a.C[e];if(f.Gf==b||f.Gf==Ma[b]){a.C.splice(e,1);f.Cg&&clearTimeout(f.Cg);f.Vk&&!c&&jq(a,f.Gf,!1);aq(a,b,!1);d=!0;break}}!a.C.length&&a.xa&&(Yp(a,L.yd),a.xa=!1);return d}
function iq(a,b,c){if(a.G&&a.G.flags.vb){if(c&&0>b.Df&&(b.Vk=!1),jq(a,b.Gf,b.Vk)&&b.Df){if(0>b.Df){if(!b.Vk){$p(a,b.Gf);return}var d=a.Ha}else d=1==b.Df++?500:100;b.Cg&&clearTimeout(b.Cg);b.Cg=setTimeout(function(e){return function(){iq(e,b,d)}}(a),d)}}else $p(a,b.Gf,!0)}
function kq(a,b,c){var d=b;if(b>=t.Ie&&b<=t.og)!(a.B&(Vp.wa|Vp.Pd|Vp.yd))==c&&(d=b+(t.a-t.Ie));else if(b>=t.a&&b<=t.z)!!(a.B&(Vp.wa|Vp.Pd|Vp.yd))==c&&(d=b-(t.a-t.Ie));else if(!!(a.B&(Vp.wa|Vp.Pd))==c){if(a=Ma[b])d=a}else if(a=La[b])d=a;return d}m.ul=function(a){a||(this.B&=~Vp.Kh,gq(this))};
function Sp(a,b,c){var d=!0,e=!1,f=!1,g=b.keyCode;Kb("iOS")&&a.B&Vp.Ga&&13==g&&(g=t.Gg);if(229==g&&b.code){var h=b.code;g=0==h.indexOf("Key")?h.charCodeAt(3):0==h.indexOf("Digit")?h.charCodeAt(5):Ka[h]||0;a.J(25769803776,"onKeyActive(%d): remapped using event code '%s'\n",g,h)}if(!Tp(a.Ea,b,c))return!1;c&&(a.ta++,a.A="",27!=g&&(a.K=Qp.NONE));tc(a.pd);h=kq(a,g,!0);a.Hn&&h==t["`"]&&(g=h=27);if(Up[g+1E3])if(h+=1E3,2==b.location&&(h+=2E3),Yp(a,h,!1,c)){if(20==g||144==g||145==g)a.ya||(c=e=!0);c||91!=g&&
93!=g||gq(a)}else 8==g&&(a.B&(Vp.Ga|Vp.Lb))==Vp.Ga&&(h=L.Mj),8==g&&(a.B&(Vp.Ga|Vp.Lb))==(Vp.Ga|Vp.Lb)&&(h=L.Ph),d=!1;else if((a.B&(Vp.Ga|Vp.Lb))==(Vp.Ga|Vp.Lb)&&(190==g&&(h=L.Ph),187==g?h=L.Kj:189==g&&(h=L.Lj)),Up[h]&&a.B&(Vp.xv|Vp.Iu)&&(d=!1),d&&c||a.B&Vp.hv)f=!0;d||b.preventDefault();a.J(25769803776,"onKeyActive(%d): %b%s\n",g,c,f?",ignore":d?"":",consume");f||a.N&&d||(c?Wp(a,h,e):$p(a,h)||(b=kq(a,g,!1),b!=h&&$p(a,b)));return d}
function jq(a,b,c){var d=!1;Yp(a,b,!0,c);var e=Up[b]||Up[b+1E3];if(void 0!==e){d=[];var f=e&255;if(83<f&&83==a.Ba)return!1;d.push(f|(c?0:M.Fg));for(b=b>=t.Ie&&b<=t.og||b>=t.a&&b<=t.z;e>>>=8;){var g=e&255;if(f==M.Yv||f==M.Zv)d.push(f|(c?0:M.Fg));else{var h=0;g==M.wa?a.F&(Vp.wa|Vp.Pd)||a.F&Vp.yd&&b||(h|=Vp.wa):g==M.Ga?a.F&(Vp.Ga|Vp.Xx)||(h|=Vp.Ga):g==M.Lb?a.F&(Vp.Lb|Vp.Ei)||(h|=Vp.Lb):d.push(f|(c?0:M.Fg));h&&(c?a.M|=h:a.M&h?a.M&=~h:h=0);h&&(c?d.unshift(g):d.push(g|M.Fg))}}for(c=0;c<d.length;c++)e=a,
f=d[c],e.Be&&(e.Be.length<lq.Jq?(e.V&&e.V.model==Vm&&(e.G.ta&1||Nd(e.ra,Yg.ov,0)),e.Be.push(f),bq(e)):(e.Be.length==lq.Jq&&e.Be.push(Wo.Uu),e.J("keyboard buffer overflow\n")));d=!0}return d}
var dq=["US83","US84","US101"],Vo={ze:255,gy:254,JE:246,IE:245,Nf:244,Cy:243,Qv:238,zy:237},Wo={iI:0,TG:101,Ou:170,Qv:238,jD:240,Fj:250,YC:252,LE:253,gy:254,Uu:255},lq={Jq:20},Qp={NONE:0,Xq:1,Lm:2},L={Ij:1008,bh:1009,wa:1016,Pd:3016,Ga:1017,Lb:1018,Ei:3018,yd:1020,Lg:1027,Li:1032,ai:1112,ci:1113,di:1114,ei:1115,fi:1116,gi:1117,hi:1118,ii:1119,ji:1120,bi:1121,pm:1122,qm:1123,ve:1144,je:1145,nk:1044,Xj:1036,Ek:1038,mk:1033,Ne:1037,yi:1096,ek:1097,dk:1098,hk:1099,gk:1100,ck:1101,jk:1102,fk:1103,kk:1104,
ik:1105,Qg:1107,Rg:1109,xi:1110,Wg:1039,Vj:1035,Tj:1040,lk:1034,zm:1045,Wh:1046,za:1091,Ug:1093,sm:1224,Nl:t.Nl+4E3,Ql:t.Ql+4E3,Nj:t.Nj+4E3,Rl:t.Rl+4E3,Sl:t.Sl+4E3,Tl:t.Tl+4E3,Ul:t.Ul+4E3,Oj:t.Oj+4E3,Qh:t.Qh+4E3,Rh:t.Rh+4E3,Vl:t.Vl+4E3,Wl:t.Wl+4E3,Sh:t.Sh+4E3,Xl:t.Xl+4E3,Yl:t.Yl+4E3,Zl:t.Zl+4E3,$l:t.$l+4E3,am:t.am+4E3,bm:t.bm+4E3,Pj:t.Pj+4E3,cm:t.cm+4E3,dm:t.dm+4E3,em:t.em+4E3,fm:t.fm+4E3,gm:t.gm+4E3,Qj:t.Qj+4E3,mg:4027,Sp:4144,Mj:4145,Ph:4046,Ol:4045,Kj:4107,Lj:4109,Rp:Ja+4E3,Pl:4044,tr:4009},M=
{Lg:1,ONE:2,nn:3,kn:4,um:5,rq:6,ur:7,sr:8,gq:9,Rq:10,ZERO:11,Wp:12,jq:13,Ij:14,bh:15,Q:16,Ui:17,E:18,Di:19,Oi:20,Wi:21,Qi:22,ni:23,zi:24,Bi:25,Gq:26,er:27,iq:28,Ga:29,Ie:30,Ii:31,Uh:32,$h:33,ki:34,li:35,oi:36,pi:37,si:38,qr:39,cr:40,fp:41,wa:42,gp:43,og:44,Vi:45,Gg:46,Si:47,Lh:48,vi:49,ti:50,Op:51,$q:52,vr:53,Pd:54,nk:55,Lb:56,Li:57,yd:58,ai:59,ci:60,di:61,ei:62,fi:63,gi:64,hi:65,ii:66,ji:67,bi:68,ve:69,je:70,fk:71,kk:72,ik:73,Rg:74,gk:75,ck:76,jk:77,Qg:78,ek:79,dk:80,hk:81,yi:82,xi:83,mg:84,qI:84,
pm:87,qm:88,Pr:91,rJ:92,mx:93,WG:127,Fg:128,Yv:224,Zv:225},Vp={Pd:1,wa:2,XJ:3,Xx:4,Ga:8,xv:12,Ei:16,Lb:32,Iu:48,Ug:64,za:128,hv:192,Gu:85,Kh:255,jG:256,yd:512,ve:1024,je:2048,Wo:3584},fq,mq={};fq=(mq[L.Pd]=Vp.Pd,mq[L.wa]=Vp.wa,mq[L.Ga]=Vp.Ga,mq[L.Lb]=Vp.Lb,mq[L.Ei]=Vp.Lb,mq[L.za]=Vp.za,mq[L.Ug]=Vp.Ug,mq[L.sm]=Vp.za,mq);var Zp,nq={};
Zp=(nq[L.Pd]=Vp.Pd,nq[L.wa]=Vp.wa,nq[L.Ga]=Vp.Ga,nq[L.Lb]=Vp.Lb,nq[L.Ei]=Vp.Lb,nq[L.za]=Vp.za,nq[L.Ug]=Vp.Ug,nq[L.sm]=Vp.za,nq[L.yd]=Vp.yd,nq[L.ve]=Vp.ve,nq[L.je]=Vp.je,nq);
var Xp={TAB:L.bh,ESC:L.Lg,F1:L.ai,F2:L.ci,F3:L.di,F4:L.ei,F5:L.fi,F6:L.gi,F7:L.hi,F8:L.ii,F9:L.ji,F10:L.bi,LEFT:L.Ne,UP:L.Ek,RIGHT:L.Wg,DOWN:L.Tj,NUM_HOME:L.Xj,NUM_END:L.Vj,NUM_PGUP:L.mk,NUM_PGDN:L.lk,ALT:L.Lb,SYS_REQ:L.mg,CTRL_C:L.Nj,CTRL_PAUSE:L.Sp,CTRL_BREAK:L.Mj,CTRL_ALT_DEL:L.Ph,CTRL_ALT_INS:L.Ol,CTRL_ALT_ADD:L.Kj,CTRL_ALT_SUB:L.Lj,CTRL_ALT_ENTER:L.Rp,CTRL_ALT_SYS_REQ:L.Pl,SHIFT_TAB:L.tr},Pp={esc:L.Lg,1:t["1"],2:t["2"],3:t["3"],4:t["4"],5:t["5"],6:t["6"],7:t["7"],8:t["8"],9:t["9"],0:t["0"],"-":t["-"],
"=":t["="],bslash:t["\\"],bs:L.Ij,tab:L.bh,q:t.q,w:t.w,e:t.e,r:t.r,t:t.t,y:t.y,u:t.su,i:t.ms,o:t.Mt,p:t.p,"[":t["["],"]":t["]"],enter:13,ctrl:L.Ga,a:t.a,s:t.nu,d:t.d,f:t.f,g:t.js,h:t.ls,j:t.As,k:t.k,l:t.Bs,";":t[";"],quote:t["'"],"`":t["`"],shift:L.wa,"\\":t["\\"],z:t.z,x:t.x,c:t.c,v:t.tu,b:t.b,n:t.n,m:t.Gs,",":t[","],".":t["."],"/":t["/"],"right-shift":L.Pd,prtsc:L.nk,alt:L.Lb,space:L.Li,"caps-lock":L.yd,f10:L.bi,f1:L.ai,f2:L.ci,f3:L.di,f4:L.ei,f5:L.fi,f6:L.gi,f7:L.hi,f8:L.ii,f9:L.ji,"num-lock":L.ve,
"scroll-lock":L.je,"num-home":L.Xj,"num-up":L.Ek,"num-pgup":L.mk,"num-sub":L.Rg,"num-left":L.Ne,"num-center":L.ck,"num-right":L.Wg,"num-add":L.Qg,"num-end":L.Vj,"num-down":L.Tj,"num-pgdn":L.lk,"num-ins":L.zm,"num-del":L.Wh,"sys-req":L.mg},hq={"caps-lock":Vp.yd,"num-lock":Vp.ve,"scroll-lock":Vp.je},Up,O={};
Up=(O[L.Lg]=M.Lg,O[t["1"]]=M.ONE,O[t["!"]]=M.ONE|M.wa<<8,O[t["2"]]=M.nn,O[t["@"]]=M.nn|M.wa<<8,O[t["3"]]=M.kn,O[t["#"]]=M.kn|M.wa<<8,O[t["4"]]=M.um,O[t.$]=M.um|M.wa<<8,O[t["5"]]=M.rq,O[t["%"]]=M.rq|M.wa<<8,O[t["6"]]=M.ur,O[t["^"]]=M.ur|M.wa<<8,O[t["7"]]=M.sr,O[t["&"]]=M.sr|M.wa<<8,O[t["8"]]=M.gq,O[t["*"]]=M.gq|M.wa<<8,O[t["9"]]=M.Rq,O[t["("]]=M.Rq|M.wa<<8,O[t["0"]]=M.ZERO,O[t[")"]]=M.ZERO|M.wa<<8,O[t["-"]]=M.Wp,O[t._]=M.Wp|M.wa<<8,O[t["="]]=M.jq,O[t["+"]]=M.jq|M.wa<<8,O[L.Ij]=M.Ij,O[L.bh]=M.bh,O[t.q]=
M.Q,O[t.Q]=M.Q|M.wa<<8,O[t.w]=M.Ui,O[t.Ui]=M.Ui|M.wa<<8,O[t.e]=M.E,O[t.E]=M.E|M.wa<<8,O[t.r]=M.Di,O[t.Di]=M.Di|M.wa<<8,O[t.t]=M.Oi,O[t.Oi]=M.Oi|M.wa<<8,O[t.y]=M.Wi,O[t.Wi]=M.Wi|M.wa<<8,O[t.su]=M.Qi,O[t.Qi]=M.Qi|M.wa<<8,O[t.ms]=M.ni,O[t.ni]=M.ni|M.wa<<8,O[t.Mt]=M.zi,O[t.zi]=M.zi|M.wa<<8,O[t.p]=M.Bi,O[t.Bi]=M.Bi|M.wa<<8,O[t["["]]=M.Gq,O[t["{"]]=M.Gq|M.wa<<8,O[t["]"]]=M.er,O[t["}"]]=M.er|M.wa<<8,O[13]=M.iq,O[L.Ga]=M.Ga,O[t.a]=M.Ie,O[t.Ie]=M.Ie|M.wa<<8,O[t.nu]=M.Ii,O[t.Ii]=M.Ii|M.wa<<8,O[t.d]=M.Uh,O[t.Uh]=
M.Uh|M.wa<<8,O[t.f]=M.$h,O[t.$h]=M.$h|M.wa<<8,O[t.js]=M.ki,O[t.ki]=M.ki|M.wa<<8,O[t.ls]=M.li,O[t.li]=M.li|M.wa<<8,O[t.As]=M.oi,O[t.oi]=M.oi|M.wa<<8,O[t.k]=M.pi,O[t.pi]=M.pi|M.wa<<8,O[t.Bs]=M.si,O[t.si]=M.si|M.wa<<8,O[t[";"]]=M.qr,O[t[":"]]=M.qr|M.wa<<8,O[t["'"]]=M.cr,O[t['"']]=M.cr|M.wa<<8,O[t["`"]]=M.fp,O[t["~"]]=M.fp|M.wa<<8,O[L.wa]=M.wa,O[t["\\"]]=M.gp,O[t["|"]]=M.gp|M.wa<<8,O[t.z]=M.og,O[t.og]=M.og|M.wa<<8,O[t.x]=M.Vi,O[t.Vi]=M.Vi|M.wa<<8,O[t.c]=M.Gg,O[t.Gg]=M.Gg|M.wa<<8,O[t.tu]=M.Si,O[t.Si]=
M.Si|M.wa<<8,O[t.b]=M.Lh,O[t.Lh]=M.Lh|M.wa<<8,O[t.n]=M.vi,O[t.vi]=M.vi|M.wa<<8,O[t.Gs]=M.ti,O[t.ti]=M.ti|M.wa<<8,O[t[","]]=M.Op,O[t["<"]]=M.Op|M.wa<<8,O[t["."]]=M.$q,O[t[">"]]=M.$q|M.wa<<8,O[t["/"]]=M.vr,O[t["?"]]=M.vr|M.wa<<8,O[L.Pd]=M.Pd,O[L.nk]=M.nk,O[L.Lb]=M.Lb,O[L.Ei]=M.Lb,O[L.Li]=M.Li,O[L.yd]=M.yd,O[L.ai]=M.ai,O[L.ci]=M.ci,O[L.di]=M.di,O[L.ei]=M.ei,O[L.fi]=M.fi,O[L.gi]=M.gi,O[L.hi]=M.hi,O[L.ii]=M.ii,O[L.ji]=M.ji,O[L.bi]=M.bi,O[L.ve]=M.ve,O[L.je]=M.je,O[L.Xj]=M.fk,O[L.fk]=M.fk,O[L.Ek]=M.kk,O[L.kk]=
M.kk,O[L.mk]=M.ik,O[L.ik]=M.ik,O[L.Ne]=M.gk,O[L.gk]=M.gk,O[L.ck]=M.ck,O[L.Wg]=M.jk,O[L.jk]=M.jk,O[L.Vj]=M.ek,O[L.ek]=M.ek,O[L.Tj]=M.dk,O[L.dk]=M.dk,O[L.lk]=M.hk,O[L.hk]=M.hk,O[L.zm]=M.yi,O[L.yi]=M.yi,O[L.Qg]=M.Qg,O[L.Rg]=M.Rg,O[L.Wh]=M.xi,O[L.xi]=M.xi,O[L.mg]=M.mg,O[L.pm]=M.pm,O[L.qm]=M.qm,O[L.za]=M.Pr,O[L.Ug]=M.mx,O[L.sm]=M.Pr,O[L.tr]=M.bh|M.wa<<8,O[L.Nl]=M.Ie|M.Ga<<8,O[L.Ql]=M.Lh|M.Ga<<8,O[L.Nj]=M.Gg|M.Ga<<8,O[L.Rl]=M.Uh|M.Ga<<8,O[L.Sl]=M.E|M.Ga<<8,O[L.Tl]=M.$h|M.Ga<<8,O[L.Ul]=M.ki|M.Ga<<8,O[L.Oj]=
M.li|M.Ga<<8,O[L.Qh]=M.ni|M.Ga<<8,O[L.Rh]=M.oi|M.Ga<<8,O[L.Vl]=M.pi|M.Ga<<8,O[L.Wl]=M.si|M.Ga<<8,O[L.Sh]=M.ti|M.Ga<<8,O[L.Xl]=M.vi|M.Ga<<8,O[L.Yl]=M.zi|M.Ga<<8,O[L.Zl]=M.Bi|M.Ga<<8,O[L.$l]=M.Q|M.Ga<<8,O[L.am]=M.Di|M.Ga<<8,O[L.bm]=M.Ii|M.Ga<<8,O[L.Pj]=M.Oi|M.Ga<<8,O[L.cm]=M.Qi|M.Ga<<8,O[L.dm]=M.Si|M.Ga<<8,O[L.em]=M.Ui|M.Ga<<8,O[L.fm]=M.Vi|M.Ga<<8,O[L.gm]=M.Wi|M.Ga<<8,O[L.Qj]=M.og|M.Ga<<8,O[L.Mj]=M.je|M.Ga<<8,O[L.Ph]=M.xi|M.Ga<<8|M.Lb<<16,O[L.Ol]=M.yi|M.Ga<<8|M.Lb<<16,O[L.Kj]=M.Qg|M.Ga<<8|M.Lb<<16,
O[L.Lj]=M.Rg|M.Ga<<8|M.Lb<<16,O[L.Rp]=M.iq|M.Ga<<8|M.Lb<<16,O[L.Pl]=M.mg|M.Ga<<8|M.Lb<<16,O);Vb(function(){for(var a=pc("pcx86","keyboard"),b=0;b<a.length;b++){var c=a[b],d=qc(c);d=new Np(d);oc(d,c)}});
function oq(a,b,c,d){if(void 0!==b&&(!c||c.length)){this.video=a;var e=pq[b],f=a.ta||e[5];if(!c||6>c.length)c=[!1,0,null,null,0,Array(b<J.sa?P.nd:P.sa.nd)];this.fa=a.fa;this.type=e[0];this.port=e[1];this.Pa=b;this.tb=e[2];this.dc=e[3];this.We=d||e[4];65536<=this.We&&720896<=this.tb&&(this.dc=Math.min(this.We>>2,32768));this.qd=c[0];this.Yd=c[1];this.Fh=c[2];this.ha=c[3];this.pc=c[4]&255;this.zl=c[4]>>8&255;this.lb=c[5];this.Pn=P.nd;this.Nk=P.lg;this.Dh=this.lb[P.Ni]|this.lb[P.Mi]<<8;this.mu=0;this.Mk=
63;b<J.sa?(qq(this,c[6],c[8]),this.Aj(rq.Se|Q.Se)):(this.Mk=255,this.Pn=P.sa.nd,this.Nk=P.Rv,b=c[6],void 0===b&&(b=[!1,0,Array(sq.nd),0,f==Jn.Gb?0:tq.Cq,0,0,Array(uq.nd),0,0,0,Array(vq.nd),0,[this.tb,this.dc,this.We],null,rq.Se|Q.Se|wq,0,-1,0,-1,0,-1,0,0,0,0,xq.Sv,yq.Ka.re,0,0,yq.zk.Mq,Array(yq.nd)]),this.ph=b[0],this.ef=b[1],this.td=b[2],this.tn=sq.lg,this.Cl=b[3],this.Gh=b[4],this.xj=b[5],this.hf=b[6],this.ud=b[7],this.vn=uq.lg,this.ku=b[8],this.lu=b[9],this.gf=b[10],this.ff=b[11],this.un=vq.lg,
this.A=b[12],d=b[13],"number"==typeof d&&(d=[this.tb,this.dc,d]),this.tb=d[0],this.dc=d[1],qq(this,b[14],this.We>>2),(d=b[15])&&(d&wq?d&=~wq:d=zq[d&65280]|zq[d&255]),this.Aj(d),this.Do=b[16],this.Kb=b[17],this.Ud=b[18],this.bc=b[19],this.qj=b[20],this.Ef=b[21],this.cg=b[22],this.Qn=b[23],this.Rn=b[24],this.Dh=b[25],this.Pa==J.tc&&(this.Lo=b[26],this.Al=b[27],this.Xd=b[28],this.hd=b[29],this.Bl=b[30],this.Bg=b[31]),this.gh=0);f=Aq[f]||Aq[Jn.Gb];this.Sn=a.G.Jf/f.pl|0;this.RA=this.Sn*f.xl/100|0;this.Is=
this.Sn*f.ol|0;this.Js=this.Is/(f.yl/100)|0;this.ll=c[7]||0;this.Hs=0}}oa(oq,td);function qq(a,b,c){var d=a.We>>2;a.fc=b;if(a.fc&&a.fc.length){if(d=c||d,a.fc.length<d){b=a.fc;for(var e=0,f=Array(d),g=0;g<b.length-1;){for(var h=b[g++],k=b[g++];h--;)f[e]=k,e+=2;e==d&&(e=1)}a.fc=f}}else c||(c=2*d),a.fc=Array(c);if(!c){c=a.fc;b=Array(2*a.fc.length);for(e=d=0;d<a.fc.length;d++,e+=2)b[e]=c[d]&65535,b[e+1]=c[d]>>16&65535;a.fc=b}}
function Bq(a){var b=[];if(void 0!==a.Pa){b[0]=a.qd;b[1]=a.Yd;b[2]=a.Fh;b[3]=a.ha;b[4]=a.pc|a.zl<<8;b[5]=a.lb;if(a.Pa<J.sa)var c=Cq(a.fc);else c=[],c[0]=a.ph,c[1]=a.ef,c[2]=a.td,c[3]=a.Cl,c[4]=a.Gh,c[5]=a.xj,c[6]=a.hf,c[7]=a.ud,c[8]=a.ku,c[9]=a.lu,c[10]=a.gf,c[11]=a.ff,c[12]=a.A,c[13]=[a.tb,a.dc,a.We],c[14]=Cq(a.fc),c[15]=a.ij|wq,c[16]=a.Do,c[17]=a.Kb,c[18]=a.Ud,c[19]=a.bc,c[20]=a.qj,c[21]=a.Ef,c[22]=a.cg,c[23]=a.Qn,c[24]=a.Rn,c[25]=a.Dh,a.Pa==J.tc&&(c[26]=a.Lo,c[27]=a.Al,c[28]=a.Xd,c[29]=a.hd,c[30]=
a.Bl,c[31]=a.Bg);b[6]=c;b[7]=a.ll;b[8]=a.fc.length}return b}function Dq(a,b,c,d,e){if(d){var f,g="",h=e?e.length:d.length;for(f=0;f<h;f++){var k=d===a.lb?Eq(a,f):d[f];g+=fb("%s[%02X]: %-12s %*X%s (%*d)\n",b,f,e?e[f]:b.substr(1)+Wa(f,3),e?4:6,k,f===c?"*":" ",e?4:6,k)}a.fa.J("%s",g)}else a.fa.J("%s: %02X\n",b,c)}oq.prototype.In=function(a){return[this.fc,a-this.tb]};oq.prototype.$k=function(){return this.B};
oq.prototype.Aj=function(a){if(null!=a&&a!=this.ij){var b=a&rq.Ka,c=Fq[b];c||b&rq.kd&&(c=Fq[rq.kd]);b=a&Q.Ka;var d=Fq[b];d||b&Q.kd&&(d=Fq[Q.kd]);this.B||(this.B=Array(6));this.B[0]=c;this.B[1]=d;this.ij=a}};
function Eq(a,b){var c=a.lb[b];if(null!=c&&a.Pa>=J.sa){var d=0,e=0,f=0;switch(b){case P.sa.Ik:d=P.sa.we.nz;a.Pa==J.tc&&(e=P.sa.we.oz);break;case P.sa.Jg:a.Pa==J.sa&&(d=P.sa.we.yv);break;case P.sa.iz:d=P.sa.we.jz;a.Pa==J.tc&&(e=P.sa.we.kz);break;case P.sa.Ti:d=P.sa.we.bz;a.Pa==J.tc&&(e=P.sa.we.cz);break;case P.sa.Zy:d=P.sa.we.$y;a.Pa==J.tc&&(f=P.sa.kc.az);break;case P.sa.Gm:d=P.sa.we.Zw,a.Pa==J.tc&&(f=P.sa.kc.$w)}d&&(c|=a.lb[P.sa.we.ma]&d?256:0,c|=a.lb[P.sa.we.ma]&e?512:0,c|=a.lb[P.sa.kc.ma]&f?512:
0)}return c}
var Gq={gg:{ma:{R:948,Ka:31},ea:{R:949}},ab:{R:952,VF:1,qn:8,Mh:32},ja:{R:954,Og:1,sD:8}},Hq={gg:{ma:{R:980,Ka:31},ea:{R:981}},ab:{R:984,vz:1,sw:2,hp:4,qn:8,xw:16,Mh:32},COLOR:{R:985,ep:7,Hj:8,ZC:16,Lp:32},ja:{R:986,Vm:1,wI:2,vI:4,Or:8},JD:{R:987},II:{R:988}},P={Bw:0,vw:1,zw:2,Aw:3,Ik:4,mz:5,dz:6,lz:7,Gw:8,kc:9,Jg:10,zv:31,mE:0,im:32,lE:96,Th:11,Mi:12,Ni:13,jm:14,Rj:15,Mx:16,Nx:17,nd:18,sa:{uw:1,KF:2,JF:3,ZF:4,YF:5,Ik:6,we:{ma:7,nz:1,bz:2,jz:4,$y:8,Zw:16,yv:32,oz:32,cz:64,kz:128},Qx:8,kc:{ma:9,Ki:31,
az:32,$w:64,uv:128},Jg:10,Th:11,Mi:12,Ni:13,jm:14,Rj:15,iz:16,Hk:{ma:17,cG:15,Xy:16,Kv:32},Ti:18,OFFSET:19,Hr:{ma:20,Ki:31,aE:32,Pv:64},Zy:21,zK:22,Kq:{ma:23,sv:1,PJ:2,OJ:4,$D:8,gI:16,yC:32,tD:64,HF:128},Gm:24,nd:25}},Iq,Jq={};Iq=(Jq[P.Bw]=255,Jq[P.vw]=255,Jq[P.zw]=255,Jq[P.Aw]=15,Jq[P.Ik]=127,Jq[P.mz]=31,Jq[P.dz]=127,Jq[P.lz]=127,Jq[P.Gw]=3,Jq[P.kc]=31,Jq[P.Jg]=127,Jq[P.Th]=31,Jq[P.Mi]=63,Jq[P.Ni]=255,Jq[P.jm]=63,Jq[P.Rj]=255,Jq[P.Mx]=63,Jq[P.Nx]=255,Jq);
var Kq={R:986,Vm:1,Or:8,Xp:48,Od:198},sq={R:960,xm:31,ym:32,Zq:{ma:0,Ka:63,cp:1,vq:2,RED:4,FJ:8,Hj:16,GJ:16,IJ:32},Lx:16,ab:{ma:16,uq:1,sH:2,oK:4,Mh:8,Od:16,kI:32,uI:64,nv:128},Kx:{ma:17},DI:{ma:18,Ka:15,BH:48,Od:192},Pg:{ma:19,fn:15},Ig:{ma:20,Fv:8,Ev:4,Dv:2,Cv:1},nd:20},Lq={GI:954,FI:986,Ci:970,ap:3},tq={Pm:962,Ci:972,Cq:1,rF:2,gv:12,ME:16,jI:32,XF:64,CK:128},Mq={R:962,Od:15,yr:16,Ky:4,zF:96,Am:128},xq={R:963,Sv:1,Od:254},uq={ma:{R:964,Ka:7},ea:{R:965},ze:{ma:0,DC:1,hK:2},Lf:{ma:1,Mv:1,SC:2,WJ:4,
Lv:8,VJ:16,nr:32,Od:192},Iq:{ma:2,zI:1,AI:2,BI:4,CI:8,jx:15,Od:240},Ke:{ma:3,an:3,$m:12,vy:16,uy:32},Wc:{ma:4,ALPHA:1,Xv:2,en:4,lf:8},nd:5},yq={Ka:{R:966,re:255},zk:{R:967,Mq:0,qx:3},da:{Ci:967,Pm:968},ea:{R:969},nd:256},vq={Ox:972,Px:970,ma:{R:974,Ka:15},ea:{R:975},Dy:{ma:0},Wv:{ma:1},kv:{ma:2},Id:{ma:3,Qp:7,kf:8,qf:16,xf:24,sq:24,Ka:31},gr:{ma:4,Bx:3},ab:{ma:5,ng:{rb:0,Ld:1,Xc:2,pf:3,Ka:3},nK:4,Vg:{rb:0,Ld:8,Ka:8},kd:16,wa:32,Jj:64},Pf:{ma:6,uq:1,GD:2,ix:12,bx:0,ex:4,gx:8,hx:12},lv:{ma:7},Su:{ma:8},
nd:9},rq={rb:1024,Ld:1280,Se:2048,kd:4096,lf:16384,Ka:65280},Q={rb:0,Ld:1,Xc:2,pf:3,lf:4,Se:8,kd:16,Wm:32,kf:96,qf:160,xf:224,Ka:255},zq={2:rq.rb,3:rq.rb|rq.kd,16:rq.Ld,512:Q.rb,1024:Q.rb|Q.Wm,1536:Q.rb|Q.kf,2560:Q.rb|Q.qf,3584:Q.rb|Q.xf,768:Q.rb|Q.kd,4096:Q.Ld,8192:Q.Xc,24576:Q.Xc|Q.kf,40960:Q.Xc|Q.qf,57344:Q.Xc|Q.xf},wq=-2147483648,Fq,Nq={};
Fq=(Nq[rq.rb]=function(a){a+=this.offset;return(this.controller.A=this.aa[a])>>this.controller.Do&255},Nq[rq.rb|rq.lf]=function(a){return(this.controller.A=this.aa[(a&-4)+this.offset])>>((a&3)<<3)&255},Nq[rq.rb|rq.kd]=function(a){var b=(a+=this.offset)&-2;b=this.controller.A=this.aa[b];return(a&1?b>>8:b)&255},Nq[rq.Ld]=function(a){var b=this.controller;a=b.A=this.aa[a+this.offset];var c=b.Rn;b=b.Qn&c;for(var d=0,e=128;e;)(a&c)==b&&(d|=e),b>>>=1,c>>>=1,e>>=1;return d},Nq[rq.Se]=function(a){a+=this.offset;
return this.aa[a>>1]>>>((a&1)<<3)&255},Nq[Q.rb]=function(a,b){var c=this.controller;a+=this.offset;b=(b|b<<8|b<<16|b<<24)&c.Ef|c.cg;b=b&c.bc|c.A&~c.bc;b=b&c.Kb|this.aa[a]&~c.Kb;var d=this.aa[a]^b;d&&(this.aa[a]=b,this.flags|=Dd.qc,d&16711680&&(a=1<<(a>>13&7),c.gh&a||(c.gh|=a)))},Nq[Q.rb|Q.Wm]=function(a,b){var c=this.controller;a+=this.offset;b=b>>c.Ud|b<<8-c.Ud&255;b=(b|b<<8|b<<16|b<<24)&c.Ef|c.cg;b=b&c.bc|c.A&~c.bc;b=b&c.Kb|this.aa[a]&~c.Kb;this.aa[a]!=b&&(this.aa[a]=b,this.flags|=Dd.qc)},Nq[Q.rb|
Q.kf]=function(a,b){var c=this.controller;a+=this.offset;b=b>>c.Ud|b<<8-c.Ud&255;b=(b|b<<8|b<<16|b<<24)&c.Ef|c.cg;b&=c.A;b=b&c.bc|c.A&~c.bc;b=b&c.Kb|this.aa[a]&~c.Kb;this.aa[a]!=b&&(this.aa[a]=b,this.flags|=Dd.qc)},Nq[Q.rb|Q.qf]=function(a,b){var c=this.controller;a+=this.offset;b=b>>c.Ud|b<<8-c.Ud&255;b=(b|b<<8|b<<16|b<<24)&c.Ef|c.cg;b|=c.A;b=b&c.bc|c.A&~c.bc;b=b&c.Kb|this.aa[a]&~c.Kb;this.aa[a]!=b&&(this.aa[a]=b,this.flags|=Dd.qc)},Nq[Q.rb|Q.xf]=function(a,b){var c=this.controller;a+=this.offset;
b=b>>c.Ud|b<<8-c.Ud&255;b=(b|b<<8|b<<16|b<<24)&c.Ef|c.cg;b^=c.A;b=b&c.bc|c.A&~c.bc;b=b&c.Kb|this.aa[a]&~c.Kb;this.aa[a]!=b&&(this.aa[a]=b,this.flags|=Dd.qc)},Nq[Q.rb|Q.lf]=function(a,b){var c=this.controller,d=(a&-4)+this.offset;a=(a&3)<<3;b=b<<a&c.Kb|this.aa[d]&~(255<<a&c.Kb);this.aa[d]!=b&&(this.aa[d]=b,this.flags|=Dd.qc)},Nq[Q.rb|Q.kd]=function(a,b){var c=this.controller,d=(a+=this.offset)&-2;b=(b|b<<8|b<<16|b<<24)&c.bc|c.A&~c.bc;a=c.Kb&(d==a?16711935:-16711936);b=b&a|this.aa[d]&~a;this.aa[d]!=
b&&(this.aa[d]=b,this.flags|=Dd.qc)},Nq[Q.Ld]=function(a){var b=this.controller;a+=this.offset;b=this.aa[a]&~b.Kb|b.A&b.Kb;this.aa[a]!=b&&(this.aa[a]=b,this.flags|=Dd.qc)},Nq[Q.Ld|Q.kd]=function(a){var b=this.controller,c=(a+=this.offset)&-2;a=b.Kb&(c==a?16711935:-16711936);b=this.aa[c]&~a|b.A&a;this.aa[c]!=b&&(this.aa[c]=b,this.flags|=Dd.qc)},Nq[Q.Xc]=function(a,b){var c=this.controller;a+=this.offset;b=Oq[b&15];b=b&c.bc|c.A&~c.bc;b=b&c.Kb|this.aa[a]&~c.Kb;this.aa[a]!=b&&(this.aa[a]=b,this.flags|=
Dd.qc)},Nq[Q.Xc|Q.kf]=function(a,b){var c=this.controller;a+=this.offset;b=Oq[b&15];b&=c.A;b=b&c.bc|c.A&~c.bc;b=b&c.Kb|this.aa[a]&~c.Kb;this.aa[a]!=b&&(this.aa[a]=b,this.flags|=Dd.qc)},Nq[Q.Xc|Q.qf]=function(a,b){var c=this.controller;a+=this.offset;b=Oq[b&15];b|=c.A;b=b&c.bc|c.A&~c.bc;b=b&c.Kb|this.aa[a]&~c.Kb;this.aa[a]!=b&&(this.aa[a]=b,this.flags|=Dd.qc)},Nq[Q.Xc|Q.xf]=function(a,b){var c=this.controller;a+=this.offset;b=Oq[b&15];b^=c.A;b=b&c.bc|c.A&~c.bc;b=b&c.Kb|this.aa[a]&~c.Kb;this.aa[a]!=
b&&(this.aa[a]=b,this.flags|=Dd.qc)},Nq[Q.pf]=function(a,b){var c=this.controller;a+=this.offset;b=b>>c.Ud|b<<8-c.Ud&255;b=(b|b<<8|b<<16|b<<24)&c.bc;b=c.qj&b|c.A&~b;b=b&c.Kb|this.aa[a]&~c.Kb;this.aa[a]!=b&&(this.aa[a]=b,this.flags|=Dd.qc)},Nq[Q.Se]=function(a,b){a+=this.offset;var c=a>>1;a=(a&1)<<3;b=this.aa[c]&~(255<<a)|b<<a;this.aa[c]!=b&&(this.aa[c]=b,this.flags|=Dd.qc)},Nq);P.lg="HTOTAL HDISP HSPOS HSWIDTH VTOTAL VTOTADJ VDISP VSPOS ILMODE MAXSCAN CURSCAN CURSCANB STARTHI STARTLO CURSORHI CURSORLO PENHI PENLO".split(" ");
P.Rv="HTOTAL HDEND HBSTART HBEND HRSTART HREND VTOTAL OVERFLOW PRESCAN MAXSCAN CURSCAN CURSCANB STARTHI STARTLO CURSORHI CURSORLO VRSTART VREND VDEND OFFSET UNDERLINE VBSTART VBEND MODECTRL LINECOMP".split(" ");sq.lg="ATC00 ATC01 ATC02 ATC03 ATC04 ATC05 ATC06 ATC07 ATC08 ATC09 ATC0A ATC0B ATC0C ATC0D ATC0E ATC0F ATCMODE OVERSCAN PLANES HPAN COLORSEL".split(" ");uq.lg=["RESET","CLKMODE","MAPMASK","CHARMAP","MEMMODE"];vq.lg="SRESET ESRESET COLORCOMP DATAROT READMAP GRCMODE GRCMISC COLORDC BITMASK".split(" ");
function Pq(a,b,c,d,e,f){dc.call(this,"Video",a,536870912);var g=this,h;this.$d=[];this.Wf=a;this.model=a.model;var k=Qq[this.model]||Qq.mda;this.Pa=k[0];var l=a.irq;void 0==l&&(l=ri.fz);this.Kc=this.Pa>=J.sa&&0<=l&&15>=l?l:void 0;this.Eb=this.la=this.mc=this.I=0;this.We=+a.memory||0;this.Yf=a.switches;this.xd=a.randomize;null==this.xd&&(this.xd=1);this.pa=a.mode;if(null==this.pa||null==Rq[this.pa])this.pa=k[1];this.Me=a.charCols;this.Pe=a.charRows;if(void 0===this.Me||void 0===this.Pe)this.Me=Rq[this.pa][0],
this.Pe=Rq[this.pa][1];this.va=a.screenWidth;this.ya=a.screenHeight;this.X=b;this.P=c;this.B=(this.el=d)||b||null;this.be=a.screenColor||"black";this.te=this.gd=!1;b&&(b.style.backgroundColor=this.be,this.te=document.fullscreenEnabled||Kb("Edge/"));e&&(e.style.backgroundColor=this.be);b=a.smoothing;(c=Mb("smoothing"))&&(b="true"==c);this.uf=b;this.Xf=Nb(this.P,"imageSmoothingEnabled");this.Zf=a.touchScreen;this.vc=Sq.NONE;this.H=null;this.kh=a.autoLock;this.tb=this.dc=0;this.Ha=[];this.Zd=[];this.ca=
Array(this.Pa==J.tc?256:16);this.jb=!1;this.F=[];this.Cd=this.Tf=0;this.sb=!1;this.Uf=this.Qe=0;if(this.Z=e)if(h=Nb(e,"requestFullscreen")||Nb(e,"requestFullScreen")){this.Z.A=e[h];if(e=Nb(document,"on","fullscreenchange")){var p=Nb(document,"fullscreenElement")||Nb(document,"fullScreenElement");document.addEventListener(e,function(){Tq(g,null!=document[p])},!1)}(e=Nb(document,"on","fullscreenerror"))&&document.addEventListener(e,function(){Tq(g)},!1)}if(this.B&&(this.B.onfocus=function(){return g.ul(!0)},
this.B.onblur=function(){return g.ul(!1)},this.B.wg=(h=Nb(this.B,"requestPointerLock"))&&this.B[h],this.B.B=(h=Nb(this.B,"exitPointerLock"))&&this.B[h],this.B.wg&&(e=Nb(document,"on","pointerlockchange")))){var n=Nb(document,"pointerLockElement");document.addEventListener(e,function(){g.rj(!(!n||document[n]!==g.B))},!1)}(this.Ta=a.fontROM)&&"json"!=ab(this.Ta)&&(this.Ta=wb()+"/api/v1/dump?file="+this.Ta+"&format=bytes");this.Fd=[];if(f)for(a=0;a<f.length;a++)h=f[a],"CANVAS"==h.tagName&&(h=h.getContext("2d"),
this.Fd.push(h));this.wb={};this.Pc={}}oa(Pq,dc);m=Pq.prototype;
m.bd=function(a,b,c,d){var e=this;this.ra=b;this.G=c;this.fa=d;c=+Be(a,"randomize");0<=c&&1>=c&&(this.xd=c);if(this.Tb=Be(a,"fontColor",this.Wf)){this.Ma=[255,255,255,255];var f=c=0,g;for("#"==this.Tb[c]&&c++;g=this.Tb.substr(c,2);)this.Ma[f++]=Number.parseInt(g,16),c+=2}this.Vf=(1-(Be(a,"flicker",this.Wf)||0)).toString();c=(c=Qq[this.model])&&c[0];c!==J.Hd&&(Qd(b,this,Uq),Td(b,this,Vq));c!==J.Kd&&(Qd(b,this,Wq),Td(b,this,Xq));this.Pa>=J.sa&&(Qd(b,this,Yq),Td(b,this,Zq));this.Pa==J.tc&&(Qd(b,this,
$q),Td(b,this,ar));d&&Ym(d,536870912,function(k){var l=e.fa;if(e.ub)if(k[0])if(l=e.ub,l.fc){var p,n=!1,q=8,u=8,y=-1,N=l.video.D>>3;for(p=0;p<k.length;p++){var E=k[p];if(p){var G=E.charAt(0);var K=Ra(E.substr(1),16);switch(G){case "l":q=K;break;case "n":1<=K&&8>=K&&(u=K,n=!0);break;case "p":0<=K&&3>=K&&(y=K);break;case "w":K<N&&(N=K);break;default:l.fa.J("unrecognized argument: %s\n",E)}}else var B=Ra(E,16)}void 0===B?B=l.G||0:B>=l.tb&&(B-=l.tb);k="";for(p=0;p<q;p++){E=Xa(l.tb+B)+":";for(K=0;K<u&&
B<l.fc.length;K++)G=l.fc[B++],E+=" "+(0>y?Xa(G,8):Ta(G>>(y<<3),8));n&&(B+=N-u);k+=E+"\n"}k&&l.fa.print(k);l.G=B}else l.fa.J("no buffer\n");else l.J("    MODE: %#04X\n",e.La),l.J("  BUFFER: %#010X\n",e.ub.tb),B=e.ub,Dq(B,"CRTC",B.pc,B.lb,B.Nk),B.Pa>=J.sa&&(Dq(B," GRC",B.gf,B.ff,B.un),Dq(B," SEQ",B.hf,B.ud,B.vn),Dq(B," ATC",B.ef,B.td,B.tn),Dq(B," ATCINDX",B.ef),B.fa.J(" ATCDATA: %b\n",B.ph),Dq(B,"    FEAT",B.xj),Dq(B,"    MISC",B.Gh),Dq(B," STATUS0",B.Cl),B.Pa==J.tc&&Dq(B," DAC",B.Xd,B.Bg)),Dq(B," STATUS1",
B.ha),B.Pa!=J.Kd&&B.Pa!=J.Hd||Dq(B," MODEREG",B.Yd),B.Pa==J.Hd&&Dq(B,"   COLOR",B.Fh),B.Pa>=J.sa&&(B.fa.J(" LATCHES: %0X\n",B.A),B.fa.J("  ACCESS: %04X\n",B.ij),B.fa.J("  PLANE2: %02X\n",B.gh),B.fa.J("Use 'd video [addr]' to dump video memory\n"));else l.J("no active video card\n")});(this.C=Yc(a,"Keyboard"))&&this.B&&this.C.Sb(this.el?"textarea":"canvas","screen",this.B);this.ia=Yc(a,"Panel",!1);for(b=0;b<this.$d.length;b++)d=this.$d[b],this.C&&this.C.Sb.apply(this.C,ca(d))||this.ia&&this.ia.Sb.apply(this.ia,
ca(d));this.Lc=9;(this.V=Yc(a,"ChipSet"))&&this.Yf&&this.Pa==J.sa&&(this.Lc=zm(this.Yf,this.Lc));"mouse"==this.Zf?(this.H=Yc(a,"Mouse",!1))&&br(this,Sq.Oq):"keygrid"==this.Zf&&this.C&&br(this,Sq.Fq);this.vc||br(this,Sq.re);if(this.Ta){var h="Loading "+this.Ta+"...";sb(this.Ta,null,!0,function(k,l,p){cr(e,k,l,p)},function(){e.J(4398046511104,"%s\n",h)})}};
m.Sb=function(a,b,c,d){var e=this;if(!this.oa[b])switch(this.oa[b]=c,b){case "fullScreen":return this.Z&&this.Z.A?c.onclick=function(){if(e.Z){if(e.Z.A){var f="100%";if(screen&&screen.width&&screen.height){var g=screen.width/screen.height,h=e.va/e.ya;g>h&&(f=Math.round(h/g*100)+"%")}e.te?(e.X.style.width=f,e.X.style.height="auto",e.X.style.display="block",e.X.style.margin="auto"):(e.Z.style.width=f,e.Z.style.height="auto");e.Z.style.backgroundColor=e.be;e.Z.A()}dr(e)}}:c.parentNode.removeChild(c),
!0;case "lockPointer":return this.oh=c.textContent,this.B&&this.B.wg?c.onclick=function(){e.wg(!0)}:c.parentNode.removeChild(c),!0;case "refresh":return c.onclick=function(){er(e,!0)},!0;default:this.$d.push([a,b,c,d]),delete this.oa[b]}return!1};function dr(a,b){a.B&&(a.B.focus(),b&&(document.getElementById(a.pd)||a.B).scrollIntoView())}function Tq(a,b){!b&&a.Z&&(a.te?a.X.style.width=a.X.style.height="":a.Z.style.width=a.Z.style.height="");a.C&&(a.C.Hn=1==b)}
m.wg=function(a){var b=!1;this.B&&this.H&&(a?this.B.wg&&(this.B.wg(),this.H.rj(!0),b=!0):this.B.B&&(this.B.B(),this.H.rj(!1),b=!0),dr(this));return b};m.rj=function(a){this.H&&(this.H.rj(a),this.C&&(this.C.Hn=a));var b=this.oa.lockPointer;b&&(b.textContent=a?"Press Esc to Unlock Pointer":this.oh)};
function br(a,b){var c=a.B;if(c&&!a.vc){a.vc=b;var d=!1;if(b!=Sq.Oq)try{var e=Object.defineProperty({},"passive",{get:function(){d=!0}});window.addEventListener("testPassive",null,e);window.removeEventListener("testPassive",null,e)}catch(f){}c.addEventListener("touchstart",function(f){bp(a.V,f);a.vc!=Sq.re&&fr(a,f,!0)},d?{passive:!0}:!1);b!=Sq.re&&(c.addEventListener("touchmove",function(f){fr(a,f)},d?{passive:!0}:!0),c.addEventListener("touchend",function(f){fr(a,f,!1)},!1),a.wc=a.Bc=a.If=-1,a.ue=
!1,a.vd=null,a.se=!1,a.nh=function(){a.se=!0;a.H.Ze(gr.Ne,!0)})}}m.ul=function(a){this.C&&this.C.ul(a)};
function fr(a,b,c){var d=0,e=0;var f=a.X;do isNaN(f.offsetLeft)||(d+=f.offsetLeft,e+=f.offsetTop);while(f=f.offsetParent);var g=a.va/a.X.offsetWidth,h=a.ya/a.X.offsetHeight;if(b.targetTouches&&b.targetTouches.length){f=b.targetTouches[0].pageX;var k=b.targetTouches[0].pageY}else f=b.pageX,k=b.pageY;f=(f-d)*g;k=(k-e)*h;if(a.vc==Sq.Fq)c&&Wp(a.C,hr[k/(a.ya/3)|0][f/(a.va/3)|0],!0);else if(a.H){e=a.ue;d=b.timeStamp-a.If;!0===c?(a.ue=500<d,a.If=b.timeStamp,a.vd=setTimeout(a.nh,500)):null!=a.vd&&(clearTimeout(a.vd),
a.vd=null);void 0===c&&(a.ue=!1);e||b.preventDefault();if(!1===c){a.se?(a.H.Ze(gr.Ne,!1),a.se=!1,b=!0):b=!1;if(b)return;if(200>d){a.H.Ze(gr.Ne,!0);a.H.Ze(gr.Ne,!1);return}}if(c||0>a.wc||0>a.Bc)a.wc=f,a.Bc=k;c=Math.round(f-a.wc);b=Math.round(k-a.Bc);a.wc=f;a.Bc=k;a.H.Ah(c,b,a.wc,a.Bc)}}
m.Gc=function(a,b){if(!b){if(!a||!this.restore)this.reset();else if(!this.restore(a))return!1;if(void 0==this.xh){this.Zb=this.wd=1E3/ir|0;this.Rf=this.dd=0;var c=this;this.xh=ed(this.G,this.id,function(){var d=c.ub;d.Hs++;if(!(d.Pa===J.tc&&d.ud[uq.Lf.ma]&uq.Lf.nr&&d.Hs&1)){d.ll=Ie(c.G);c.Kc&&(d.lb[P.sa.Hk.ma]&P.sa.Hk.Kv||c.V&&si(c.V,c.Kc));d=Date.now();var e=d-c.Rf-c.Zb;if(0<=e){if(er(c)){var f=Date.now()-d;1==c.Oc%120?(c.Oc=1,c.dd=f):(c.dd+=f,f=c.dd/c.Oc);f>=c.Zb/4?c.Zb=2*c.wd:f<c.wd/4&&(c.Zb=c.wd)}c.Rf=
d-(e>=c.Zb?0:e)}d=c.ub;e=d.lb[P.Ni];e|=(d.lb[P.Mi]&d.Mk)<<8;d.Dh!==e&&(d.Dh=e,jr(c,!1));e=d==c.A?d.lb[P.sa.Qx]&P.sa.kc.Ki:0;d.mu!==e&&(d.mu=e,c.Qe=0,c.Xb&&(c.sb=!0,c.Qe=e&P.sa.kc.Ki))}},-this.ub.Js)}}return!0};m.Fc=function(a){return a?this.save():!0};
m.reset=function(){var a=Jn.NONE;this.V&&(a=+ag(this.V,bg.Md));Qq[this.model]||(this.Pa=a==Jn.Gb?J.Kd:J.Hd);var b;this.pa=kr.Kf;switch(this.Pa){case J.tc:a=Jn.Gk;break;case J.sa:(b=lr[this.Lc])&&(a=b[0]);if(!a){a=Jn.Kg;break}if(a!=Jn.Gb)break;case J.Kd:a=Jn.Gb;this.pa=kr.Of;break;default:a=Jn.COLOR}this.ta!==a&&(this.ta=a);this.ub=null;this.ka=this.ae=new oq(this,J.Kd);this.L=this.Sc=new oq(this,J.Hd);this.Pa<J.sa?this.A=new oq:(this.A=new oq(this,this.Pa,null,this.We),mr(this));this.La=null;nr(this,
this.pa);if(this.ub.tb&&this.xd){a=this.ub.tb+this.Ib;for(b=this.ub.tb;b<a;b+=2){var c=65536*Math.random()|0;if(this.ta==Jn.Kg||this.ta==Jn.Gk){var d=b>>1&255;c=c>>8&~or.Zo;c>>4==(c&15)&&(c^=15)}else d=c&255,c=(c&256?or.tm|or.Qu:or.oq|or.Ru)|or.gw&c>>8;Pd(this.ra,b,d|c<<8)}er(this,!0)}};function mr(a){a.A.Gh&tq.Cq?(a.ka=a.ae,a.L=a.A):(a.ka=a.A,a.L=a.Sc)}m.save=function(){var a=new Wg(this);a.set(0,Bq(this.ae));a.set(1,Bq(this.Sc));a.set(2,[this.ta,this.pa,this.La]);a.set(3,Bq(this.A));return a.data()};
m.restore=function(a){var b=a[2];this.ta=b[0];this.pa=b[1];this.La=b[2];this.ub=null;this.ka=this.ae=new oq(this,J.Kd,a[0]);this.L=this.Sc=new oq(this,J.Hd,a[1]);this.A=new oq(this,this.Pa,a[3],this.We);this.A.qd&&mr(this);if(!pr(this))return!1;qr(this);return!0};
function cr(a,b,c,d){if(d)a.J(0>d?137438953472:274877906944,"Unable to load font ROM (error %d: %s)\n",d,b);else{fc(a.pd,b,c);try{var e=eval("("+c+")"),f=e.bytes||8==e.width&&e.values||e;if(!f||!f.length){hc("Unsupported font ROM: "+b);return}if(1==f.length){hc(f[0]);return}if(8192==f.length)Bp(a,f,[6144,0]);else if(2048==f.length)Bp(a,f,[0]);else{a.J(274877906944,"Unrecognized font data length (%d)\n",f.length);return}}catch(g){a.J(274877906944,"Font ROM data error: %s\n",g.message);return}Cc(a)}}
function Bp(a,b,c,d){a.fh=b;a.Va=c;a.ed=d}
function rr(a,b){if(1==b)return a.ca[0]=sr[or.oq],a.ca[1]=tr(a,or.tm),a.ca;if(2==b){var c=a.ub.Fh;if(a.ub===a.A){var d=a.A.td[0];c=d&Hq.COLOR.ep;d&sq.Zq.Hj&&(c|=Hq.COLOR.Hj);3==(a.A.td[1]&15)&&(c|=Hq.COLOR.Lp)}a.ca[0]=tr(a,c&(Hq.COLOR.ep|Hq.COLOR.Hj));c=c&Hq.COLOR.Lp?ur:vr;for(d=0;d<c.length;d++)a.ca[d+1]=tr(a,c[d]);return a.ca}if(a.L===a.Sc){for(c=0;c<sr.length;c++)a.ca[c]=tr(a,c);return a.ca}a.jb&&b&&!a.ca[16]&&(a.jb=!1);if(!a.jb){c=a.A;d=c.Bg;var e;if(8==b)for(e=0;256>e;e++){var f=d[e]||0;var g=
f<<2&252;var h=f>>4&252;f=f>>10&252;a.ca[e]=[g,h,f,255]}else{var k=d&&null!=d[255];b=null!=c.td[15]?c.td:wr;for(e=0;16>e;e++)f=b[e]&sq.Zq.Ka,k?(f|=(c.td[sq.Ig.ma]&(sq.Ig.Fv|sq.Ig.Ev))<<4,c.td[sq.ab.ma]&sq.ab.nv&&(f&=-49,f|=(c.td[sq.Ig.ma]&(sq.Ig.Dv|sq.Ig.Cv))<<4),f=d[f],g=f<<2&252,h=f>>4&252,f=f>>10&252):(g=(f&4?170:0)|(f&32?85:0),h=(f&2?170:0)|(f&16?85:0),f=(f&1?170:0)|(f&8?85:0)),a.ca[e]=[g,h,f,255]}a.jb=!0}return a.ca}
function tr(a,b){var c=sr;if(!a.Tb)return c[b];var d=c.length>>1;b=b+1-d;if(!b)return a.Ma;c=[0,0,0,255];var e,f=255,g=0;for(e=0;3>e;e++)f>a.Ma[e]&&(f=a.Ma[e]),g<a.Ma[e]&&(g=a.Ma[e]);d=0>b?g/(d-1):(256-g)/d;for(e=0;3>e;e++)c[e]=a.Ma[e]+d*b|0,0>c[e]&&(c[e]=0),255<c[e]&&(c[e]=255);return c}function xr(a){var b=a.A.ud[uq.Ke.ma];a.Pa<J.tc&&(b&=uq.Ke.$m|uq.Ke.an);a.A.ud[uq.Wc.ma]&uq.Wc.Xv||(b&=~(uq.Ke.$m|uq.Ke.an));return b&uq.Ke.an|(b&uq.Ke.vy)>>2|((b&uq.Ke.$m)>>2|(b&uq.Ke.uy)>>3)<<8}
function yr(a,b){b=void 0===b?!1:b;var c=!1;a.la=a.mc=a.I;if(ua&&a.I){var d=a.fh;if(a.I==J.Kd||a.ta==Jn.Gb){if(a.Tb){var e=zr.slice();var f=e[1]=e[2]=a.Ma;var g=f.slice(),h,k=0;for(h=0;3>h;h++)k<f[h]&&(k=f[h]);for(h=0;3>h;h++)g[h]+=255-k;e[3]=e[4]=g}else e=zr;f=Ar}else e=rr(a);switch(a.I){case J.Kd:null!=a.Va[1]&&Br(a,a.I,a.ed||9,14,a.Va[1],a.ed?0:2048,d,!1,e,f)&&(c=!0);break;case J.Hd:null!=a.Va[0]&&Br(a,a.I,a.ed||8,8,a.Va[0],0,d,!1,e,f)&&(c=!0);break;case J.tc:case J.sa:g=a.ed||8;h=14;k=a.Va[1];
a.Va[2]&&(h=16,k=a.Va[2]);var l=0;var p=a.A.ud[uq.Lf.ma]&uq.Lf.Mv?8:9;var n=a.A.lb[P.kc]&Iq[P.kc];if(n++){g=p;h=n;k=0;d=null;if(l=a.A.gh)a.A.gh=0;a.Eb=xr(a);a.la=a.I+(a.Eb&255);a.mc=a.I+(a.Eb>>8)}if(null!=k)for(p=0,n=-1;16>p;p+=8){var q=a.Eb>>p&255;if(q!=n){n=q;var u=(q<<1)-(4>q?0:7);d||(k=8192*u);if(Br(a,a.I+q,g,h,k,0,d,!!(l&1<<u),e,f)&&(c=!0,!d&&q))for(u=0;u<q;u++){var y=void 0,N=a,E=q,G=u,K=h;y=void 0===y?32:y;var B=(E*(E-1)>>1)+G,qa=N.A.fc,Ba=N.Zd[B]||Array(256);E=8192*((E<<1)-(4>E?0:7));G=8192*
((G<<1)-(4>G?0:7));for(var Aa=0;256>Aa;Aa++){Ba[Aa]=0;for(var Ha=E+Aa*y,Ua=G+Aa*y,Pb=0;Pb<K;Pb++)if((qa[Ha++]>>16&255)!==(qa[Ua++]>>16&255)){Ba[Aa]=-1;break}}N.Zd[B]=Ba}}}}b||(a.U=-1,a.Xa=-1,a.O=0)}return c}
function Br(a,b,c,d,e,f,g,h,k,l){var p=!1,n=a.Ha[b],q=16>k.length?k.length:16;n&&q==n.sn.length||(n={Ez:c,Dn:d,od:0,Nc:0,pg:Array(q),sn:k.slice(0,q),Kk:l,Xi:Array(q)});var u=c<<1,y=d<<1;l=!1;if(n.od!=u||n.Nc!=y)n.Ez=c,n.Dn=d,n.od=u,n.Nc=y,l=!0;for(u=0;u<q;u++){var N=k[u];y=l||h;y||(y=n.pg[u]?n.sn[u]:[],y=N[0]!==y[0]||N[1]!==y[1]||N[2]!==y[2]);if(y){a:{var E;var G=a;y=n;var K=u,B=e,qa=f,Ba=c,Aa=d,Ha=g,Ua=32,Pb=G.ub&&G.ub.fc;if(Ha)Ua=8>Aa||!qa?Aa:8;else{for(E=0;256>E;E++){var de=B+E*Ua;for(G=0;G<Aa&&
!(Pb[de+G]>>16&255);G++);if(G<Aa)break}if(256==E){y=!1;break a}}de=[0,0,0,0];var Wb=y.Xi[K];Wb&&Wb.width==y.od<<4&&Wb.height==y.Nc<<4||(Wb=document.createElement("canvas"),Wb.width=y.od<<4,Wb.height=y.Nc<<4);var ob=Wb.getContext("2d"),Re=ob.createImageData(y.od,y.Nc);for(E=0;256>E;E++){var Gb=B+E*Ua;for(G=0;G<Aa;G++){var Se=y.Kk&&K&1&&G==Aa-2;var nd=G<Ua?Gb+G:qa+E*Ua+G-Ua;for(var em=Ha?Ha[nd]:Pb[nd]>>16&255,Uc=0;1>=Uc;Uc++)for(nd=0;nd<Ba;nd++){var ee=nd<<1,Ch=(G<<1)+Uc,xb=Se||em&128>>(8<=nd&&192<=
E&&223>=E?7:nd)?N:de;Cr(Re,ee,Ch,xb);Cr(Re,ee+1,Ch,xb)}}ob.putImageData(Re,(E&15)*y.od,(E>>4)*y.Nc)}y.pg[K]=fb("#%02X%02X%02X",N[0],N[1],N[2]);y.sn[K]=N;y.Xi[K]=Wb;y=!0}if(!y){n=null;break}p=!0}}if((p||n!=a.Ha[b])&&a.Fd.length&&(c=a.Fd[b-a.I]))if(d=c.canvas,n)for(e=d.width/q|0,f=d.height,g=0;g<q;g++)h=n.Xi[g],c.fillStyle=n.pg[(g+9)%q],c.fillRect(g*e,0,e,f),k=d.height/h.height*h.width|0,k>e&&(k=e),c.drawImage(h,0,0,k,h.height,g*e,0,e,f);else c.fillStyle="black",c.fillRect(0,0,d.width,d.height);a.Ha[b]=
n;return p}function Dr(a,b,c){var d=[];b!=c&&(b<c&&(d=b,b=c,c=d),d=a.Zd[(b*(b-1)>>1)+c]);return d}function Er(a){0<a.O||0<=a.U?0>a.Xa&&(a.Xa=0):a.Xa=-1}
function qr(a){if(a.I){for(var b=a.ub,c=P.Jg;c<=P.Rj;c++)if(null==b.lb[c])return;var d=b.lb[P.Jg];c=d&P.zv;var e=b.lb[P.Th]&Iq[P.Th],f=b.lb[P.kc]&Iq[P.kc];c>f&&(d|=P.im);var g=0;a.Pa!=J.sa?(e<c?(g=e+1,e=f,a.Pa==J.tc&&(d|=P.im,g=0)):e>f&&(c=0,e=f),e++):c==e%16?e=c+1:e<c?(g=e,e=f+1):e>f&&(c=0,e=f+1);e-=c;if(d&P.im||0>=e)Fr(a);else{d=b.lb[P.Rj]|(b.lb[P.jm]&b.Mk)<<8;d-=b.lb[P.Ni]|(b.lb[P.Mi]&b.Mk)<<8;b=Math.trunc(d/a.N)*a.M+d%a.N;a.U!=b&&(a.U=b,a.O=-1);if(a.qg!==c||a.fd!==e||a.de!==g)a.qg=c,a.fd=e,a.de=
g,a.Cd&&0<=a.U&&a.U<a.F.length&&(a.F[a.U]=-1,a.Cd=1);a.xa=f+1;a.fd>a.xa&&(a.fd=a.xa);Er(a)}}}function Fr(a){if(0<=a.U){if(void 0!==a.F&&a.U<a.F.length){var b=or.nm<<8,c=a.F[a.U];if(c&b){c&=~b;b=a.U%a.M;var d=a.U/a.M|0;a.la&&a.Ha[a.la]&&(a.bb&&Gr(a,b,d,c,a.bb),Gr(a,b,d,c));a.F[a.U]=c}}a.U=-1}}
function Hr(a){var b=a.ub,c=rq.Se|Q.Se;if(b.Pa>=J.sa){a.tf=!1;var d=b.ff[vq.ab.ma];if(null!=d){c=rq.rb;var e=Q.rb,f=b.ff[vq.Id.ma]&vq.Id.Ka;switch(d&vq.ab.ng.Ka){case vq.ab.ng.rb:if(f){e=Q.rb|Q.Wm;switch(f&vq.Id.sq){case vq.Id.kf:e=Q.rb|Q.kf;break;case vq.Id.qf:e=Q.rb|Q.qf;break;case vq.Id.xf:e=Q.rb|Q.xf}b.Ud=f&vq.Id.Qp}break;case vq.ab.ng.Ld:e=Q.Ld;break;case vq.ab.ng.Xc:switch(f&vq.Id.sq){default:e=Q.Xc;break;case vq.Id.kf:e=Q.Xc|Q.kf;break;case vq.Id.qf:e=Q.Xc|Q.qf;break;case vq.Id.xf:e=Q.Xc|Q.xf}break;
case vq.ab.ng.pf:a.Pa==J.tc&&(e=Q.pf,b.Ud=f&vq.Id.Qp)}d&vq.ab.Vg.Ld&&(c=rq.Ld);b=b.ud[uq.Wc.ma];null!=b&&(b&uq.Wc.en||(c|=rq.kd,e|=Q.kd),d&vq.ab.Jj&&(b&uq.Wc.lf&&(c|=rq.lf,e|=Q.lf),a.tf=!0));c|=e}}return c}function Ir(a,b){var c=a.ub;c&&b!=c.ij&&(c.Aj(b),a.ra.Aj(c.tb,c.dc,c.$k(),!0))}
function pr(a,b){var c=!1,d=a.La,e=a.ub;if(e)if(e.Pa==J.Kd)d=kr.Of;else if(e.Pa>=J.sa){d=null;var f=e.We>>2,g=32768<f?32768:f,h=e.ff[vq.Pf.ma];if(null!=h){var k=e.lb[P.sa.kc.ma];switch(h&vq.Pf.ix){case vq.Pf.bx:e.tb=655360;e.dc=f;d=1>=(k&P.sa.kc.Ki)?kr.Ir:a.ta==Jn.Gb?kr.Hl:kr.Kf;break;case vq.Pf.ex:e.tb=655360;e.dc=f;d=a.ta==Jn.Gb?kr.fq:kr.eq;break;case vq.Pf.gx:e.tb=720896;e.dc=g;d=kr.Of;break;case vq.Pf.hx:e.tb=753664,e.dc=g,d=a.ta==Jn.Gb?kr.Hl:kr.Kf}f=(e.ff[vq.ab.ma]&(vq.ab.Jj|vq.ab.kd))==(vq.ab.Jj|
vq.ab.kd);if(e.tb!=a.tb||e.dc!=a.dc)c=!0;g=Eq(e,P.sa.Ik);var l=e.lb[P.sa.Kq.ma],p=e.ud[uq.Lf.ma]&uq.Lf.Lv;d!=kr.Ir&&(h&vq.Pf.uq?655360==e.tb||f||l&P.sa.Kq.sv?e.ff[vq.ab.ma]&vq.ab.Jj?d=k&P.sa.kc.Ki?143>=e.lb[P.sa.Ti]?e.ud[uq.Wc.ma]&uq.Wc.lf?kr.pn:kr.Jr:kr.Kr:kr.Lr:k&P.sa.kc.uv||350>g?d=p?kr.bq:kr.cq:480<=g&&(d=a.ta==Jn.Gb?kr.Nr:kr.Mr):d=p?7-d:kr.Gl:d-=p?2:0)}}else e.Yd&Hq.ab.qn?(e.Yd&Hq.ab.sw?(d=e.Yd&Hq.ab.xw?kr.Gl:kr.jp,e.Yd&Hq.ab.hp||--d):(d=e.Yd&Hq.ab.vz?kr.Kf:kr.kp,e.Yd&Hq.ab.hp&&--d),a.gd&&(a.X.style.opacity=
"1",a.gd=!1)):!a.gd&&1>+a.Vf&&(a.gd=!0,a.X.style.opacity=a.Vf,e=a.G,e.flags.Ej=!0,Ee(e));else a.La=null,null==d&&(d=a.pa);if(!nr(a,d,b,c))return!1;Ir(a,Hr(a));return!0}
function nr(a,b,c,d){if((c=null!=b&&(b!=a.La||c))||d){a.Oc=0;a.La=b;a.jb=!1;b=a.ub||(b==kr.Of?a.ka:a.L);if(b!=a.ub||b.tb!=a.tb||b.dc!=a.dc){Fr(a);if(a.tb){if(!Hd(a.ra,a.tb,a.dc))return!1;a.ub&&(a.ub.qd=!1)}a.ub=b;b.qd=!0;a.tb=b.tb;a.dc=b.dc;if(!yd(a.ra,b.tb,b.dc,od.gz,b))return!1;if(b.Pa<J.sa){d=a.tb;for(var e=Fd(a.ra,d,a.dc);(d+=a.dc)<b.tb+32768;)Ed(a.ra,d,a.dc,e)}}a.I=a.la=a.mc=0;a.D=a.Me;a.K=a.Pe;a.Oe=Rq[kr.Of][2];a.Ba=Rq[kr.Of][3];a.gb=a.Oa=1;a.Xb=!1;b=0;e=d=1;var f=Rq[a.La];if(f&&(a.D=f[0],a.K=
f[1],a.Oe=f[2],a.Ba=f[3],b=f[4],a.I=f[5],a.I)){"vdu"==a.model?a.I=J.Kd:a.Pa>a.I&&(a.I=a.Pa);yr(a);if(f=a.Ha[a.la])if(d=f.od,e=f.Nc,a.Pa>=J.sa){var g=Eq(a.A,P.sa.Ti);g++&&(f=g/f.Dn|0)&&(a.K=f);a.Xb=!0}a.gb=a.va/a.D|0;a.Oa=a.ya/a.K|0}a.M=a.N=a.D;a.Fb=a.K;a.Xb&&(a.M++,a.Fb++);a.Le=a.M*a.Fb|0;a.Tf=a.Le/a.Oe|0;a.Ib=a.Le/a.Ba|0;a.qe=0;void 0!==b&&(a.Ib=a.Ib+b|0,a.qe=a.Ib+b>>1);a.ba=a.M*d;a.Na=a.Fb*e;a.P&&(a.Xf&&(a.P[a.Xf]=null==a.uf?!!a.I:a.uf),a.wb[a.ba]&&a.wb[a.ba][a.Na]?(a.Qa=a.wb[a.ba][a.Na],a.Ja=a.Pc[a.ba][a.Na]):
(a.Qa=a.P.createImageData(a.ba,a.Na),a.Ja=document.createElement("canvas"),a.Ja.width=a.ba,a.Ja.height=a.Na,a.wb[a.ba]||(a.wb[a.ba]={}),a.wb[a.ba][a.Na]=a.Qa,a.Pc[a.ba]||(a.Pc[a.ba]={}),a.Pc[a.ba][a.Na]=a.Ja),a.bb=a.Ja.getContext("2d"),a.Re=a.Te=0,a.ce=a.va,a.ee=a.ya,b=a.va-a.D*a.gb,d=a.ya-a.K*a.Oa,0<b&&(a.Re=b>>1,a.ce-=b),0<d&&(a.Te=d>>1,a.ee-=d),b||d)&&(a.P.fillStyle=a.X.style.backgroundColor,a.P.fillRect(0,0,a.va,a.ya));jr(a);c&&er(a)}return!0}
function Cr(a,b,c,d){b=(b+c*a.width)*d.length;a.data[b]=d[0];a.data[b+1]=d[1];a.data[b+2]=d[2];a.data[b+3]=d[3]}function Jr(a){a.O=-1;a.Cd=0;var b=a.Tf;if(void 0===a.F||a.F.length!=b)a.F=Array(b)}function jr(a,b,c,d){if(a.Cd)if(!1!==b)a.jb=!1;else{if(void 0!==c){if(c==d)return;b=a.F;var e=0,f=Dr(a,c&255,d&255);c=Dr(a,c>>8,d>>8);for(d=0;d<b.length;d++){var g=b[d];0<=g&&0>(b[d]|=(g&2048?c:f)[g&255])&&(a.Cd=1,e++)}return}a.Cd=1;return}Jr(a)}
function Gr(a,b,c,d,e){var f=d&255;d>>=8;var g=a.Ha[a.la];d&8&&a.la!=a.mc&&(g=a.Ha[a.mc],d&=-9);var h=d&15,k=d>>4&15;if(g.Kk){!(d&7)&&d&112&&(h|=7);var l=d&247;112==l||240==l?h=0:k=0;h=g.Kk[h];k=g.Kk[k]}e?(b*=g.od,c*=g.Nc,e.fillStyle=g.pg[k],e.fillRect(b,c,g.od,g.Nc)):(b=b*a.gb+a.Re,c=c*a.Oa+a.Te,a.P.fillStyle=g.pg[k],a.P.fillRect(b,c,a.gb,a.Oa));d&or.Yp&&(k=(f&15)*g.od,f=(f>>4)*g.Nc,e?e.drawImage(g.Xi[h],k,f,g.od,g.Nc,b,c,g.od,g.Nc):a.P.drawImage(g.Xi[h],k,f,g.od,g.Nc,b,c,a.gb,a.Oa));d&or.nm&&(a.de&&
Kr(a,0,a.de,b,c,h,g,e),Kr(a,a.qg,a.fd,b,c,h,g,e))}function Kr(a,b,c,d,e,f,g,h){h?(a.xa&&a.xa!==g.Nc&&(b=Math.round(b*g.Nc/a.xa),c=Math.round(c*g.Nc/a.xa)),h.fillStyle=g.pg[f],h.fillRect(d,e+b,g.od,c)):(a.xa&&a.xa!==a.Oa&&(b=Math.round(b*a.Oa/a.xa),c=Math.round(c*a.Oa/a.xa)),a.P.fillStyle=g.pg[f],a.P.fillRect(d,e+b,a.gb,c))}
function er(a,b){b=void 0===b?!1:b;if(!a.X||!a.flags.Hc)return!1;var c=a.ub;if(!c)return!1;var d=!1;c!==a.A?c.Yd&Hq.ab.qn&&(d=!0):c.ef&sq.ym&&(d=!0);if(!d&&!b)return!1;if(b)Jr(a);else if(void 0===a.F)return!1;d=!1;!(b||++a.Oc%10)&&0<=a.Xa&&(a.Xa++,d=!0);var e=a.Le,f=a.tb,g=f,h=g+a.dc;a.La>=kr.pn&&(f=g=655360,h=g+65536);var k=a.Ib;a.N=a.D;if(a.Pa<J.sa)g+=c.Dh<<(a.I?1:0);else{var l=0,p=0,n=a.A.ud[uq.Wc.ma]&(uq.Wc.ALPHA|uq.Wc.en);n==uq.Wc.ALPHA?(l=p=1,a.Ba=.5):n==(uq.Wc.ALPHA|uq.Wc.en)&&(p=1,a.Ba=1);
g+=c.Dh<<l;c.lb[P.sa.OFFSET]&&c.lb[P.sa.OFFSET]<<1!=c.lb[P.sa.uw]+1&&(a.N=c.lb[P.sa.OFFSET]<<(p||(c.lb[P.sa.Hr.ma]&P.sa.Hr.Pv?3:4)),k=(a.N*(a.Fb-1)+a.M)/a.Ba|0,a.Fb>a.K&&g+k>h&&(k=(a.N*(a.K-1)+a.M)/a.Ba|0))}p=l=0;g+k>h?(p=k,g>=h?(l=f+(g-h),k=0):(l=f,k=h-g,p-=k)):a.Pa>=J.sa&&(c=Eq(c,P.sa.Ti)-Eq(c,P.sa.Gm),0<c&&((h=a.Ha[a.la])&&(c=c/h.Dn|0),0<c&&(p=(a.N*(c-1)+a.M)/a.Ba|0,k-=a.N*c/a.Ba|0,l=f)));c=a.O;h=Lr(a,f,g,k,0,e,b,d);p&&(n=a.O,0>c&&(a.O=-1),h+=Lr(a,f,l,p,h,e,b,d),a.O+=n,Cd(a.ra,l,p,!0));Cd(a.ra,
g,k,!0);h&&(a.Cd=2);return!0}
function Lr(a,b,c,d,e,f,g,h){var k=d*a.Ba;k=Math.trunc(k/a.N)*a.M+k%a.N;k>f&&(k=f);var l=c+d;if(!g&&2==a.Cd&&Cd(a.ra,c,d))if(!h&&0<=a.O){if(!a.sb)return k;e=f}else if(!a.O)if(d=a.U-e,0>d){if(!a.sb)return k;e=f}else c+=(d/a.M|0)*a.N+d%a.M<<1,e+=d,f=e+1;if(a.la){if(d=f,f=a.Ha[a.la]){var p=a.ub,n=h=g=0,q=or.Yp<<8,u=1048575,y=p.fc,N=1/a.Ba|0,E=p.ij&Q.Se?1:0,G=p.Yd&Gq.ab.Mh;a.Pa>=J.sa&&(G=p.td[sq.ab.ma]&sq.ab.Mh);G&&(n=or.Zo<<8,u&=~n,a.Xa&2||(u&=~q));a.O=0;p=e%a.M;G=e/a.M|0;for(var K=a.N-a.M<<N-1;c<l&&
e<d;){var B=y[c-b>>>E]&65535;B|=q;B&n&&(a.O++,B&=u);e==a.U&&(B|=a.Xa&1?or.nm<<8:0);a.Cd&&B===a.F[e]||(Gr(a,p,G,B,a.bb),a.F[e]=B,h++);g++;e++;c+=N;if(++p>=a.M){p=0;if(++G>=a.Fb)break;c+=K}}a.bb&&(h||a.sb)&&(b=l=0,c=a.ba,e=a.Na,a.Xb&&(d=a.Uf,g=a.Qe,l+=d<<1,b+=g<<1,c-=f.od,e-=f.Nc),a.P.drawImage(a.Ja,l,b,c,e,a.Re,a.Te,a.ce,a.ee));Er(a)}}else{if(a.qe){b=c;k=l-b>>1;f=0;c=a.Oe;e=b;d=16==c?65536:196608;g=16==c?1:2;h=rr(a,g);q=n=0;u=a.D;y=0;N=a.K;E=0;for(a.O=0;e<l;){p=a.ra;G=e;K=G&p.B;B=(G&p.C)>>>12;p=K!=
p.B?p.X[B].wj(K,G):p.X[B++].dg(K,G)|p.X[B&p.O].dg(0,G+1)<<8;if(a.Cd&&p===a.F[f])n+=c;else{a.F[f]=p;p=p>>8|(p&255)<<8;G=d;K=16;n<u&&(u=n);for(B=0;B<c;B++){var qa=(p&(G>>=g))>>(K-=g);Cr(a.Qa,n++,q,h[qa])}n>y&&(y=n);q<N&&(N=q);q>=E&&(E=q+1)}e+=2;f++;if(n>=a.D){n=0;q+=2;if(q>a.K)break;q==a.K&&(q=1,e=b+a.qe)}}u<a.D&&(a.bb.putImageData(a.Qa,0,0,u,N,y-u,E-N),a.P.drawImage(a.Ja,0,0,a.D,a.K,0,0,a.va,a.ya));l=k}else if(a.tf){k=0;f=l-c;e=rr(a,8);d=a.ub.fc;h=g=0;n=a.D;q=0;u=a.K;y=0;N=a.ub.ud[uq.Wc.ma]&uq.Wc.lf?
4:1;E=a.ub.td[sq.Pg.ma]&sq.Pg.fn;p=a.N>a.D?a.N-a.D-E>>3:0;for(a.O=0;c<l;){G=d[c-b];B=4;E||(a.Cd&&G===a.F[k]?(g+=B,B=0):a.F[k]=G,k++);if(B){g<n&&(n=g);for(K=0;K<B;K++)Cr(a.Qa,g++,h,e[G&255]),G>>>=8;g>q&&(q=g);h<u&&(u=h);h>=y&&(y=h+1)}c+=N;if(g>=a.D){g=0;if(++h>=a.K)break;c+=p}}E&&(f=0);n<a.D&&(a.bb.putImageData(a.Qa,0,0,n,u,q-n,y-u),a.P.drawImage(a.Ja,0,0,a.D,a.K,0,0,a.va,a.ya));l=f}else{k=c;f=0;c=l-k;e=rr(a);d=a.ub.fc;h=g=0;n=a.D;q=0;u=a.K;y=0;N=a.ub.td[sq.Pg.ma]&sq.Pg.fn;E=a.N>a.D?a.N-a.D-N>>3:0;
for(a.O=0;k<l;){p=k++-b;p=d[p];K=8;N?g?(G=a.D-g,K>G&&(K=G)):(p<<=N,K-=N,a.Cd=0):(a.Cd&&p===a.F[f]?(g+=K,K=0):a.F[f]=p,f++);if(K){g<n&&(n=g);for(G=0;G<K;G++)B=Mr[p&2155905152]||0,Cr(a.Qa,g++,h,e[B]),p<<=1;g>q&&(q=g);h<u&&(u=h);h>=y&&(y=h+1)}if(g>=a.D){g=0;if(++h>=a.K)break;k+=E}}N&&(c=0);n<a.D&&(a.bb.putImageData(a.Qa,0,0,n,u,q-n,y-u),a.P.drawImage(a.Ja,0,0,a.D,a.K,0,0,a.va,a.ya));l=c}k=l}a.sb=!1;return k}
function Nr(a,b){var c=0;a=Ie(a.G);var d=a-b.ll;b.Pa===J.tc&&b.ud[uq.Lf.ma]&uq.Lf.nr&&(d>>>=1);0>d&&(b.ll=a,d=0);d-=b.Js-b.Is;0>d?c|=Hq.ja.Or|Hq.ja.Vm:d%b.Sn>b.RA&&(c|=Hq.ja.Vm);return c}m.dl=function(a,b){return Or(this,this.ka,a,b)};m.wl=function(a,b,c){var d=this.ka;d.zl=d.pc;d.pc=b&Hq.gg.ma.Ka;w(this,a,b,c,"CRTC.INDX")};m.cl=function(a,b){return Pr(this,this.ka,a,b)};m.vl=function(a,b,c){Qr(this,this.ka,a,b,c)};m.sA=function(a,b){return Rr(this,this.ka,b)};
m.yB=function(a,b,c){Sr(this,this.ka,b,c)};m.tA=function(){return Tr(this,this.ka)};m.Zt=function(a,b,c){this.A.xj=this.A.xj&~Lq.ap|b&Lq.ap;w(this,a,b,c,"FEAT")};m.Rz=function(a,b){a=this.A.ef;b&&!v(this)||w(this,sq.R,void 0,b,"ATC.INDX",a,!0);return a};m.Pw=function(a,b){a=this.A.td[this.A.ef&sq.xm];b&&!v(this)||w(this,sq.R,void 0,b,"ATC."+this.A.tn[this.A.ef&sq.xm],a,!0);return a};
m.Pt=function(a,b,c){var d=this.A,e=d.ef&sq.ym;if(d.ph){d.ph=!1;var f=d.ef&sq.xm;if(f>=sq.Lx||!e)e=d.td[f]!==b,!Ur&&!e||c&&!v(this)||w(this,a,b,c,"ATC."+d.tn[f],void 0,!0),e&&(d.td[f]=b,f==sq.Pg.ma?this.Xb&&(this.sb=!0,this.Uf=b&sq.Pg.fn):f!=sq.Kx.ma&&jr(this,!0))}else d.ef=b,w(this,a,b,c,"ATC.INDX"),d.ph=!0,b&sq.ym&&!e&&yr(this,!0)&&er(this,!0)};
m.AA=function(a,b){a=0;if(this.Pa==J.sa)a=3-((this.A.Gh&tq.gv)>>2),a=(this.Lc&1<<a)<<Mq.Ky-a;else{var c=this.A.Bg[0];45!=(c&63)&&2880!=(c&4032)&&184320!=(c&258048)&&(a|=Mq.yr)}a|=this.A.Cl&~Mq.yr;this.A.Cl=a;w(this,Mq.R,void 0,b,"STATUS0",a);return a};m.AB=function(a,b,c){this.A.Gh=b;mr(this);w(this,tq.Pm,b,c,"MISC")};m.BA=function(a,b){a=this.A.Lo;w(this,xq.R,void 0,b,"VGA_ENABLE",a);return a};m.EB=function(a,b,c){this.A.Lo=b;w(this,xq.R,b,c,"VGA_ENABLE")};
m.yA=function(a,b){a=this.A.hf;w(this,uq.ma.R,void 0,b,"SEQ.INDX",a);return a};m.CB=function(a,b,c){this.A.hf=b;w(this,uq.ma.R,b,c,"SEQ.INDX")};m.xA=function(a,b){a=this.A.ud[this.A.hf];b&&!v(this)||w(this,uq.ea.R,void 0,b,"SEQ."+this.A.vn[this.A.hf],a,!0);return a};
m.BB=function(a,b,c){if(Ur||this.A.ud[this.A.hf]!==b)c&&!v(this)||w(this,uq.ea.R,b,c,"SEQ."+this.A.vn[this.A.hf],void 0,!0),this.A.ud[this.A.hf]=b;switch(this.A.hf){case uq.Iq.ma:this.A.Kb=Oq[b&uq.Iq.jx];break;case uq.Ke.ma:a=xr(this);a!=this.Eb&&(b=this.Eb,yr(this,!0),jr(this,!1,a,b));break;case uq.Wc.ma:Ir(this,Hr(this))}};m.eA=function(a,b){a=this.A.Al;b&&!v(this)||w(this,yq.Ka.R,void 0,b,"DAC.MASK",a,!0);return a};
m.iB=function(a,b,c){if(Ur||this.A.Al!==b)c&&!v(this)||w(this,yq.Ka.R,b,c,"DAC.MASK",void 0,!0),this.A.Al=b};m.fA=function(a,b){a=this.A.Bl;b&&!v(this)||w(this,yq.zk.R,void 0,b,"DAC.STATE",a,!0);return a};m.jB=function(a,b,c){c&&!v(this)||w(this,yq.da.Ci,b,c,"DAC.READ",void 0,!0);this.A.Xd=b;this.A.Bl=yq.zk.qx;this.A.hd=0};m.kB=function(a,b,c){c&&!v(this)||w(this,yq.da.Pm,b,c,"DAC.WRITE",void 0,!0);this.A.Xd=b;this.A.Bl=yq.zk.Mq;this.A.hd=0};
m.dA=function(a,b){a=this.A.Bg[this.A.Xd]>>this.A.hd&63;b&&!v(this)||w(this,yq.ea.R,void 0,b,"DAC.DATA["+Ya(this.A.Xd)+"]["+Ya(this.A.hd)+"]",a,!0);this.A.hd+=6;12<this.A.hd&&(this.A.hd=0,this.A.Xd=this.A.Xd+1&yq.nd-1);return a};
m.hB=function(a,b,c){a=this.A.Bg[this.A.Xd];c&&!v(this)||w(this,yq.ea.R,b,c,"DAC.DATA["+Ya(this.A.Xd)+"]["+Ya(this.A.hd)+"]",void 0,!0);b=a&~(63<<this.A.hd)|(b&63)<<this.A.hd;a!==b&&(this.A.Bg[this.A.Xd]=b,jr(this,!0));this.A.hd+=6;12<this.A.hd&&(this.A.hd=0,this.A.Xd=this.A.Xd+1&yq.nd-1)};m.CA=function(a,b){a=this.A.xj;w(this,Lq.Ci,void 0,b,"FEAT",a);return a};m.uB=function(a,b,c){this.A.lu=b;w(this,vq.Px,b,c,"GRC2")};m.DA=function(a,b){a=this.A.Gh;w(this,tq.Ci,void 0,b,"MISC",a);return a};
m.tB=function(a,b,c){this.A.ku=b;w(this,vq.Ox,b,c,"GRC1")};m.mA=function(a,b){a=this.A.gf;w(this,vq.ma.R,void 0,b,"GRC.INDX",a);return a};m.sB=function(a,b,c){this.A.gf=b;w(this,vq.ma.R,b,c,"GRC.INDX")};m.lA=function(a,b){a=this.A.ff[this.A.gf];b&&!v(this)||w(this,vq.ea.R,void 0,b,"GRC."+this.A.un[this.A.gf],a);return a};
m.rB=function(a,b,c){if(Ur||this.A.ff[this.A.gf]!==b)c&&!v(this)||w(this,vq.ea.R,b,c,"GRC."+this.A.un[this.A.gf]),this.A.ff[this.A.gf]=b;switch(this.A.gf){case vq.Dy.ma:this.A.qj=Oq[b&15];this.A.cg=this.A.qj&~this.A.Ef;break;case vq.Wv.ma:this.A.Ef=~Oq[b&15];this.A.cg=this.A.qj&~this.A.Ef;break;case vq.kv.ma:this.A.Qn=Oq[b&15]&-2139062144;break;case vq.Id.ma:case vq.ab.ma:Ir(this,Hr(this));break;case vq.gr.ma:this.A.Do=(b&vq.gr.Bx)<<3;break;case vq.Pf.ma:pr(this);break;case vq.lv.ma:this.A.Rn=Oq[b&
15]&-2139062144;break;case vq.Su.ma:this.A.bc=b|b<<8|b<<16|b<<24}};m.Yz=function(a,b){return Or(this,this.L,a,b)};m.cB=function(a,b,c){var d=this.L;d.zl=d.pc;d.pc=b&Hq.gg.ma.Ka;w(this,a,b,c,"CRTC.INDX")};m.Xz=function(a,b){return Pr(this,this.L,a,b)};m.bB=function(a,b,c){Qr(this,this.L,a,b,c)};m.Zz=function(a,b){return Rr(this,this.L,b)};m.dB=function(a,b,c){Sr(this,this.L,b,c)};m.Wz=function(a,b){var c=this.L.Fh;b&&!v(this)||w(this,a,void 0,b,this.L.type+".COLOR",c);return c};
m.aB=function(a,b,c){c&&!v(this)||w(this,a,b,c,this.L.type+".COLOR");this.L.Fh!==b&&(this.L.Fh=b,jr(this,!0))};m.$z=function(){return Tr(this,this.L)};function Or(a,b,c,d){if(b.qd)var e=b.pc;w(a,c,void 0,d,"CRTC.INDX",e);return e}function Pr(a,b,c,d){var e;(b.qd||"vdu"==b.video.model)&&b.pc<b.Pn&&(e=b.lb[b.pc]);d&&!v(a)||w(a,c,void 0,d,"CRTC."+b.Nk[b.pc],e,!0);return e}
function Qr(a,b,c,d,e){if(b.pc<b.Pn){if(b.pc==P.Jg||b.pc==P.Th){var f=d&Iq[P.kc],g=b.lb[P.kc]&Iq[P.kc];if(f>g&&(f=b.lb[b.pc^1]&Iq[P.kc],f>g))return}if((f=b.lb[b.pc]!==d)||Ur)e&&!v(a)||w(a,c,d,e,"CRTC."+b.Nk[b.pc]),b.lb[b.pc]=d;b==a.A&&(b.pc==P.sa.Hk.ma?a.Kc&&(d&P.sa.Hk.Xy||a.V&&qi(a.V,a.Kc)):f&&b.pc==P.sa.Gm&&jr(a,!1));f&&((b.pc==P.kc&&b.zl!=P.kc-1||b.pc==P.sa.Ti&&223==d)&&pr(a,!0),qr(a))}}function Rr(a,b,c){var d=b.Yd;w(a,b.port+4,void 0,c,"MODE",d);return d}
function Sr(a,b,c,d){w(a,b.port+4,c,d,"MODE");(b.Yd^c)&Gq.ab.Mh&&(b.video.Cd=0);b.Yd=c;pr(a)}function Tr(a,b){var c=Nr(a,b);b===a.A?(c|=b.ha&Kq.Xp^Kq.Xp,b.ph=!1):c|=240;return b.ha=c}var Ur=!0,J={Kd:1,Hd:2,sa:4,tc:8},kr={av:0,kp:1,Hl:2,Kf:3,$u:4,jp:5,Gl:6,Of:7,bq:13,cq:14,fq:15,eq:16,Nr:17,Mr:18,pn:19,Jr:20,Kr:21,Lr:22,Ir:255},ir=60,Qq={mda:[J.Kd,kr.Of],cga:[J.Hd,kr.Kf],ega:[J.sa,kr.Kf],vga:[J.tc,kr.Kf]},Aq,Vr={};
Aq=(Vr[Jn.COLOR]={pl:15700,ol:200,xl:75,yl:96},Vr[Jn.Gb]={pl:18432,ol:350,xl:75,yl:96},Vr[Jn.Kg]={pl:21850,ol:350,xl:75,yl:96},Vr[Jn.Gk]={pl:31500,ol:400,xl:85,yl:83},Vr);var lr={6:[Jn.Pi,Jn.Gb,!0],7:[Jn.COLOR,Jn.Gb,!0],8:[Jn.aq,Jn.Gb,!0],9:[Jn.Kg,Jn.Gb,!0],10:[Jn.Gb,Jn.Pi,!0],11:[Jn.Gb,Jn.COLOR,!0],0:[Jn.Pi,Jn.Gb,!1],1:[Jn.COLOR,Jn.Gb,!1],2:[Jn.aq,Jn.Gb,!1],3:[Jn.Kg,Jn.Gb,!1],4:[Jn.Gb,Jn.Pi,!1],5:[Jn.Gb,Jn.COLOR,!1]},Rq,Wr={};
Rq=(Wr[kr.av]=[40,25,1,.5,0,J.Hd],Wr[kr.kp]=[40,25,1,.5,0,J.Hd],Wr[kr.Hl]=[80,25,1,.5,0,J.Hd],Wr[kr.Kf]=[80,25,1,.5,0,J.Hd],Wr[kr.$u]=[320,200,8,4,192],Wr[kr.jp]=[320,200,8,4,192],Wr[kr.Gl]=[640,200,16,8,192],Wr[kr.Of]=[80,25,1,.5,0,J.Kd],Wr[kr.bq]=[320,200,8,8],Wr[kr.cq]=[640,200,8,8],Wr[kr.fq]=[640,350,8,8],Wr[kr.eq]=[640,350,8,8],Wr[kr.Nr]=[640,480,8,8],Wr[kr.Mr]=[640,480,8,8],Wr[kr.pn]=[320,200,4,1],Wr[kr.Jr]=[320,200,4,4],Wr[kr.Kr]=[320,240,4,4],Wr[kr.Lr]=[320,400,4,4],Wr);
var or={oq:0,BF:1,tm:7,gw:8,Qu:0,Ru:112,Zo:128,aD:128,AF:1,jw:2,iw:3,lw:4,kw:5,hw:6,$C:16,dD:32,cD:48,fD:64,eD:80,bD:96,Yp:256,nm:512},zr=[[0,0,0,255],[9,204,80,255],[9,204,80,255],[60,255,131,255],[60,255,131,255]],Ar=[0,1,2,2,2,2,2,2,0,3,4,4,4,4,4,4],sr=[[0,0,0,255],[0,0,170,255],[0,170,0,255],[0,170,170,255],[170,0,0,255],[170,0,170,255],[170,85,0,255],[170,170,170,255],[85,85,85,255],[85,85,255,255],[85,255,85,255],[85,255,255,255],[255,85,85,255],[255,85,255,255],[255,255,85,255],[255,255,255,
255]],vr=[or.jw,or.lw,or.hw],ur=[or.iw,or.kw,or.tm],wr=[0,1,2,3,4,5,20,7,56,57,58,59,60,61,62,63],Oq=[0,255,65280,65535,16711680,16711935,16776960,16777215,-16777216,-16776961,-16711936,-16711681,-65536,-65281,-256,-1],Mr,Xr={};Mr=(Xr[0]=0,Xr[128]=1,Xr[32768]=2,Xr[32896]=3,Xr[8388608]=4,Xr[8388736]=5,Xr[8421376]=6,Xr[8421504]=7,Xr[-2147483648]=8,Xr[-2147483520]=9,Xr[-2147450880]=10,Xr[-2147450752]=11,Xr[-2139095040]=12,Xr[-2139094912]=13,Xr[-2139062272]=14,Xr[-2139062144]=15,Xr);var pq,Yr={};
pq=(Yr[J.Kd]=["MDA",Gq.gg.ma.R,720896,4096,4096,Jn.Gb],Yr[J.Hd]=["CGA",Hq.gg.ma.R,753664,16384,16384,Jn.COLOR],Yr[J.sa]=["EGA",Hq.gg.ma.R,753664,16384,65536,Jn.Kg],Yr[J.tc]=["VGA",Hq.gg.ma.R,753664,16384,262144,Jn.Gk],Yr);
var Sq={NONE:0,re:1,Fq:2,Oq:3},hr=[[L.Xj,L.Ek,L.mk],[L.Ne,L.Li,L.Wg],[L.Vj,L.Tj,L.lk]],Uq={944:Pq.prototype.dl,945:Pq.prototype.cl,946:Pq.prototype.dl,947:Pq.prototype.cl,948:Pq.prototype.dl,949:Pq.prototype.cl,950:Pq.prototype.dl,951:Pq.prototype.cl,952:Pq.prototype.sA,954:Pq.prototype.tA},Vq={944:Pq.prototype.wl,945:Pq.prototype.vl,946:Pq.prototype.wl,947:Pq.prototype.vl,948:Pq.prototype.wl,949:Pq.prototype.vl,950:Pq.prototype.wl,951:Pq.prototype.vl,952:Pq.prototype.yB},Wq={980:Pq.prototype.Yz,
981:Pq.prototype.Xz,984:Pq.prototype.Zz,985:Pq.prototype.Wz,986:Pq.prototype.$z},Xq={980:Pq.prototype.cB,981:Pq.prototype.bB,984:Pq.prototype.dB,985:Pq.prototype.aB},Yq={960:Pq.prototype.Rz,961:Pq.prototype.Pw,962:Pq.prototype.AA,964:Pq.prototype.yA,965:Pq.prototype.xA,974:Pq.prototype.mA,975:Pq.prototype.lA},Zq={954:Pq.prototype.Zt,960:Pq.prototype.Pt,961:Pq.prototype.Pt,962:Pq.prototype.AB,964:Pq.prototype.CB,965:Pq.prototype.BB,970:Pq.prototype.uB,972:Pq.prototype.tB,974:Pq.prototype.sB,975:Pq.prototype.rB,
986:Pq.prototype.Zt},$q={963:Pq.prototype.BA,966:Pq.prototype.eA,967:Pq.prototype.fA,969:Pq.prototype.dA,970:Pq.prototype.CA,972:Pq.prototype.DA},ar={963:Pq.prototype.EB,966:Pq.prototype.iB,967:Pq.prototype.jB,968:Pq.prototype.kB,969:Pq.prototype.hB};
Vb(function(){for(var a=pc("pcx86","video"),b={},c=0;c<a.length;b={pe:void 0},c++){var d=a[c],e=qc(d),f=void 0,g=pc("pcjs-canvas","",d);g&&g.length?f=g[0]:ua&&(f=document.createElement("canvas"))&&(f.setAttribute("class","pcjs-canvas"),f.setAttribute("width",e.screenWidth),f.setAttribute("height",e.screenHeight),d.appendChild(f));g=void 0;f&&f.getContext?g=f.getContext("2d"):d.innerHTML="<br>Missing &lt;canvas&gt; support. Please try a newer web browser.";0<=Bb().indexOf("MSIE")&&(d.onresize=function(l,
p,n,q){return function(){p.style.height=(l.clientWidth*q/n|0)+"px"}}(d,f,e.screenWidth,e.screenHeight),d.onresize(null));var h=+(Mb("aspect")||e.aspect);h&&.3<=h&&3.33>=h&&(Ub("resize",function(l,p,n){return function(){p.style.height=(l.clientWidth/n|0)+"px"}}(d,f,h)),r.onresize());b.pe=void 0;(h=pc("pcjs-overlay","",d))&&h.length?b.pe=h[0]:ua&&(b.pe=document.createElement("textarea"),b.pe.setAttribute("class","pcjs-overlay"),d.appendChild(b.pe));b.pe&&(b.pe.setAttribute("autocapitalize","off"),b.pe.setAttribute("autocorrect",
"off"),b.pe.setAttribute("spellcheck","false"),h=function(l){return function(){l.pe.style.fontSize=(.01875*l.pe.clientWidth|0)+"px"}}(b),h(),Ub("resize",h));h=pc("pcx86-video-diagnostic");var k=void 0;d.style&&(k=d);b=new Pq(e,f,g,b.pe,k,h);oc(b,d)}});
function Zr(a){dc.call(this,"ParallelPort",a,16777216);this.H=a.adapter;switch(this.H){case 1:this.D=956;this.C=ri.Hq;break;case 2:this.D=888;this.C=ri.Hq;break;case 3:this.D=632;this.C=ri.ax;break;default:tb(549755813888,"Unrecognized parallel adapter #"+this.H);return}this.A=this.B=null;a=a.binding;"console"==a?this.B="":lc(this,a)}var $r,as;oa(Zr,dc);m=Zr.prototype;m.Sb=function(a,b,c){return a&&"textarea"!=a?!1:(this.oa[b]=this.A=c,!0)};
m.bd=function(a,b,c,d){this.ra=b;this.G=c;this.fa=d;this.V=Yc(a,"ChipSet");Qd(b,this,$r,this.D);Td(b,this,as,this.D);Cc(this)};m.Gc=function(a,b){if(!b)if(!a||!this.restore)this.reset();else if(!this.restore(a))return!1;return!0};m.Fc=function(a){return a?this.save():!0};m.reset=function(){bs(this)};m.save=function(){var a=new Wg(this),b=0,c=[];c[b++]=this.F;c[b++]=this.ic;c[b]=this.$i;a.set(0,c);return a.data()};m.restore=function(a){return bs(this,a[0])};
function bs(a,b){var c=0;void 0===b&&(b=[0,cs.Qq|cs.Gj,ds.Gj]);a.F=b[c++];a.ic=b[c++];a.$i=b[c];return!0}m.gA=function(a,b){var c=this.F;w(this,a,void 0,b,"DATA",c);return c};m.zA=function(a,b){var c=this.ic;this.ic=this.ic|cs.Hm|cs.Pq;w(this,a,void 0,b,"STAT",c);es(this);return c};m.cA=function(a,b){var c=this.$i;w(this,a,void 0,b,"CTRL",c);return c};
m.lB=function(a,b,c){var d=this;w(this,a,b,c,"DATA");this.F=b;ff(this.G,function(){var e=b,f=!1;d.J("transmitByte(%#04x)\n",e);if(d.A)13!=e&&(8==e?d.A.value=d.A.value.slice(0,-1):(128<=e&&(e=160>e?e-128:224>e?42:32),d.A.value+=hb(e),d.A.scrollTop=d.A.scrollHeight)),f=!0;else if(null!=d.B){if(10==e||1024<=d.B.length)d.print(d.B),d.B="";10!=e&&(d.B+=String.fromCharCode(e));f=!0}return f?(d.ic|=cs.Qq,d.ic&=~(cs.Hm|cs.Pq),!0):!1});es(this)};m.gB=function(a,b,c){w(this,a,b,c,"CTRL");this.$i=b|ds.Gj;es(this)};
function es(a){a.V&&a.C&&(a.$i&ds.Nw&&!(a.ic&cs.Hm)?si(a.V,a.C):qi(a.V,a.C))}var cs={kg:1,Gj:7,Qq:8,NJ:16,lI:32,Hm:64,Pq:128},ds={kg:2,SH:1,CH:2,INIT:4,RH:8,Nw:16,Gj:224};$r={0:Zr.prototype.gA,1:Zr.prototype.zA,2:Zr.prototype.cA};as={0:Zr.prototype.lB,2:Zr.prototype.gB};Vb(function(){for(var a=pc("pcx86","parallel"),b=0;b<a.length;b++){var c=a[b],d=qc(c);d=new Zr(d);oc(d,c)}});
function fs(a){dc.call(this,"SerialPort",a,33554432);this.ba=+a.adapter;switch(this.ba){case 1:this.ca=1016;this.P=ri.Mp;break;case 2:this.ca=760;this.P=ri.Np;break;default:if("test"!=this.Yb){tb(549755813888,"Unrecognized serial adapter #"+this.ba);return}}this.F=this.M=null;this.va=+a.tabSize||0;this.la=+a.charBOL||0;this.N=this.pa=0;this.xa=gs.hm|gs.om;this.X=!0;a=a.binding;"console"==a?this.M="":lc(this,a);this.D=this.C=this.Z=null;this.ta=!1;this.exports={bind:this.zz,connect:this.zs,receiveData:this.df,
receiveStatus:this.Qw}}var hs,is;oa(fs,dc);m=fs.prototype;m.zz=function(a,b,c){return this.D?!1:(this.D=a,this.C=b,this.ta=void 0===c?!1:c,!0)};m.Yr=function(a,b,c){var d=null;a!=this.Yb||this.D||(this.D=b,this.Z=c,this.X=!1,d=this);return d};
m.Sb=function(a,b,c){if(!a||"textarea"==a){var d=this;this.oa[b]=this.F=c;this.F.onkeydown=function(e){e=e||window.event;var f=e.keyCode;if(8===f||e.ctrlKey&&65<=f&&90>=f)e.preventDefault&&e.preventDefault(),64<f&&(f-=64),d.df(f);return!0};this.F.onkeypress=function(e){e=e||window.event;d.df(e.which||e.keyCode);e.preventDefault&&e.preventDefault();return!0};this.F.removeAttribute("readonly");return!0}return!1};
m.bd=function(a,b,c,d){this.Ea=a;if(this.ba){this.ra=b;this.G=c;this.fa=d;var e=this;this.ya=ed(this.G,this.id+".receive",function(){e.df()});this.Ba=ed(this.G,this.id+".transmit",function(){e.A=e.A|js.Ck|js.mn;ks(e)});this.V=Yc(a,"ChipSet");Qd(b,this,hs,this.ca);Td(b,this,is,this.ca)}Cc(this)};
m.zs=function(a){if(!this.D){var b=Be(this.Ea,"connection");if(b){var c=b.split("->");if(2==c.length){var d=gb(c[0]);if(d!=this.Yb)return;c=gb(c[1]);if(this.D=sc(c,!1)){var e=this.D.exports;if(e){var f=e.connect;f&&f.call(this.D,this.X);if(this.C=e.receiveData){this.X=a;this.Z=e.receiveStatus;this.J(137438953472,"Connected %s.%s to %s\n",this.pd,d,c);return}}}}this.J(137438953472,"Unable to establish connection: %s\n",b)}}};
m.Gc=function(a,b){if(!b)if(this.zs(this.X),!a||!this.restore)this.reset();else if(!this.restore(a))return!1;return!0};m.Fc=function(a){return a?this.save():!0};m.reset=function(){ls(this)};m.save=function(){var a=new Wg(this),b=0,c=[];c[b++]=this.ia;c[b++]=this.ka;c[b++]=this.K;c[b++]=this.O;c[b++]=this.L;c[b++]=this.H;c[b++]=this.U;c[b++]=this.A;c[b++]=this.B;c[b]=this.I;a.set(0,c);return a.data()};m.restore=function(a){return ls(this,a[0])};
function ls(a,b){var c=0;void 0===b&&(b=[0,0,ms,0,ns.bk,0,0,js.Ck|js.mn,a.xa,[]]);a.ia=b[c++];a.ka=b[c++];a.K=b[c++];a.O=b[c++];a.L=b[c++];a.H=b[c++];a.U=b[c++];a.A=b[c++];a.B=b[c++];a.I=b[c];return!0}m.df=function(a,b){b&&(this.I=[]);if(null!=a)if("number"==typeof a)this.I.push(a);else if("string"==typeof a)for(b=0;b<a.length;b++)this.I.push(a.charCodeAt(b));else this.I=this.I.concat(a);os(this);return!0};
m.Qw=function(a){var b=this.B;this.B&=~(gs.hm|gs.om);a&32&&(this.B=this.B|gs.hm|gs.km);a&64&&(this.B=this.B|gs.om|gs.lm);b!=this.B&&ks(this)};function os(a){0<a.I.length&&!(a.A&js.Uj)&&(!a.ta||a.U&ps.Yg)&&(a.ia=a.I.shift(),a.A|=js.Uj,a.I.length&&a.G&&Qe(a.G,a.ya,1E3/(1843200/((a.K||1)<<7))|0));ks(a)}m.wA=function(a,b){var c=this.H&qs.Mf?this.K&255:this.ia;w(this,a,void 0,b,this.H&qs.Mf?"DLL":"RBR",c);this.A&=~js.Uj;os(this);return c};
m.nA=function(a,b){var c=this.H&qs.Mf?this.K>>8:this.O;w(this,a,void 0,b,this.H&qs.Mf?"DLM":"IER",c);return c};m.oA=function(a,b){var c=this.L;c==ns.Aq&&(this.L=ns.bk);w(this,a,void 0,b,"IIR",c);return c};m.pA=function(a,b){var c=this.H;w(this,a,void 0,b,"LCR",c);return c};m.rA=function(a,b){var c=this.U;w(this,a,void 0,b,"MCR",c);return c};m.qA=function(a,b){var c=this.A;w(this,a,void 0,b,"LSR",c);return c};m.uA=function(a,b){var c=this.B;this.B&=~(gs.km|gs.lm);w(this,a,void 0,b,"MSR",c);return c};
m.DB=function(a,b,c){var d=this;w(this,a,b,c,this.H&qs.Mf?"DLL":"THR");this.H&qs.Mf?this.K=this.K&-256|b:(this.ka=b,this.A&=~(js.Ck|js.mn),ff(this.G,function(){var e=!1;d.J("transmitByte(%#04x)\n",b);d.C&&d.C.call(d.D,b)&&(e=!0);if(d.F){if(13==b)d.N=0;else if(8==b)d.F.value=d.F.value.slice(0,-1),0<d.N&&d.N--;else{e=hb(b);var f=e.length;32>b&&1==f&&(f=0);9==b&&(f=d.va||8,f-=d.N%f,d.va&&(e=eb("",-f)));!d.N&&f&&(10!=d.pa&&(e="\n"+e),d.la&&(e=String.fromCharCode(d.la)+e));d.F.value+=e;d.F.scrollTop=d.F.scrollHeight;
d.N+=f}d.pa=b;e=!0}else if(null!=d.M){if(10==b||1024<=d.M.length)d.print(d.M),d.M="";10!=b&&(d.M+=String.fromCharCode(b));e=!0}return e}),Qe(this.G,this.Ba,1E3/(1843200/((this.K||1)<<7))|0),ks(this))};m.vB=function(a,b,c){w(this,a,b,c,this.H&qs.Mf?"DLM":"IER");this.H&qs.Mf?this.K=this.K&255|b<<8:this.O=b};m.wB=function(a,b,c){w(this,a,b,c,"LCR");this.H=b};
m.xB=function(a,b,c){var d=b^this.U;w(this,a,b,c,"MCR");this.U=b;d&(ps.Zh|ps.Yg)&&(this.Z&&(a=0,this.X?(a|=b&ps.Yg?32:0,a|=b&ps.Zh?320:0):(a|=b&ps.Yg?16:0,a|=b&ps.Zh?1048576:0),this.Z.call(this.D,a)),os(this))};function ks(a){var b=-1;a.A&js.Uj&&a.O&rs.Sx?b=ns.Kw:a.A&js.Ck&&a.O&rs.Ny?b=ns.Aq:a.B&(gs.km|gs.lm)&&a.O&rs.sx&&(b=ns.Jw);0<=b?(a.L&=~(ns.bk|ns.Hw),a.L|=b,a.V&&a.P&&si(a.V,a.P,100)):(a.L=ns.bk,a.V&&a.P&&qi(a.V,a.P))}
var ms=384,rs={kg:1,Sx:1,Ny:2,VG:4,sx:8,on:240},ns={kg:2,bk:1,oG:6,Kw:4,Aq:2,Jw:0,Hw:6,on:248},qs={kg:3,xE:0,yE:1,zE:2,AE:3,eK:4,mI:8,oI:16,pI:32,Fg:64,Mf:128},ps={kg:4,Zh:1,Yg:2,eI:4,fI:8,UG:16,on:224},js={kg:5,Uj:1,dI:2,tI:4,yF:8,gD:16,Ck:32,mn:64,on:128},gs={kg:6,km:1,lm:2,mK:4,aF:8,hm:16,om:32,fJ:64,hJ:128};hs={0:fs.prototype.wA,1:fs.prototype.nA,2:fs.prototype.oA,3:fs.prototype.pA,4:fs.prototype.rA,5:fs.prototype.qA,6:fs.prototype.uA};
is={0:fs.prototype.DB,1:fs.prototype.vB,3:fs.prototype.wB,4:fs.prototype.xB};Vb(function(){for(var a=pc("pcx86","serial"),b=0;b<a.length;b++){var c=a[b],d=qc(c);d=new fs(d);oc(d,c)}});
function ss(a){dc.call(this,"TestController",a);this.jf=null;var b=!1;this.I=a.tests;this.B="";this.Tk=this.dj=this.ej=this.C=this.A=null;if(this.F=a.binding){if(this.H=sc(this.F,this.id))if(a=this.H.exports){var c=a.bind;c&&c.call(this.H,this,this.df,!0)&&(this.C=a.receiveData.bind(this.H),this.I&&(ts(this,this.I),b=!0))}this.C||tb(549755813888,this.id+": binding '"+this.F+"' unavailable")}b||Cc(this)}oa(ss,dc);
function ts(a,b){var c="Loading "+b+"...";sb(b,null,!0,function(d,e,f){if(f)a.J(0>f?137438953472:274877906944,"Unable to load tests (error %d: %s)\n",f,d);else try{a.jf=JSON.parse(e),a.ej&&(a.ej(a.jf),a.jf=null),fc(a.pd,d,e)}catch(g){a.J(274877906944,"Test parsing error: %s\n",g.message)}Cc(a)},function(){a.J(4398046511104,"%s\n",c)})}
ss.prototype.Sb=function(a,b,c){var d=this;return"textarea"!=a||this.A?!1:(this.A=this.oa[b]=c,this.B=null,c.onkeydown=function(e){e=e||window.event;var f=e.keyCode;if(8===f||e.ctrlKey&&65<=f&&90>=f)e.preventDefault&&e.preventDefault(),64<f&&(f-=64),d.dj&&d.dj(f);return!0},c.onkeypress=function(e){e=e||window.event;var f=e.which||e.keyCode;d.dj&&d.dj(f);e.preventDefault&&e.preventDefault();return!0},c.removeAttribute("readonly"),this.C&&us(new vs,this,this.C,this.D,this.J,this.F),!0)};
ss.prototype.D=function(a){if("number"==typeof a)this.J("%c",a);else if("string"==typeof a)this.J("%s",a);else for(var b=0;b<a.length;b++)this.J("[0x%02x]",a[b])};
ss.prototype.J=function(a){var b=fb.apply(Qa,[a.toString()].concat(ca(pa.apply(1,arguments))));null!=this.A&&"\r"!=b&&(this.A.value="\b"==b||"\b \b"==b?this.A.value.slice(0,-1):this.A.value+b,8192<this.A.value.length&&(this.A.value=this.A.value.substr(this.A.value.length-4096)),this.A.scrollTop=this.A.scrollHeight);if(null!=this.B){var c=b.lastIndexOf("\n");0<=c&&(console.log(this.B+b.substr(0,c)),this.B="",b=b.substr(c+1));this.B+=b}};
ss.prototype.df=function(a){if("number"==typeof a)this.Tk(a);else if("string"==typeof a)for(var b=0;b<a.length;b++)this.Tk(a.charCodeAt(b));else for(b=0;b<a.length;b++)this.Tk(a[b])};Vb(function(){for(var a=pc("pcx86","testctl"),b=0;b<a.length;b++){var c=a[b],d=qc(c);d=new ss(d);oc(d,c)}});function vs(){this.H=[];this.G=0;this.N=this.V.bind(this);this.K=!1}
function us(a,b,c,d,e,f){a.C=c.bind(b);a.D=d.bind(b);a.J=e.bind(b);c=a.O;d=a.P;b.Tk=a.df.bind(a);b.dj=c.bind(a);b.ej=d.bind(a);b.jf&&b.ej&&(b.ej(b.jf),b.jf=null);a.J("%s TestMonitor v%s\n","PCx86","2.23");a.J("Use Ctrl-T to toggle terminal mode%s\n",f?" ("+f.toUpperCase()+")":"");ws(a,xs)}
function ys(a,b){if(!b)return!0;var c=a.jf[a.F].commands,d=b.split(" "),e=d[0],f=!1;c[e]&&(f=!0,e=c[e]);if("string"==typeof e){if(c=e,zs(a,c))return!0}else{c=e.op;var g=e.mode}if(c){var h="";c=c.replace(/([$%])([0-9]+)/g,function(p,n,q){p=+q;p>=d.length?(n+=q,h="missing value for "+n):n=p?"$"==n?d[p]:fb("%x",d[p]):b;return n});if(h)a.J("%s\n",h);else{var k=c.indexOf("(");e=0<k?c.substr(0,k):"";if(0<=As.indexOf(e)){f||(c=b);f=!0;var l=c.lastIndexOf(")");0<l&&(g=c.substr(k+1,l-k-1),c=e)}else 0<=As.indexOf(c)&&
(f=!0,g=d[1]);if(f)return Bs(a,c,g),!0;a.J("unrecognized command: %s\n",b)}}else a.J("missing operation for command: %s\n",d[0]);return!1}function zs(a,b){var c=!1,d=b.match(/^\s*for\s+([a-z]+)\s*=\s*([0-9]+)\s+to\s+([0-9]+)\s*{\s*([\s\S]*?)\s*}\s*$/i);if(d){c=!0;b=d[1];var e=+d[3],f=d[4].split(";");for(d=+d[2];d<=e&&c;d++)for(var g=0;g<f.length;g++){var h=f[g].trim();if(h&&(h=h.replace(new RegExp("\\$"+b,"g"),d.toString()),!ys(a,h))){c=!1;break}}}return c}
function Bs(a,b,c){a.H.push(c?[b,c]:b);Cs(a)}function Ds(a){a.G&&(clearTimeout(a.G),a.G=0);a.H=[];a.K=!1}function Cs(a,b){a.K=!1;a.H.length?a.G||(a.G=setTimeout(a.N,b||0)):a.J("done\n")}
vs.prototype.V=function(){this.G=0;var a=this.H.shift();if(a){if("string"!=typeof a){var b=a[1];a=a[0]}if(a==Es){a="nothing to print";var c=[];b&&(b=b.match(/^\s*(["'])([\s\S]*?)\1\s*,?\s*([\s\S]*)$/))&&(a=b[2],c=b[3].split(","));this.J.apply(this,[a].concat(ca(c)))}else{if(a==Fs){if(b){Cs(this,+b);return}this.J("press a key to continue...");this.K=!0;return}this.C(a);if(b){Ds(this);ws(this,b);return}}Cs(this)}};
function ws(a,b,c){if(b!=a.mode){switch(b){case xs:a.F=null;break;case Gs:a.L=[];a.M=[];a.I=0;for(var d in a.jf)if(c=a.jf[d][Gs]){"string"==typeof c&&(c=[c]);for(var e=0;e<c.length;e++)a.L.push(d),a.M.push(c[e]),a.I<c[e].length&&(a.I=c[e].length)}a.B="";a.F=null;break;case Hs:c&&(a.F=c);a.A="";break;default:a.J("unrecognized mode: %s\n",b);return}a.mode=b;a.J("mode: %s\n",a.F||a.mode)}}vs.prototype.P=function(a){this.jf=a;ws(this,Gs)};
vs.prototype.df=function(a){this.mode==Gs?(this.B.length>=this.I&&(this.B=this.B.slice(-(this.I-1))),10==a&&(this.B=""),this.B+=String.fromCharCode(a),a=this.M.indexOf(this.B),0<=a&&ws(this,Hs,this.L[a])):this.mode==xs&&this.D(a)};
vs.prototype.O=function(a){a==t.Pj?ws(this,this.mode==xs?this.F?Hs:Gs:xs):this.mode==xs||this.mode==Gs?this.C(a):this.mode==Hs&&(this.K?(this.D(10),Cs(this)):13==a?(this.D(10),Ds(this),ys(this,this.A.replace(/\\n/g,"\n")),this.A=""):a==t.Oj||a==t.Wh?this.A.length&&(this.A=this.A.slice(0,-1),this.D("\b \b")):32<=a&&127>a&&(this.A+=String.fromCharCode(a),this.D(a)))};var xs="terminal",Gs="prompt",Hs="command",Es="printf",Fs="wait",As=[Es,Fs];
function Is(a){dc.call(this,"Mouse",a,67108864);this.V=a.serial||a.binding;this.X=a.type||(this.V?Js.rr:Js.Nh);this.U=this.X==Js.rr?"SerialPort":null;this.C=null;this.L=a.scaleMouse;this.qd=this.P=this.O=!1;this.D=[];this.B=[]}oa(Is,dc);m=Is.prototype;m.bd=function(a,b,c,d){this.Ea=a;this.ra=b;this.G=c;this.fa=d;this.L=Be(a,"scaleMouse")||this.L;for(c=null;c=Yc(a,"Video",c);)this.D.push(c);this.X==Js.Nh&&(Qd(b,this,Ks,Ls.ea.R),Td(b,this,Ms,Ls.ea.R));Cc(this)};
m.isActive=function(){return this.qd&&(this.G?this.G.flags.vb:!1)};m.Gc=function(a,b){if(!b){if(!a||!this.restore)this.reset();else if(!this.restore(a))return!1;if(this.U&&!this.C){for(a=null;(a=Yc(this.Ea,this.U,a))&&(!a.Yr||!(this.C=a.Yr(this.V,this,this.Rw))););if(this.C)for(this.B=[],a=0;a<this.D.length;a++)b=this.D[a],b.H=this,(b=b.B)&&this.B.push(b);else tb(549755813888,this.id+": "+this.U+" "+this.V+" unavailable")}this.qd?Ns(this):Os(this)}return!0};m.Fc=function(a){return a?this.save():!0};
m.reset=function(){Ps(this)};m.save=function(){var a=new Wg(this),b=0,c=[];c[b++]=this.qd;c[b++]=this.I;c[b++]=this.K;c[b++]=this.F;c[b++]=this.H;c[b++]=this.M;c[b++]=this.N;c[b]=this.A;a.set(0,c);return a.data()};m.restore=function(a){return Ps(this,a[0])};function Ps(a,b){var c=0;void 0===b&&(b=[!1,-1,-1,0,0,!1,!1,0]);var d=b[c++];a.qd=d;a.I=b[c++];a.K=b[c++];a.F=b[c++];a.H=b[c++];a.M=b[c++];a.N=b[c++];a.A=b[c];a.A&(ps.Zh|ps.Yg)&&(a.A=(a.A&ps.Zh?1048576:0)|(a.A&ps.Yg?16:0));return!0}
m.rj=function(a){this.O=a};function Ns(a){if(!a.P)for(var b=0;b<a.B.length;b++)Qs(a,a.B[b])&&(a.P=!0)}function Os(a){if(a.P)for(var b=0;b<a.B.length;b++){var c=a.B[b];c&&(c.style.cursor="auto")}}function Qs(a,b){return b?(b.addEventListener("mousemove",function(c){Rs(a,c)},!1),b.addEventListener("mousedown",function(c){Rs(a,c,!0)},!1),b.addEventListener("mouseup",function(c){Rs(a,c,!1)},!1),b.style.cursor="none",!0):!1}
function Rs(a,b,c){if(void 0!==c){var d;!(d=!1!==a.O)&&(d=a.D.length)&&(d=a.D[0],d=d.kh?d.wg(!0):!1);d||(a.O=null);a.Ze(b.button,c)}else{if(0>a.I||0>a.K)a.I=b.screenX,a.K=b.screenY;a.O?(c=b.movementX||b.mozMovementX||b.webkitMovementX||0,d=b.movementY||b.mozMovementY||b.webkitMovementY||0):(c=b.screenX-a.I,d=b.screenY-a.K);a.I=b.screenX;a.K=b.screenY;a.Ah(c,d,a.I,a.K)}}
m.Ze=function(a,b){if(this.isActive()){var c="mouse button"+a+" "+(b?"dn":"up");switch(a){case gr.Ne:if(this.M!=b){this.M=b;Ss(this,c);return}break;case gr.Wg:if(this.N!=b){this.N=b;Ss(this,c);return}}this.J("%s: ignored\n",c)}};m.Ah=function(a,b,c,d){this.isActive()&&(a=Math.round(Math.abs(a)*this.L)*Math.sign(a)||Math.sign(a),b=Math.round(Math.abs(b)*this.L)*Math.sign(b)||Math.sign(b),a||b)&&(this.J(67108864,"moveMouse(%s,%s)\n",a,b),this.F=a,this.H=b,Ss(this,null,c,d))};
function Ss(a,b,c,d){var e=64|(a.M?32:0)|(a.N?16:0)|(a.H&192)>>4|(a.F&192)>>6,f=a.F&63,g=a.H&63;a.J(33554433,"%s%sserial packet [%#04x,%#04x,%#04x]\n",b?b+": ":"",void 0!==d?"mouse ("+c+","+d+"): ":"",e,f,g);a.C.df([e,f,g]);a.F=a.H=0}
m.Rw=function(a){var b=1048592==(a&1048592);if(b){if(!this.qd){var c=!1;this.A&16||(this.reset(),this.J("serial mouse reset\n"),c=!0);this.A&1048576||(this.J("serial mouse ID requested\n"),c=!0);c&&(this.C.df([Ts.Jd,Ts.Jd],!0),this.J("serial mouse ID sent\n"));Ns(this);this.qd=b}}else this.qd&&(this.J("serial mouse inactive\n"),Os(this),this.qd=b);this.A=a};m.Uz=function(a,b){w(this,a,void 0,b,"DATA",0);return 0};m.Vz=function(a,b){w(this,a,void 0,b,"TPPI",0);return 0};
m.Tz=function(a,b){w(this,a,void 0,b,"CTRL",0);return 0};m.Sz=function(a,b){w(this,a,void 0,b,"CPPI",0);return 0};m.ZA=function(a,b,c){w(this,a,b,c,"DATA")};m.$A=function(a,b,c){w(this,a,b,c,"TPPI")};m.YA=function(a,b,c){w(this,a,b,c,"CTRL")};m.XA=function(a,b,c){w(this,a,b,c,"CPPI")};
var Js={Nh:"bus",ig:"inport",rr:"serial"},gr={Ne:0,Wg:2},Ls={ea:{R:572},rK:{R:573},Ga:{R:574},bE:{R:575}},Ts={Jd:77},Ks={0:Is.prototype.Uz,1:Is.prototype.Vz,2:Is.prototype.Tz,3:Is.prototype.Sz},Ms={0:Is.prototype.ZA,1:Is.prototype.$A,2:Is.prototype.YA,3:Is.prototype.XA};Vb(function(){for(var a=pc("pcx86","mouse"),b=0;b<a.length;b++){var c=a[b],d=qc(c);d=new Is(d);oc(d,c)}});
function Us(a,b,c){dc.call(this,"Disk",{id:a.pd+".disk"+Xa(++Vs,4)},131072);this.controller=a;this.print=a.print;this.Ea=a.Ea;this.fa=a.fa;this.De=b;this.Tc=b.name;this.gj=b.gj;this.Wk=this.A=!1;this.create(c,b.kb,b.hb,b.ib,b.$b);this.C=[];this.H=[];this.B=null;this.M=0;this.I=!1;this.Au={};Cc(this)}oa(Us,dc);m=Us.prototype;m.bd=function(a,b,c,d){this.fa=d};m.Gc=function(a,b){b||!this.Wk||this.A||(Cc(this,!1),this.load(this.Tc,this.cc,null,this.Jz,this));return!0};m.Jz=function(){Cc(this,!0)};
m.Fc=function(a,b){if(this.A){var c,d=0;if(this.I&&!ic("Disk writes are still in progress, shut down anyway?"))return!1;for(;c=Ws(this,!1);)if(d=c[0]){this.J(274877906944,'Unable to save "%s" (error %d)\n',this.Tc,d);break}b&&this.A&&(b="action=close&volume="+this.cc,b+="&machine="+Xs(this.controller),b+="&user="+Ys(this.controller),sb(wb()+"/api/v1/disk?"+b,null,!0),this.A=!1);!d&&a&&this.J(274877906944,'"%s" saved\n',this.Tc)}return!0};
m.create=function(a,b,c,d,e){this.mode=a;this.kb=b;this.hb=c;this.ib=d;this.$b=e;this.xb=[];if("preload"!=this.mode){this.J(131072,'blank disk for "%s": %d cylinders, %d head(s)\n',this.Tc,this.kb,this.hb);a=Array(this.kb);for(b=0;b<a.length;b++){c=Array(this.hb);for(d=0;d<c.length;d++){e=Array(this.ib);for(var f=1;f<=e.length;f++)e[f-1]=Zs(null,b,d,f,this.$b,"local"==this.mode?0:null);c[d]=e}a[b]=c}this.xb=a}this.F=null};
m.load=function(a,b,c,d,e){var f=b;this.J(131072,'load("%s","%s")\n',a,b);if(this.D)return this.J(131072,'too many load requests for "%s" (%s)\n',a,b),!0;this.Tc=a;this.cc=b;this.Mo=$a(b);this.N="json";var g=this;this.D=d;this.O=e||this.controller;if(c){var h=new FileReader;"application/json"==c.type?(h.onload=function(){$s(g,f,h.result,0)},h.onerror=function(){at(g,null,!1,h.error.message)},h.readAsText(c)):(h.onload=function(){at(g,h.result,!0)},h.onerror=function(){at(g,null,!1,h.error.message)},
h.readAsArrayBuffer(c));return!0}0>b.indexOf("/api/v1/dump")&&(a=ab(b),"json"!=a&&"gz"!=a&&("demandrw"==this.mode||"demandro"==this.mode?(f=bt(this,b),this.Wk=!0):this.N="arraybuffer"));var k="Loading "+f+"...";return!!sb(f,this.N,!0,function(l,p,n){$s(g,l,p,n)},function(){g.J(4398046511104,"%s\n",k)})};
function at(a,b,c,d){var e=0,f=null;b&&(e=b.byteLength,f=new DataView(b,0,e));b=0;f&&1397375824==f.getUint32(409,!0)&&(b=f.getUint16(414,!0));if(b)a.kb=b,a.hb=f.getUint8(416),a.ib=f.getUint8(428),a.$b=512;else if(b=Ia[e])b[0]<=a.kb&&b[1]<=a.hb?(a.kb=b[0],a.hb=b[1],a.ib=b[2],a.$b=b[3]||512):a.kb=0;if(f&&a.kb){d=0;e=a.$b>>2;var g=0;a.xb=Array(a.kb);for(b=0;b<a.xb.length;b++)for(var h=a.xb[b]=Array(a.hb),k=0;k<h.length;k++)for(var l=h[k]=Array(a.ib),p=0;p<l.length;p++){for(var n=Zs(null,b,k,p+1,a.$b,
0),q=n[ct.ea],u=0;u<e;u++,d+=4){var y=q[u]=f.getInt32(d,!0);g=g+y&-1}c&&(n.Sd=e);l[p]=n}a.F=g;g=a}else a.J(274877906944,"%s\n",d||"Unrecognized disk format ("+e+" bytes)");a.D&&(a.D.call(a.controller,a.De,g,a.Tc,a.cc),a.D=null)}
function $s(a,b,c,d){var e=null;a.wh=!1;var f=0>d&&a.Ea&&!a.Ea.flags.Hc?137438953472:274877906944;if(a.Wk)d?a.J(f,'Unable to connect to disk "%s" (error %d: %s)\n',a.cc,d,c):(e=a,a.J(131072,'doneLoad("%s")\n',a.cc),a.A=!0);else if(d)a.J(f,'Unable to load disk "%s" (error %d: %s)\n',a.Tc,d,b);else{a.J(131072,'doneLoad("%s")\n',a.cc);if("string"!=typeof c){at(a,c);return}try{if(0<$a(a.Mo,!0).toLowerCase().indexOf("-readonly"))a.wh=!0;else{var g=c.indexOf("\n");0<g&&1024>g&&0<c.substring(0,g).indexOf("write-protected")&&
(a.wh=!0)}if("<"==c.charAt(0))var h=["Missing disk image: "+a.Tc];else if("{"==c[0]){var k=JSON.parse(c);h=k.diskData;var l=k.fileTable;var p=k.imageInfo}else h=0>c.indexOf("0x")&&'["'!=c.substr(0,2)?JSON.parse(c.replace(/([a-z]+):/gm,'"$1":').replace(/\/\/[^\n]*/gm,"")):eval("("+c+")");if(h.length)if(1==h.length)hc(h[0]);else{a.kb=h.length;a.hb=h[0].length;a.ib=h[0][0].length;var n=h[0][0][0];a.$b=n&&(n[ct.ie]||n.length)||512;for(g=f=0;g<a.kb;g++)for(k=0;k<a.hb;k++)for(var q=0;q<a.ib;q++)if(n=h[g][k][q]){var u=
n[ct.Jd];void 0==u&&(u=n.sector,n[ct.Jd]=u,delete n.sector);var y=n[ct.ie];void 0==y&&(y=n.length||512,n[ct.ie]=y,delete n.length);var N=n.pattern;void 0==N?N=0:delete n.pattern;var E=n[ct.ea];if(void 0==E)if(E=n.data,void 0!=E)n[ct.ea]=E,delete n.data;else{var G=n.bytes;if(void 0!==G&&G.length){for(var K=G.length;K<y;K++)G[K]=N;a.fill(n,G,0)}else n[ct.ea]=E=[],G&&(N=N|N<<8|N<<16|N<<24);delete n.bytes}else E.length<y>>2&&(N=E[E.length-1],E.length&&E.length--);Zs(n,g,k,u,a.$b,N);for(var B=0;B<E.length;B++)f=
f+E[B]&-1}a.xb=h;a.F=f;a.L=p;dt(a,l);e=a}else hc("Empty disk image: "+a.Tc)}catch(qa){hc("Disk image error ("+b+"): "+qa.message),c=null}c&&fc(a.controller.pd,b,c)}a.D&&(a.D.call(a.O,a.De,e,a.Tc,a.cc,d),a.D=null)}
function dt(a,b){if(b){var c=a.xb;a.K=[];for(var d=0;d<c.length;d++)for(var e=0;e<c[d].length;e++)for(var f=0;f<c[d][e].length;f++){var g=c[d][e][f];if(g){var h=g[ct.pq];if(void 0!=h){var k=a.K[h];k||(k=b[h],k=new et(a,k.path,$a(k.path),+k.Tr,k.size||0,k.module),a.K[h]=k);g.file=k;g.UK=g[ct.qq]}delete g[ct.pq];delete g[ct.qq]}}}}function ft(a,b){b&&b.file&&(b=b.file.module)&&(a.Au[b.name]=b)}function gt(a,b){var c=a.hb*a.ib,d=b/c|0;return d<a.kb?(b%=c,a.seek(d,b/a.ib|0,b%a.ib+1)):null}
function Zs(a,b,c,d,e,f){a?(a[ct.Sj]=b,a[ct.mi]=c):(a={},a=(a[ct.Sj]=b,a[ct.mi]=c,a[ct.Jd]=d,a[ct.ie]=e,a[ct.ea]=[],a));a[ct.sf]=f;a.Ge=a.Sd=0;a.Uk=!1;return a}function bt(a,b){b="action=open&volume="+b+("&mode="+a.mode);b+="&chs="+a.kb+":"+a.hb+":"+a.ib+":"+a.$b;b+="&machine="+Xs(a.controller);b+="&user="+Ys(a.controller);return wb()+"/api/v1/disk?"+b}
function ht(a,b,c,d,e,f,g){a.J(2199023255552,"readRemoteSectors(CHS=%d:%d:%d,N=%d)\n",b,c,d,e);if(a.A){var h="action=read&volume="+a.cc;h+="&chs="+a.kb+":"+a.hb+":"+a.ib+":"+a.$b;h=h+("&addr="+b+":"+c+":"+d+":"+e)+("&machine="+Xs(a.controller));h+="&user="+Ys(a.controller);sb(wb()+"/api/v1/disk?"+h,null,f,function(k,l,p){k=[b,c,d,e,f,g];var n=!1,q=k[0],u=k[1],y=k[2],N=k[3];if(p)a.J(2199023255552,"doneReadRemoteSectors(CHS=%d:%d:%d,N=%d) returned error %d\n",q,u,y,N,p);else{l=JSON.parse(l);for(n=0;N--;){var E=
a.seek(q,u,y,null,!0);if(!E){a.J(2199023255552,"doneReadRemoteSectors(): seek(CHS=%d:%d:%d) failed\n",q,u,y);break}a.fill(E,l,n);n+=E[ct.ie];y++}n=k[4]}(k=k[5])&&k(p,n)})}else g&&g(-1,!1)}
function it(a,b,c,d,e,f,g){a.J(2199023255552,"writeRemoteSectors(CHS=%d:%d:%d,N=%d)\n",b,c,d,e);if(a.A){var h={};a.I=!0;h.action="write";h.volume=a.cc;h.chs=a.kb+":"+a.hb+":"+a.ib+":"+a.$b;h.addr=b+":"+c+":"+d+":"+e;h.machine=Xs(a.controller);h.user=Ys(a.controller);h.data=JSON.stringify(f);sb(wb()+"/api/v1/disk",h,g,function(k,l,p){var n=[b,c,d,e,g];k=n[0];l=n[1];var q=n[2],u=n[3];n=n[4];a.I=!1;if(0<=k&&k<a.xb.length&&0<=l&&l<a.xb[k].length)for(--q;0<u--&&0<=q&&q<a.xb[k][l].length;q++){var y=a.xb[k][l][q];
p?(a.J(2199023255552,"doneWriteRemoteSectors(CHS=%d:%d:%d) returned error %d\n",k,l,y[ct.Jd],p),jt(a,y,!1)):y.Uk||(y.Ge=y.Sd=0)}n&&kt(a)})}return!1}function jt(a,b,c){b.Uk=!0;var d=a.C.indexOf(b);0<=d&&(a.C.splice(d,1),a.H.splice(d,1));a.C.push(b);a.H.push(gc());a.J(2199023255552,"queueDirtySector(CHS=%d:%d:%d): %d dirty\n",b[ct.Sj],b[ct.mi],b[ct.Jd],a.C.length);c&&kt(a)}
function kt(a){if(a.C.length){var b=a.H[0]+lt;a.B&&a.M<b&&(clearTimeout(a.B),a.B=null);if(!a.B){var c=gc();b-=c;0>b&&(b=0);b>lt&&(b=lt);a.B=setTimeout(function(){Ws(a,!0)},b);a.M=c+b}}else a.B&&(clearTimeout(a.B),a.B=null)}
function Ws(a,b){b&&(a.B=null);var c=a.C[0];if(c){var d=c[ct.Sj],e=c[ct.mi];c=c[ct.Jd];for(var f=0,g=[],h=c-1;h<a.xb[d][e].length;h++){var k=a.xb[d][e][h];if(!k.Uk)break;var l=a.C.indexOf(k);a.J(2199023255552,"findDirtySectors(CHS=%d:%d:%d)\n",d,e,k[ct.Jd]);a.C.splice(l,1);a.H.splice(l,1);l=g.concat;var p=k[ct.ie],n=Array(p),q=0;p>>=2;for(var u=k[ct.ea],y=k[ct.sf],N=0;N<p;N++){var E=N<u.length?u[N]:y;n[q++]=E&255;n[q++]=E>>8&255;n[q++]=E>>16&255;n[q++]=E>>24&255}g=l.call(g,n);k.Uk=!1;f++}a=it(a,d,
e,c,f,g,b);return b||a}return!1}m.info=function(){return this.xb.length?[this.xb.length,this.xb[0].length,this.xb[0][0].length,this.xb[0][0][0][ct.ie]]:[0,0,0,0]};
m.seek=function(a,b,c,d,e,f){var g=null,h=this.De,k=this.xb[a];if(k){var l,p=k[b];if(!p&&h.wn&&2>b){p=Array(h.bg);for(l=0;l<p.length;l++)p[l]=Zs(null,a,b,l+1,h.Bb,0);b<h.hb&&(k[b]=p,this.hb=b+1)}if(p){for(l=0;l<p.length;l++)if(p[l]&&p[l][ct.Jd]==c){g=p[l];if(d&&d==g)for(d=l,k=void 0;;){++d>=p.length&&(d=0);k=p[d];if(!k||k==g)break;if(k[ct.Jd]==c){g=k;l=d;break}}if(null===g[ct.sf])if(e)g[ct.sf]=0;else{for(e=1;++l<p.length;)null===p[l][ct.sf]&&e++;ht(this,a,b,c,e,null!=f,function(n,q){n&&(g=null);f&&
f(g,q)});return f?null:g}break}!g&&h.wn&&9==h.Ya&&(g=p[l]=Zs(null,a,b,h.Ya,h.Bb,0),this.ib<h.Ya&&(this.ib=h.Ya))}}f&&f(g,!1);ft(this,g);return g};m.fill=function(a,b,c){for(var d=a[ct.ie]>>2,e=Array(d),f=0;f<d;f++)e[f]=b[c]|b[c+1]<<8|b[c+2]<<16|b[c+3]<<24,c+=4;a[ct.ea]=e};m.read=function(a,b){var c=-1;if(a&&b<a[ct.ie]){c=a[ct.ea];var d=b>>2;c=(d<c.length?c[d]:a[ct.sf])>>((b&3)<<3)&255}return c};
m.write=function(a,b,c){if(this.wh)return!1;if(b<a[ct.ie]){if(c!=this.read(a,b,!0)){var d=a[ct.ea],e=a[ct.sf],f=b>>2;b=(b&3)<<3;for(var g=d.length;g<=f;g++)d[g]=e;a.Sd?f<a.Ge?(a.Sd+=a.Ge-f,a.Ge=f):f>=a.Ge+a.Sd&&(a.Sd+=f-(a.Ge+a.Sd)+1):(a.Ge=f,a.Sd=1);d[f]=d[f]&~(255<<b)|c<<b;this.A&&jt(this,a,!0)}return!0}return null};
function mt(a){for(var b=[],c=0,d;d=gt(a,c++);)for(var e=0,f=d[ct.ie];e<f;e++){for(var g=b,h=g.push,k=a,l=d,p=e,n=1,q=0,u=0;n--;){var y=k.read(l,p++);if(0>y)break;q|=y<<u;u+=8}h.call(g,q)}return new Uint8Array(b)}
m.save=function(){var a=0,b=[];b[a++]=[this.cc,this.F,this.kb,this.hb,this.ib,this.$b];if(!this.A&&!this.wh)for(var c=this.xb,d=0;d<c.length;d++)for(var e=0;e<c[d].length;e++)for(var f=0;f<c[d][e].length;f++){var g=c[d][e][f];if(g&&g.Sd){for(var h=[],k=0,l=g.Ge,p=g.Ge+g.Sd;l<p;)h[k++]=g[ct.ea][l++];b[a++]=[d,e,f,g.Ge,h]}}this.J(2199023255552,'save("%s"): saved %d change(s)\n',this.Tc,b.length-1);return b};
m.restore=function(a){var b=0,c="unsupported restore format";if(a&&0<a.length){var d=0,e=a[d++];e&&2<=e.length&&(!this.xb.length&&6<=e.length?this.create("local",e[2],e[3],e[4],e[5]):null!=e[0]&&null!=e[1]&&null!=this.F&&e[1]!=this.F&&(c="original checksum ("+e[1]+") differs from current checksum ("+this.F+")",b=-2));for(this.xb.length||(b=-1);d<a.length&&0<=b;){var f=0,g=a[d++],h=g[f++],k=g[f++],l=g[f++];if(h>=this.xb.length||k>=this.xb[h].length||l>=this.xb[h][k].length){c="sector (CHS="+h+":"+
k+":"+l+") out of range ("+b+" changes applied)";b=-1;break}if(this.wh){c="unable to modify write-protected disk";b=-1;break}e=g[f++];f=g[f++];g=e+f.length;if(h=this.xb[h][k][l]){for(k=h[ct.ea].length;k<e;)h[ct.ea][k++]=h[ct.sf];k=0;h.Ge=e;for(h.Sd=f.length;e<g;)h[ct.ea][e++]=f[k++];b++}}}0>b?-2!=b&&this.J(274877906944,'Unable to restore disk "%s": %s\n',this.Tc,c):(this.J(2199023255552,'restore("%s"): restored %d change(s)\n',this.Tc,b),dt(this));return b};
function nt(a){for(var b=0,c;c=gt(a,b++);)ot(c);a=JSON.stringify(a.xb,function(d,e){if("file"!=d)return e});a=a.replace(/,"length":512/g,"").replace(/,"data":\[]/g,"");a=a.replace(/"(c|h|s|l|d|sector|length|data|pattern)":/g,"$1:");a=a.replace(/,"[^"]*":([0-9]+|true|false)/g,"");return a=a.replace(/(c|h|s|l|d|sector|length|data|pattern):/g,'"$1":')}function ot(a){var b=a[ct.ea],c=b.length;if(c<<2==a[ct.ie]){for(var d=c-1,e=b[d],f=0;d--&&b[d]===e;)f++;f++&&(b.length=c-f,a[ct.sf]=e)}}
var ct={Sj:"c",mi:"h",Jd:"s",ie:"l",ea:"d",pq:"f",qq:"o",sf:"pattern",BE:"dataCRC",CE:"dataError",GE:"dataMark",NF:"headCRC",OF:"headError"},lt=2E3,Vs=0;function et(a,b,c,d,e,f){this.ua=a;this.path=b;this.name=c;this.Tr=d;this.size=e;this.module=f}
function pt(a){dc.call(this,"FDC",a,32768);this.dmaRead=pt.prototype.Sw;this.dmaWrite=pt.prototype.Tw;this.dmaFormat=pt.prototype.Fz;this.L=null;this.D=a.diskettes;this.ka=a.server||"";this.rh=!1!==a.boot;this.O=a.drives;this.P=qt(a.autoMount);this.U=a.sortBy||"name";"none"==this.U&&(this.U=null);this.H=[];this.X=!Lb()&&"FileReader"in r;this.ba=null;this.hg={};this.K=null;this.Z=!1;this.exports={loadDisk:this.jl,wait:this.dC}}var rt,st;oa(pt,dc);m=pt.prototype;
m.Sb=function(a,b,c){var d=this;switch(b){case "listDisks":return this.oa[b]=c,c.onchange=function(){tt(d)},!0;case "descDisk":case "listDrives":return this.oa[b]=c,c.onchange=function(){var e=Ra(c.value,10);null!=e&&ut(d,e,!0)},!0;case "loadDisk":return this.oa[b]=c,c.onclick=function(){if(d.K){var e=d.hg[d.K];e.controller.jl(e.De.eb,e.Cn)}else d.jl()},!0;case "saveDisk":if(!this.X){c.parentNode.style.display="none";break}this.oa[b]=c;c.onclick=function(){var e=d.oa.listDrives;e&&e.options&&d.A&&
((e=d.A[Ra(e.value,10)||0])?(e=e.ua)?(e=Rb(mt(e),"octet-stream",!0,e.Mo.replace(".json",".img")),vb(e)):d.J(274877906944,"No diskette loaded in drive\n"):d.J(274877906944,"No diskette drive selected\n"))};return!0;case "mountDisk":if(this.X)return this.oa[b]=c,c.onchange=function(){var e=c.children[0];e.children[1].disabled=!e.children[0].files.length},c.onsubmit=function(e){if(e=e.currentTarget[1].files[0]){var f=e.name;vt(d,$a(f,!0),f,e)}return!1},!0;c.parentNode.removeChild(c)}return!1};
m.bd=function(a,b,c,d){this.ra=b;this.G=c;this.fa=d;this.Ea=a;if(c=Be(a,"floppyDrives"))"string"==typeof c?this.O=c:(this.L=c,this.O="");if(this.O)try{this.L=eval("("+this.O+")"),this.O=""}catch(p){hc("FDC drive configuration error: "+p.message+" ("+this.O+")")}this.V=Yc(a,"ChipSet");this.P=qt(Be(this.Ea,"autoMount"),this.P);this.ia=Yc(a,"Panel",!1);wt(this);Qd(b,this,rt);Td(b,this,st);if((this.D=Be(this.Ea,"diskettes")||this.D)&&"string"==typeof this.D){var e=this,f=yb(),g=xt(e),h=e.D.split(","),
k=0,l=0;for(a=0;a<h.length;a++)"localhost"!=f&&0<=h[a].indexOf("private")&&h.splice(a--,1);e.D=[];a={};for(b=0;b<h.length;a={ou:void 0},b++)c=h[b],a.ou="Loading "+c+"...",sb(c,"json",!0,function(p,n,q){var u=0<=p.indexOf("private");if(n&&!q)try{Jc(e.D,JSON.parse(n),"/pcx86",e.ka,f,g),l++}catch(y){u&&"<"==n[0]||e.J(549755813888,"Unable to parse %s: %s\n",p,y.message)}else u||e.J(549755813888,"Unable to open %s (%d)\n",p,q);++k==h.length&&yt(e,!l)},function(p){return function(){e.J(4398046511104,"%s\n",
p.ou)}}(a))}else yt(this)};m.Hh=function(a){this.ia&&this.ia.Hh("fdcState",a)};function qt(a,b){if(a){if("string"==typeof a)try{a=eval("("+a+")")}catch(e){hc("FDC auto-mount error: "+e.message+" ("+a+")"),a={}}}else a={};if(b)for(var c in b)a[c]||(a[c]=b[c]);for(var d in a)b=a[d],"string"==typeof b&&(a[d]={name:b});return a}m.Gc=function(a,b){if(!b){if(!a){if(this.reset(!0),this.Ea.X){this.H=[];for(a=0;a<this.A.length;a++)zt(this,a,!0);At(this,!0)}}else if(!this.restore(a))return!1;Bt(this)}return!0};
m.Fc=function(a){return a?this.save():!0};m.reset=function(a){wt(this);a||Bt(this)};
function Bt(a){var b;if(b=a.oa.listDrives){for(;b.firstChild;)b.removeChild(b.firstChild);var c=0;for(b.value="";c<a.ca;){var d=document.createElement("option");d.value=c.toString();d.text=String.fromCharCode(65+c)+":";b.appendChild(d);d=document.createElement("option");d.value=c.toString();d.text=String.fromCharCode(65+c)+"*";d.title="write-protected";b.appendChild(d);c++}for(var e in a.hg)d=document.createElement("option"),d.value=c.toString(),d.text=e,b.appendChild(d),c++;0<a.ca&&(b.value="0",
ut(a,0,!1))}}
m.save=function(){var a=new Wg(this),b=a.set,c=0,d=[];d[c++]=this.eb;d[c++]=0;d[c++]=this.ha;d[c++]=this.F;d[c++]=this.C;d[c++]=this.B;d[c++]=this.N;for(var e=c++,f=0,g=[],h=0;h<this.A.length;h++){var k=f++,l=this.A[h],p=0,n=[];n[p++]=l.zb;n[p++]=[l.name,l.kb,l.hb,l.ib,l.$b,l.gj,l.nl,l.jj,l.kj];n[p++]=l.Ra;n[p++]=l.ag+100;n[p++]=l.Jb;n[p++]=l.Ya;n[p++]=l.bg;n[p++]=l.Bb;n[p++]=l.Za;n[p++]=l.th;n[p++]=l.Tc;n[p++]=l.cc;n[p]=l.Bf;g[k]=n}d[e]=g;e=c++;for(f=0;f<this.A.length;f++)g=this.A[f],g.ua&&Ct(this,
g.cc,g.ua);d[e]=this.H;d[c++]=this.I;d[c]=this.xc;b.call(a,0,d);return a.data()};m.restore=function(a){return wt(this,a[0])};
function wt(a,b){var c=0,d=!0;b||(b=[0,0,Dt.hy,Array(9),0,0,0,[]]);a.eb=b[c++];c++;a.ha=b[c++];a.F=b[c++];a.C=b[c++];a.B=b[c++];a.N=b[c++];var e=b[c++];var f=b[c++];null!=f&&(a.H=f);a.ca=a.L?a.L.length:a.V?+ag(a.V,bg.mf):4;void 0===a.A&&(a.A=Array(4));for(f=0;f<a.A.length;f++){var g=!1,h=a.A[f];if(void 0===h){g=!0;h=a.A[f]={};if(a.V)a:{var k=a.V;if(f<+ag(k,bg.mf)){if(!k.N){k=360;break a}if(f<k.N.length){k=k.N[f];break a}}k=0}else k=0;switch(k){case 160:case 180:h.hb=1;default:h.kb=40;h.ib=9;break;
case 720:h.kb=80;h.ib=9;break;case 1200:h.kb=80;h.ib=15;break;case 1440:h.kb=80,h.ib=18}}k=a;var l=f,p=a.L?a.L[f]:null,n=e[f],q=g,u=0;g=!0;h.eb=l;h.ug=h.th=!1;h.yh=null;var y=p&&p.heads;h.rh=p&&p.boot;null==h.rh&&(h.rh=k.rh);q&&(h.Bf=!0,y&&k.J(137438953472,"drive %d configured with %d head%s\n",l,y,1<y?"s":""),h.rh||k.J(137438953472,"drive %d configured as non-bootable\n",l));void 0===n&&(n=[Et.Wa.ze,!0,0,y||2,0]);"boolean"==typeof n[1]&&(n[1]=[Ft,h.kb||40,h.hb||n[3],h.ib||9,h.$b||512,n[1],h.nl,h.jj,
h.kj]);h.zb=n[u++];p=n[u++];h.name=p[0];h.kb=p[1];h.hb=p[2];h.ib=p[3];h.$b=p[4];h.gj=p[5];(h.nl=p[6])?(h.jj=p[7],h.kj=p[8]):(h.nl=h.kb,h.jj=h.hb,h.kj=h.ib);h.Ra=n[u++];h.ag=n[u++];h.Jb=n[u++];h.ag=100<=h.ag?h.ag-100:h.ag-h.Jb;h.Ya=n[u++];h.bg=n[u++];h.Bb=n[u++];h.Za=n[u++];h.nb=null;h.Dl=null;h.ua||(h.cc="");y=n[u++];102==y&&(y=!1);"boolean"==typeof y?(q=n[u++],p=n[u++],null!=n[u]&&(h.Bf=n[u]),y?(n=q,u=p,p=k.A[l],zt(k,l,!0,!0),p.th=!0,l=new Us(k,p,"preload"),Gt(k,p,l,n,u)):Ht(k,l,q,p,!0)?h.ua&&p&&
It(k,q,p,h.ua):Cc(k,!1)):void 0!==y&&h.ua&&0>h.ua.restore(y)&&(g=!1);g&&h.ua&&void 0!==h.Za&&(h.nb=h.ua.seek(h.Jb,h.Ra,h.Ya));g||(d=!1)}a.I=b[c++]||0;a.xc=b[c]||Jt.dr;a.J("FDC initialized for %d drive(s)\n",a.A.length);return d}function xt(a){for(var b=[0,0],c=0;c<a.A.length;c++){var d=a.A[0];if(b[0]>d.hb||!b[0])b[0]=d.hb;if(b[1]>d.kb||!b[1])b[1]=d.kb}return b}m.es=function(a){a=this.A[a];if(void 0!==a){var b={};for(var c in a)b[c]=a[c]}return b};
m.pu=function(a,b,c){if(a.ua){var d=a.ua.info(),e=d[2],f=d[1]*e;if(b+c<=d[0]*f)return a.Jb=Math.floor(b/f),b%=f,a.Ra=Math.floor(b/e),a.Ya=b%e+1,a.Bb=c*d[3],a.zb=Et.Wa.NONE,!0}return!1};
function At(a,b){b||(a.M=0);for(var c in a.P){var d=a.P[c],e;if(!(e=d.path))a:{e=a;var f=d.name;if(f&&"None"!=f){var g=e.oa.listDisks;if(g){if(g.options)for(var h=0;h<g.options.length;h++){var k=g.options[h];if(k.text==f){e=k.value;break a}}}else if(e.D)for(g=0;g<e.D.length;g++)if(h=e.D[g],h.name==f){e=h.path;break a}e.J(274877906944,'Unable to find diskette "%s"\n',f)}e=""}e&&(f=c.charCodeAt(0)-65,0<=f&&f<a.A.length?!Ht(a,f,d.name||Kt(a,e)||$a(e,!0),e,!0)&&b&&Cc(a,!1):a.J(274877906944,"Incorrect auto-mount settings for drive %s (%s)\n",
c,JSON.stringify(d)))}return!!a.M}m.jl=function(){var a=pa.apply(0,arguments),b=this.oa.listDisks;if(b){var c=b.options[b.selectedIndex].text;b=b.value;this.Z="scroll"==a[0];return vt(this,c,b)}return!1};
function vt(a,b,c,d){var e,f=a.oa.listDrives;if(f&&!isNaN(e=Ra(f.value,10))&&0<=e&&e<a.A.length){if(!c)return zt(a,e),!0;if("?"==c)return a.J(274877906944,'Use "Choose File" and "Mount" to select and load a local disk\n'),!1;if("??"==c){c="";r.prompt&&(c=r.prompt("Enter the URL of a remote disk image.","")||"");if(!c)return!1;b=$a(c);a.J(2199023255552,'Attempting to load %s as "%s"\n',c,b)}for(;0>Ht(a,e,b,c,!1,d);){if(!("localhost"==yb()||r.confirm&&r.confirm("Click OK to reload the original disk and discard any changes.")))return a.J(2199023255552,
"load cancelled\n"),!1;var g=a,h=c;for(f=0;f<g.H.length;f++)if(g.H[f][1]==h){g.H.splice(f,1);break}zt(a,e,!1,!0)}return!0}a.J(274877906944,"Unable to load the selected drive\n");return!1}
function Ht(a,b,c,d,e,f){function g(l,p,n,q){Gt(a,l,p,n,q)}var h=-1,k=a.A[b];if(!k)h=15;else if(d&&(d=zb(d),k.cc.toUpperCase()!=d.toUpperCase())){h=1;zt(a,b,e,!0);if(k.ug)return a.J(274877906944,"Drive %d busy\n",b),0;k.ug=!0;e&&(k.qh=!0,a.M++,a.J('loading diskette "%s"\n',c));k.th=!!f;(new Us(a,k,"preload")).load(c,d,f,g)||(h=0)}return h}
function Gt(a,b,c,d,e){b.ug=!1;if(c){var f=c.info();if(c&&f[0]>b.kb||f[1]>b.hb)a.J(274877906944,'Diskette "%s" too large for drive %s\n',d,String.fromCharCode(65+b.eb)),c=null}c?(b.ua=c,b.Tc=d,b.cc=e,Kt(a,e)||Lt(a,d,e),It(a,d,e,c),f=c.info(),a.I|=Mt.mm,b.yh||a.J(137438953472,'Mounted "%s" (format %s) in drive %s\n',d,c.L&&c.L.format||"unknown",String.fromCharCode(65+b.eb)),b.nl=f[0],b.jj=f[1],b.kj=f[2],a.Ea&&a.Ea.Ed(a.Z)):b.th=!1;b.qh&&(b.qh=!1,--a.M||Cc(a));ut(a,b.eb);b.yh&&(b.yh(),b.yh=null);a.Z=
!1}function Lt(a,b,c,d){if((a=a.oa.listDisks)&&a.options){for(var e=0;e<a.options.length;e++)if(a.options[e].value==c)return;e=document.createElement("option");e.text=b;e.value=c;d&&a.childNodes[0]?a.insertBefore(e,a.childNodes[0]):a.appendChild(e)}}
function yt(a,b){if(a.D)for(var c=0;c<a.D.length;c++){var d=a.D[c];Lt(a,d.name,d.path)}if(a.U){d=[];var e=a.oa.listDisks;if(e){for(c=0;c<e.options.length;c++)d.push(e.options[c]);d.sort(function(f,g){return"path"!=a.U?f.text.localeCompare(g.text):f.value.localeCompare(g.value)});for(c=0;c<d.length;c++)try{e.options[c]=d[c]}catch(f){break}}}Lt(a,"None","",!0);a.X&&Lt(a,"Local Disk","?");Lt(a,"Remote Disk","??");!b&&At(a)||Cc(a)}
function Kt(a,b){var c=a.oa.listDisks;if(c){if(c.options)for(a=0;a<c.options.length;a++){var d=c.options[a];if(d.value==b)return d.text}}else if(a.D)for(c=0;c<a.D.length;c++)if(d=a.D[c],d.path==b)return d.name;return null}
function ut(a,b,c){var d=a.oa.listDrives;if(d&&d.options&&(d=d.options[d.selectedIndex])){var e=d.textContent;var f=a.oa.listDisks;if(a.hg[e]){if(!a.K){var g=a.hg[e].Cn;a.K=e}e=a.hg[e].De}else a.K&&(g=f,f=a.hg[a.K].Cn,a.K=null),e=a.A[b]}if(f&&g){d=g.nextSibling;var h=g.parentNode;d===f?h.insertBefore(f,g):(f.parentNode.insertBefore(g,f),d?h.insertBefore(f,d):h.appendChild(f));g.style.width=f.scrollWidth+"px";f.style.display="none";g.style.display="inline-block";f=g}e?a.ba=e:f=void 0;if(f){g=a.ba;
e=a.oa.listDrives;h=Ra(e.value,10);d=g.th?"?":g.cc;if(!isNaN(h)&&h==b){for(b=0;b<f.options.length;b++)if(f.options[b].value==d){f.selectedIndex!=b&&(f.selectedIndex=b);break}b==f.options.length&&(f.selectedIndex=0)}if(!1===c)for(b=0;b<e.options.length;b++){if(+e.options[b].value==g.eb){e.selectedIndex!=b&&(e.selectedIndex=b);!1===g.Bf&&e.selectedIndex++;break}}else!0===c&&void 0!==g.Bf&&0<=e.selectedIndex&&g.Bf!=!(e.selectedIndex&1)&&(g.Bf=!g.Bf,g.Bf||a.J(274877906944,"Any diskette loaded in this drive will now be write-protected."))}}
function tt(a){var b=a.oa.listDisks,c=a.oa.descDisk,d=b.options[b.selectedIndex];if(c&&d){b={};if(d=d.getAttribute("data-value"))try{b=eval("("+d+")")}catch(e){hc(a.type+" option error: "+e.message)}a=b.desc;void 0===a&&(a="");b=b.href;void 0!==b&&(a='<a href="'+b+'" target="_blank">'+a+"</a>");c.innerHTML=a}}m.dC=function(a){for(var b=0;b<this.A.length;b++){var c=this.A[b];if(c&&c.ug)return c.yh||(c.yh=a),!1}return!0};
function zt(a,b,c,d){var e=a.A[b];e.ua&&(Ct(a,e.cc,e.ua),e.Tc="",e.cc="",e.ua=null,e.th=!1,a.I|=Mt.mm,d||a.J(137438953472,"Drive %s unloaded\n",String.fromCharCode(65+b)),c||d||ut(a,b))}function It(a,b,c,d){var e;for(e=0;e<a.H.length;e++)if(a.H[e][1]==c){d.restore(a.H[e][2]);return}a.H[e]=[b,c,[]]}function Ct(a,b,c){var d;for(d=0;d<a.H.length;d++)if(a.H[d][1]==b){a.H[d][2]=c.save();break}}m.oB=function(a,b,c){w(this,a,b,c,"OUTPUT");b&Nt.Nf?this.N&Nt.Nf||(this.N=b,Ot(this)):wt(this);this.N=b};
m.iA=function(a,b){w(this,a,void 0,b,"DIAG",80);return 80};m.kA=function(a,b){w(this,a,void 0,b,"STATUS",this.ha);return this.ha};m.hA=function(a,b){var c=0;this.C<this.B&&(c=this.F[this.C]);this.N&Nt.Cm&&this.V&&qi(this.V,ri.Wj);v(this)&&w(this,a,void 0,b,"DATA["+this.C+"]",c);++this.C>=this.B&&(this.ha&=~(Dt.ye|Dt.Je),this.C=this.B=0);return c};
m.nB=function(a,b,c){v(this)&&w(this,a,b,c,"DATA["+this.B+"]");this.B<this.F.length&&(this.F[this.B++]=b);a=this.F[0];b=a&Et.za.Ka;if(void 0!==Pt[b]){if(this.B>=Pt[b].Xe){var d=!1;this.C=0;a=Qt(this);c=a&Et.za.Ka;switch(c){case Et.za.gn:Qt(this);Qt(this);Rt(this);break;case Et.za.cn:var e=Qt(this);this.eb=e&3;var f=this.A[this.eb];Rt(this);St(this,(f.zb&Et.Wa.Gy)>>>24);break;case Et.za.wf:var g=sd.ng;case Et.za.ye:case Et.za.Sm:g||(g=sd.Vg);e=Qt(this);b=e>>2&1;this.eb=e&3;f=this.A[this.eb];f.Ra=b;
e=f.Jb=Qt(this);var h=Qt(this);var k=f.Ya=Qt(this);var l=Qt(this);f.Bb=128<<l;f.bg=Qt(this);Qt(this);Qt(this);this.Hh(g);if(f.ua&&15<=f.ua.ib&&this.xc!=Jt.dr)f.zb=Et.Wa.ge|Et.Wa.ak,d=!0;else{if(c!=Et.za.wf)a:{g=f;g.zb=Et.Wa.Nd|Et.Wa.ge;if(g.ua){v(this)&&(d=to(this.V),this.J("%s.doRead(drive=%d,CHS=%d:%d:%d,LBA=%d,addr=%#X,len=%#X)\n",this.Yb,g.eb,g.Jb,g.Ra,g.Ya,g.Jb*g.ua.hb*g.ua.ib+g.Ra*g.ua.ib+g.Ya-1,d[0],d[1]+1));if(g.Ra>g.hb-1){g.zb=Et.Wa.ak|Et.Wa.ge;g=!0;break a}g.nb=null;g.zb=Et.Wa.NONE;if(this.V){if(!g.Jb&&
!g.Ra&&1==g.Ya&&!g.rh&&31744==to(this.V)[0]){g=!1;break a}vo(this.V,uo,this,"dmaRead",g);jo(this.V,uo)}}g=!0}else a:{g=f;g.zb=Et.Wa.Nd|Et.Wa.ge;if(g.ua){v(this)&&(d=to(this.V),this.J("%s.doWrite(drive=%d,CHS=%d:%d:%d,LBA=%d,addr=%#X,len=%#X)\n",this.Yb,g.eb,g.Jb,g.Ra,g.Ya,g.Jb*g.ua.hb*g.ua.ib+g.Ra*g.ua.ib+g.Ya-1,d[0],d[1]+1));if(g.Ra>g.hb-1){g.zb=Et.Wa.ak|Et.Wa.ge;g=!0;break a}if(!g.Bf||g.ua.wh){g.zb=Et.Wa.wx|Et.Wa.ge;g=!0;break a}g.nb=null;g.zb=Et.Wa.NONE;this.V&&(vo(this.V,uo,this,"dmaWrite",g),
jo(this.V,uo))}g=!0}d=g}Tt(this,f,a,b,e,h,k,l);break;case Et.za.Fi:e=Qt(this);this.eb=e&3;f=this.A[this.eb];f.Jb=f.ag=0;f.zb=Et.Wa.pr|Et.Wa.Fr;Rt(this);d=!0;break;case Et.za.dn:f=this.A[this.eb];f.Ra=0;Rt(this);St(this,f.eb|f.Ra<<2|f.zb&Et.Wa.wr);St(this,f.Jb);this.eb=this.eb+1&3;break;case Et.za.pk:e=Qt(this);b=e>>2&1;this.eb=e&3;f=this.A[this.eb];e=f.Jb;h=f.Ra=b;k=f.Ya=1;l=0;f.zb=Et.Wa.NONE;f.ua&&(f.nb=f.ua.seek(f.Jb,f.Ra,f.Ya))?l=f.nb.length>>8:f.zb=Et.Wa.Nd|Et.Wa.ge;Tt(this,f,a,b,e,h,k,l);d=!0;
break;case Et.za.qw:e=Qt(this);b=e>>2&1;this.eb=e&3;f=this.A[this.eb];e=f.Jb;h=f.Ra=b;k=1;l=Qt(this);f.Bb=128<<l;f.bg=Qt(this);Qt(this);f.Vr=Qt(this);g=f;g.zb=Et.Wa.Nd|Et.Wa.ge;g.ua&&(g.nb=null,g.zb=Et.Wa.NONE,this.V&&(g.jh=0,g.me=Array(4),g.wn=!0,g.Pk=0,vo(this.V,uo,this,"dmaFormat",g),jo(this.V,uo),g.wn=!1));Tt(this,f,a,b,e,h,k,l);d=!0;break;case Et.za.Ae:e=Qt(this);this.eb=e&3;f=this.A[this.eb];f.Ra=e>>2&1;e=Qt(this);f.Jb+=e-f.ag;0>f.Jb&&(f.Jb=0);f.Jb>=f.kb&&(f.Jb=f.kb-1);f.ag=e;f.zb=Et.Wa.pr;
f.Jb||(f.zb|=Et.Wa.Fr);Rt(this);d=!0;break;default:this.J("unsupported FDC operation: %02x\n",a)}0<this.B&&(this.ha=this.ha|Dt.ye|Dt.Je);if(!f||f.zb&Et.Wa.Nd&&this.V.model<Vm)d=!1;d&&Ot(this,c==Et.za.pk?16:0)}}else this.J("unsupported FDC command: %02x\n",a)};m.jA=function(a,b){var c=this.I;this.I&=~Mt.mm;w(this,a,void 0,b,"INPUT",c);return c};m.mB=function(a,b,c){w(this,a,b,c,"CONTROL");this.xc=b};
function Tt(a,b,c,d,e,f,g,h){Rt(a);St(a,b.eb|b.Ra<<2|b.zb&Et.Wa.wr);St(a,(b.zb&Et.Wa.Ey)>>>8);St(a,(b.zb&Et.Wa.Fy)>>>16);var k=0;if(e!=b.Jb||f!=b.Ra)k=g=1;c&Et.za.tx&&(f^=k,d||(k=0),g=b.Ya,b.ua&&b.ua.xb&&b.ua.xb[e]&&b.ua.xb[e][f]&&b.ua.xb[e][f][g-1]&&(g=b.ua.xb[e][f][g-1][ct.Jd]));e+=k;St(a,e);St(a,f);St(a,g);St(a,h)}function Qt(a){var b=a.F[a.C];a.C++;return b}function Ot(a,b){a.N&Nt.Cm&&a.V&&si(a.V,ri.Wj,b)}function Rt(a){a.Hh();a.C=a.B=0}function St(a,b){a.F[a.B++]=b}
m.Sw=function(a,b,c){void 0===b||0>b?this.Ag(a,c):c(-1,!1)};m.Tw=function(a,b){return void 0!==b&&0<=b?Ut(a,b):-1};m.Fz=function(a,b){if(void 0!==b&&0<=b)a:if(a.zb)a=-1;else{a.me[a.jh++]=b;if(a.jh==a.me.length){a.Jb=a.me[0];a.Ra=a.me[1];a.Ya=a.me[2];a.Bb=128<<a.me[3];a.jh=0;v(this)&&this.J("%s.writeFormat(drive=%d,CHS=%d:%d:%d,len=%d)\n",this.Yb,a.eb,a.Jb,a.Ra,a.Ya,a.Bb);for(var c=0;c<a.Bb;c++)if(0>Ut(a,a.Vr)){a=-1;break a}a.Pk++}a.Pk>=a.bg&&(b=-1);a=b}else a=-1;return a};
m.Ag=function(a,b){var c=-1,d=null,e=0;if((!a.zb||a.zb==(Et.Wa.Ml|Et.Wa.ge))&&a.ua){do{if(a.nb&&(e=a.Za,0<=(c=a.ua.read(a.nb,a.Za++)))){d=a.nb;break}a.nb=a.ua.seek(a.Jb,a.Ra,a.Ya,a.Dl);if(!a.nb){a.zb=Et.Wa.ak|Et.Wa.ge;break}a.Dl=a.nb;a.nb.dataError&&(a.zb=Et.Wa.Ml|Et.Wa.ge);a.Za=0;Vt(a)}while(1)}b(c,!1,d,e)};
function Ut(a,b){if(a.zb||!a.ua)return-1;do{if(a.nb){if(a.nb.dataError&&a.Za>=a.nb.dataError)break;if(a.ua.write(a.nb,a.Za++,b))break}a.nb=a.ua.seek(a.Jb,a.Ra,a.Ya,a.Dl);if(!a.nb){a.zb=Et.Wa.Ml|Et.Wa.ge;b=-1;break}a.Dl=a.nb;a.Za=0;Vt(a)}while(1);return b}function Vt(a){a.Ya++;a.Ya>=a.kj+1&&(a.Ya=1,a.Ra++,a.Ra>=a.jj&&(a.Ra=0,a.Jb++))}
var Ft="Floppy Drive",Nt={R:1010,cF:3,Nv:0,Ov:1,dF:2,eF:3,Nf:4,Cm:8,uH:16,vH:32,wH:64,xH:128},Dt={R:1012,oD:1,pD:2,qD:4,rD:8,Je:16,HH:32,ye:64,hy:128},Et={R:1013,za:{Sm:2,gn:3,cn:4,wf:5,ye:6,Fi:7,dn:8,GK:9,pk:10,aJ:12,qw:13,Ae:15,oy:17,zJ:25,yJ:29,Ka:31,ZJ:32,bH:64,tx:128},Wa:{NONE:0,Nd:8,tF:16,pr:32,ge:64,ze:192,pG:128,wr:255,MH:256,wx:512,ak:1024,WE:4096,Ml:8192,sF:32768,Ey:65280,LH:65536,NC:131072,xJ:262144,oy:524288,LK:1048576,DE:2097152,fK:4194304,Fy:16711680,$E:50331648,mi:67108864,uK:134217728,
Fr:268435456,xe:536870912,FK:1073741824,xF:-2147483648,Gy:-16777216}},Mt={R:1015,Nv:1,Ov:2,$F:4,aG:8,bG:16,yw:32,IK:64,mm:128},Jt={R:1015,dr:0,QI:2,OI:1,RI:3},Wt={Sm:"READ TRACK",gn:"SPECIFY",cn:"SENSE DRIVE",wf:"WRITE DATA",ye:"READ DATA",Fi:"RECALIBRATE",dn:"SENSE INTERRUPT",pk:"READ ID",pw:"FORMAT",Ae:"SEEK"},Pt={2:{Xe:9,zf:7,name:Wt.Sm},3:{Xe:3,zf:0,name:Wt.gn},4:{Xe:2,zf:1,name:Wt.cn},5:{Xe:9,zf:7,name:Wt.wf},6:{Xe:9,zf:7,name:Wt.ye},7:{Xe:2,zf:0,name:Wt.Fi},8:{Xe:1,zf:2,name:Wt.dn},10:{Xe:2,
zf:7,name:Wt.pk},13:{Xe:6,zf:7,name:Wt.pw},15:{Xe:3,zf:0,name:Wt.Ae}};rt={1009:pt.prototype.iA,1012:pt.prototype.kA,1013:pt.prototype.hA,1015:pt.prototype.jA};st={1010:pt.prototype.oB,1013:pt.prototype.nB,1015:pt.prototype.mB};Vb(function(){for(var a=pc("pcx86","fdc"),b=0;b<a.length;b++){var c=a[b],d=qc(c);d=new pt(d);oc(d,c)}});
function Xt(a){dc.call(this,"HDC",a,65536);this.dmaRead=Xt.prototype.Uw;this.dmaWrite=Xt.prototype.Vw;this.dmaWriteBuffer=Xt.prototype.Gz;this.dmaWriteFormat=Xt.prototype.Hz;this.ka=[];this.Ha=a.drives;this.ca=this.U=!1;this.ba=(a.type||"XT").toUpperCase();0>this.ba.indexOf("XT")&&(this.ca=!0,this.U=0<=this.ba.indexOf("ATAPI"));this.L=this.U?1:0;a=this.ba.slice(-1);"1"==a?this.L=0:"2"==a&&(this.L=1);this.Ba=!Lb()&&"FileReader"in r}var Yt,Zt,$t,au,bu,cu;oa(Xt,dc);m=Xt.prototype;
m.Sb=function(a,b,c){var d=this;switch(b){case "listDisks":this.oa[b]=c;break;case "saveHD0":case "saveHD1":if(this.Ba)return this.oa[b]=c,c.onclick=function(e){return function(){var f=d.A&&d.A[e];if(f&&f.ua){f=f.ua;var g=f.Mo||f.Tc,h=g.lastIndexOf(".");0<=h&&(g=g.substr(0,h));g+=".img";f=Rb(mt(f),"octet-stream",!0,g);vb(f)}else d.J(274877906944,"Hard drive %d is not available.\n",e)}}(+b.slice(-1)),!0;c.parentNode.style.display="none"}return!1};
m.bd=function(a,b,c,d){this.ra=b;this.G=c;this.fa=d;this.Ea=a;d=Be(a,this.L?"cdromDrives":"drives")||this.Ha;if(Array.isArray(d))this.ka=d;else if("string"==typeof d)try{this.ka=eval("("+d+")")}catch(e){hc("HDC drive configuration error: "+e.message+" ("+d+")")}this.V=Yc(a,"ChipSet");this.K=0;this.pa=3;this.ca?(this.L?(Qd(b,this,$t),Td(b,this,cu),b.P[R.ea.Ad]=2,b.V[R.ea.Ad]=2):(Qd(b,this,Zt),Td(b,this,bu),b.P[R.ea.zd]=2,b.V[R.ea.zd]=2),this.K++,this.V&&this.V.model==Vm&&this.K++,this.pa=2):(Qd(b,
this,Yt),Td(b,this,au));Qg(c,19,this.HA.bind(this));Qg(c,64,this.IA.bind(this));this.reset();if((this.Ta=Yc(a,"FDC"))&&this.U&&this.oa.listDisks)for(a=0;a<this.A.length;a++)b=this.A[a],b.type||(this.Ta.hg[b.name]={De:b,controller:this,Cn:this.oa.listDisks});du(this)||Cc(this)};m.Gc=function(a,b){if(!b)if(!a)eu(this),this.Ea.X&&du(this,!0);else if(!this.restore(a))return!1;return!0};m.Fc=function(a){return a?this.save():!0};function Xs(a){return a.Ea?a.Ea.pa:""}
function Ys(a){return a.Ea?a.Ea.D||"":""}m.reset=function(){eu(this,null,!0)};
m.save=function(){var a=new Wg(this),b=a.set,c=0,d=[];this.ca?(d[c++]=this.I,d[c++]=this.ya,d[c++]=this.D,d[c++]=this.ia,d[c++]=this.O,d[c++]=this.N,d[c++]=this.H,d[c++]=this.ha,d[c++]=this.la,d[c++]=[this.P,this.eb]):(d[c++]=this.Z,d[c++]=this.ha,d[c++]=this.F,d[c++]=this.C,d[c++]=this.B,d[c++]=this.xa,d[c++]=this.va,d[c++]=this.ta,d[c++]=this.X);for(var e=0,f=[],g=0;g<this.A.length;g++){var h=e++,k=this.A[g],l=0,p=[];p[l++]=k.errorCode;p[l++]=k.qu;p[l++]=k.gj;p[l++]=k.eh;p[l++]=k.buffer;p[l++]=
k.Ra;p[l++]=k.hb;p[l++]=k.Gd;p[l++]=k.Ya;p[l++]=k.bg;p[l++]=k.Bb;p[l++]=k.Za;p[l]=k.ua?k.ua.save():null;f[h]=p}d[c]=f;b.call(a,0,d);return a.data()};m.restore=function(a){return eu(this,a[0])};
function eu(a,b,c){var d=0,e=!0;a.eb=-1;if(a.ca){if(null==b&&(b=[0,0,0,0,0,0,0,R.ja.xe,0,[0,-1]]),a.I=b[d++],a.ya=b[d++],a.D=b[d++],a.ia=b[d++],a.O=b[d++],a.N=b[d++],a.H=b[d++],a.ha=b[d++],a.la=b[d++],a.P=b[d++],"object"==typeof a.P){var f=a.P;a.P=f[0];a.eb=f[1]}}else null==b&&(b=[0,S.ja.NONE,Array(14),0,0]),a.Z=b[d++],a.ha=b[d++],a.F=b[d++],a.C=b[d++],a.B=b[d++],a.xa=b[d++],a.va=b[d++],a.ta=b[d++],f=b[d++],void 0!==f?a.X=f:void 0===a.X&&(a.X=-1);void 0===a.A&&(a.A=Array(a.ka.length));b=b[d];void 0===
b&&(b=[]);for(d=0;d<a.A.length;d++){void 0===a.A[d]&&(a.A[d]={});f=a.A[d];var g=a,h=d,k=f,l=a.ka[d],p=b[d],n=c,q=0,u=!0;void 0===p&&(p=[S.ea.ec.NONE,0,!1,Array(8)]);k.eb=h;k.errorCode=p[q++];k.qu=p[q++];k.gj=p[q++];k.eh=p[q++];k.buffer=p[q++];k.Ra=p[q++];k.hb=p[q++];k.Gd=p[q++];k.Ya=p[q++];k.bg=p[q++];k.Bb=p[q++];k.Ok=g.ca?0:1;k.name=l.name;void 0===k.name&&(k.name=fu);k.path=k.cc=l.path;k.mode=l.mode||(k.path?"preload":"local");"demandro"!=k.mode&&"demandrw"!=k.mode||Ys(g)||(k.mode="local");k.type=
l.type;if(void 0===k.type||void 0===Oc[g.K][k.type])k.type=g.pa;l=Oc[g.K][k.type];k.ib=l[2]||17;k.$b=k.Ye=l[3]||512;if(n&&g.V){l=g.V;var y=2*g.L+h;var N=k.type;if(l.A){n=null;var E=l.A[x.da.Og];15<N&&(n=N,N=15);y?(E=E&x.Og.Up|N,y=x.da.aw):(E=E&x.Og.Vp|N<<4,y=x.da.$v);N=l;N.A&&(N.A[x.da.Og]=E,Nn(N));null!=n&&l.A&&(l.A[y]=n,Nn(l))}}void 0===k.ua&&(k.ua=null,g.J(137438953472,'Type %d "%s" is fixed disk %d\n',k.type,k.name,h));gu(g,k);k.Za=p[q++];k.nb=null;k.Hf=!1;k.An=[];k.mh=[];k.ua&&(g=p[q],void 0!==
g&&0>k.ua.restore(g)&&(u=!1),u&&void 0!==k.Za&&(k.nb=k.ua.seek(k.Gd,k.Ra,k.Ya+k.Ok)));u||(e=!1);null!=a.Z&&1>=d&&(a.Z|=(f.type&3)<<(1-d<<1))}0<=a.eb&&(a.De=a.A[a.eb]);c&&a.J("HDC initialized for %d drive(s)\n",a.A.length);return e}function hu(a,b){b=void 0===b?a.Bb:b;if(!a.buffer||a.buffer.length<b)a.buffer=Array(b);a.buffer.fill(0,0,b);a.Za=0}m.es=function(a){a=this.A[a];if(void 0!==a){var b={};for(var c in a)b[c]=a[c]}return b};
function gu(a,b,c){if(b){var d=0,e=0;null==c&&((d=b.eh[2])?e=b.eh[0]<<8|b.eh[1]:c=b.type);null==c||d||(d=Oc[a.K][c][1],e=Oc[a.K][c][0]);if(d){(c=Oc[a.K][b.type])&&e!=c[0]&&d!=c[1]&&a.J(274877906944,"Warning: drive parameters (%d,%d) do not match drive type %d (%d,%d)\n",e,d,b.type,c[0],c[1]);if(!b.kb||0>a.ba.indexOf("PCJS"))b.kb=e,b.hb=d;null==b.ua&&(b.ua=new Us(a,b,b.mode))}}}
m.pu=function(a,b,c){if(a.ua){var d=a.ua.info(),e=d[0];if(e){var f=d[2],g=d[1]*f;if(b+c<=e*g)return a.Gd=Math.floor(b/g),b%=g,a.Ra=Math.floor(b/f),a.Ya=b%f,a.Bb=c*d[3],a.errorCode=S.ea.ec.NONE,!0}}return!1};
function du(a,b){b||(a.M=0);for(var c=0;c<a.A.length;c++){var d=a.A[c];if(d.name&&d.cc){if(!(b&&d.ua&&d.ua.Wk||a.U)){var e=a;var f=c,g=d.name;d=d.cc;var h=e.A[f];h.ug?(e.J(274877906944,"Drive %d busy\n",f),e=!0):(h.ug=!0,h.qh=!0,e.M++,e.J('loading "%s"\n',g),f=h.ua||new Us(e,h,h.mode),d=zb(d),f.load(g,d,null,e.Iz),e=!1);!e&&b&&Cc(a,!1)}}else b&&void 0!==d.type&&(d.ua=null,gu(a,d,d.type))}return!!a.M}m.jl=function(a,b){a=this.A[a];a.cc=b.options[b.selectedIndex].value;a.An=[];a.mh=[]};
m.Iz=function(a,b,c){a.ug=!1;if(a.ua=b)if(this.J(a.qh?137438953472:274877906944,'Mounted disk "%s" in drive %s\n',c,String.fromCharCode(67+a.eb)),b=b.info(),b[0]!=a.kb||b[1]!=a.hb||b[2]!=a.ib||b[3]!=a.$b)0==this.ba.indexOf("PCJS")?(a.kb=b[0],a.hb=b[1],a.ib=b[2],a.$b=b[3]):this.J(274877906944,"Warning: disk geometry (%d:%d:%d) does not match %s drive type %d (%d:%d:%d)\n",b[0],b[1],b[2],Nc[this.K],a.type,a.kb,a.hb,a.ib);a.qh&&(a.qh=!1,--this.M||Cc(this))};
m.FA=function(a,b){var c=0;this.C<this.B&&(c=this.F[this.C]);this.V&&qi(this.V,ri.Jk);this.ha&=~S.ja.Am;w(this,a,void 0,b,"DATA["+this.C+"]",c);++this.C>=this.B&&(this.C=this.B=0,this.ha&=~(S.ja.Bq|S.ja.Nh|S.ja.Je));return c};m.FB=function(a,b,c){w(this,a,b,c,"DATA["+this.B+"]");this.B<this.F.length&&(this.F[this.B++]=b);a=this.F[0]!=S.ea.za.yq?6:this.F.length;6==this.B&&(this.ha&=~S.ja.rk);this.B>=a&&(this.ha|=S.ja.Bq,this.ha&=~S.ja.rk,iu(this))};
m.GA=function(a,b){var c=this.ha;w(this,a,void 0,b,"STATUS",c);this.C<this.B&&(this.ha|=S.ja.rk);return c};m.IB=function(a,b,c){w(this,a,b,c,"RESET");this.xa=b;this.V&&qi(this.V,ri.Jk);eu(this)};m.EA=function(a,b){w(this,a,void 0,b,"CONFIG",this.Z);return this.Z};m.HB=function(a,b,c){w(this,a,b,c,"PULSE");this.va=b;this.ha=S.ja.rk|S.ja.Nh|S.ja.Je};m.GB=function(a,b,c){w(this,a,b,c,"PATTERN");this.ta=b};m.Fo=function(a,b,c){w(this,a,b,c,"NOISE")};
function ju(a,b,c){var d=-1,e=a.De;e&&(d=a.Ag(e,function(){}),1==e.Za||e.Za==e.Ye)&&(v(a,65568)&&w(a,b,void 0,c,"DATA["+e.Za+"]",d),1<e.Za&&(e.Bb-=e.Ye,a.D=a.D-1&255,e.Bb>=e.Ye?(a.ha=R.ja.Je,a.Ag(e,function(f){0<=f?(ku(a),a.V&&a.V.model==Vm&&(a.ha=0),a.ha=a.ha|R.ja.xe|R.ja.$g|R.ja.Vh):(a.ha=R.ja.rc,a.I=R.rc.Im)},!1)):(a.ha=R.ja.xe,e.Hf?(a.D=R.Zg.Nm|R.Zg.Mm,ku(a)):a.ha|=R.ja.$g)));return d}m.Dq=function(a,b){return ju(this,a,b)|ju(this,a,b)<<8};
function lu(a,b,c,d){var e=a.De;if(e&&e.Bb>=e.Ye)if(0>mu(a,e,c))a.ha=R.ja.rc,a.I=R.rc.Im;else if(1==e.Za||e.Za==e.Ye)if(v(a,65568)&&w(a,b,c,d,"DATA["+e.Za+"]"),1<e.Za){e.Bb-=e.Ye;a.D=a.D-1&255;a.ha=R.ja.xe|R.ja.$g;if(e.Bb>=e.Ye)a.ha|=R.ja.Vh;else if(e.Hf){nu(a,e);return}ku(a)}}m.Tt=function(a,b,c){lu(this,a,b&255,c);lu(this,a,b>>8&255,c)};m.rs=function(a,b){var c=this.I;w(this,a,void 0,b,"ERROR",c);return c};m.Yt=function(a,b,c){w(this,a,b,c,"WPREC");this.ya=b};
m.ss=function(a,b){var c=this.D;w(this,a,void 0,b,"SECCNT",c);return c};m.Wt=function(a,b,c){w(this,a,b,c,"SECCNT");this.D=b};m.ts=function(a,b){var c=this.ia;w(this,a,void 0,b,"SECNUM",c);return c};m.Xt=function(a,b,c){w(this,a,b,c,"SECNUM");this.ia=b};m.ps=function(a,b){var c=this.O;w(this,a,void 0,b,"CYLLO",c);return c};m.St=function(a,b,c){w(this,a,b,c,"CYLLO");this.O=b};m.os=function(a,b){var c=this.N;w(this,a,void 0,b,"CYLHI",c);return c};m.Rt=function(a,b,c){w(this,a,b,c,"CYLHI");this.N=b};
m.qs=function(a,b){var c=this.H;w(this,a,void 0,b,"DRVHD",c);return c};m.Ut=function(a,b,c){w(this,a,b,c,"DRVHD");this.H=b;this.ha=this.A[this.H&R.Yh.Zp?1:0]?this.ha|R.ja.xe|R.ja.$g:this.ha&~R.ja.xe};m.us=function(a,b){var c=this.ha;w(this,a,void 0,b,"STATUS",c);this.ha&R.ja.xe&&(this.ha&=~R.ja.Je);return c};m.Qt=function(a,b,c){w(this,a,b,c,"COMMAND");this.la=b;this.V&&qi(this.V,ri.Fl+this.L);ou(this)};
m.Vt=function(a,b,c){w(this,a,b,c,"FDR");this.P&R.rm.ze&&!(b&R.rm.ze)&&(this.I=R.Xh.NO_ERROR);this.P=b};
function ou(a){var b=!1,c=!1,d=a.la,e=d&~R.$a.Hy;e==R.$a.kr||e==R.$a.Ae?d=e:e==R.$a.ye||e==R.$a.wf?d&=~(R.$a.Sq|R.$a.qz):e==R.$a.qk&&(d&=~R.$a.Sq);e=a.H&R.Yh.Zp?1:0;var f=a.H&R.Yh.vm,g=a.O|(a.N&R.Av.Ka)<<8,h=a.ia,k=a.D||256;a.eb=-1;a.De=null;a.I=R.rc.NONE;a.ha=R.ja.xe|R.ja.$g;var l=a.A[e];a.J(65569,"%s.doATC(%d,%#04x): %s%s\n",a.Yb,2*a.L+e,d,pu[d],l?"":" (drive "+e+" not present)");if(l){a.eb=e;a.De=l;l.Gd=g;l.Ra=f;l.Ya=h;l.Bb=k*(l.Ye=l.$b);l.nb=null;l.Za=0;l.errorCode=0;l.Hf=!1;switch(d){case R.$a.ze:Xu(a,
l)&&(c=!0);break;case R.$a.kr:b=c=!0;break;case R.$a.xq:case R.$a.wq:if(!Zu(a,l,d))break;case R.$a.ye:l.Hf||a.J(65568,"%s.doATCRead(%d,%d:%d:%d,%d)\n",a.Yb,e,l.Gd,l.Ra,l.Ya,k);a.ha=R.ja.Je;a.Ag(l,function(p){0<=p&&a.V?(ku(a),a.ha=R.ja.xe|R.ja.$g|R.ja.Vh):(a.ha=R.ja.rc,a.I=R.rc.Im)},!1);c=!0;break;case R.$a.sc:hu(l),l.Hf=!0,l.Bb=l.Ye=12,a.D=R.Zg.Mm;case R.$a.wf:l.Hf||a.J(65568,"%s.doATCWrite(%d,%d:%d:%d,%d)\n",a.Yb,e,l.Gd,l.Ra,l.Ya,k);a.ha=R.ja.Vh;c=!0;break;case R.$a.qk:b=c=!0;break;case R.$a.Ae:b=
c=!0;break;case R.$a.Iv:a.I=R.Xh.NO_ERROR;b=c=!0;break;case R.$a.yy:l.hb=f+1,l.ib=k,b=c=!0}c?b&&ku(a):(a.ha=R.ja.rc,a.I=R.rc.jv,v(a)&&a.J("%s.doATC(%#04x): unsupported operation\n",a.Yb,a.la))}}function ku(a){a.V&&(a.P&R.rm.Iw||si(a.V,ri.Fl+a.L,120))}
function iu(a){a.C=0;var b=$u(a),c=b,d=$u(a),e=d&32,f=e>>5,g=d&31,h=$u(a),k=$u(a),l=h<<2&768|k,p=h&63,n=$u(a),q=$u(a),u=a.A[f];u&&(u.Gd=l,u.Ra=g,u.Ya=p,u.Bb=n*u.$b);switch(b){case S.ea.za.sk:av(a,u?u.errorCode:S.ea.ec.Nd);bv(a,d);bv(a,h);bv(a,k);bv(a,S.ea.ja.Yc|e);b=-1;break;case S.ea.za.yq:for(d=0;0<=(b=$u(a));)u&&d<u.eh.length&&(u.eh[d++]=b);u&&gu(a,u);b=S.ea.ja.Yc;u||a.X!=f||(a.X=-1,b=S.ea.ja.rc);av(a,b|e);b=-1;break;case S.ea.za.Rx:case S.ea.za.wv:av(a,S.ea.ja.Yc|e),b=-1}if(0<=b)switch(void 0===
u?b=-1:(u.errorCode=S.ea.ec.NONE,u.qu=0),b){case S.ea.za.My:av(a,S.ea.ja.Yc|e);break;case S.ea.za.Fi:u.$i=q;av(a,S.ea.ja.Yc|e);break;case S.ea.za.qk:av(a,S.ea.ja.Yc|e);break;case S.ea.za.ye:cv(a,u,function(y){av(a,y|e)});break;case S.ea.za.wf:dv(a,u,function(y){av(a,y|e)});break;case S.ea.za.rz:ev(a,u,function(y){av(a,y|e)});break;default:av(a,S.ea.ja.rc|e),v(a)&&a.J("%s.doXTC(%#04x): %d\n",a.Yb,c,0>b?"invalid drive ("+f+")":"unsupported operation")}}
function $u(a){var b=-1,c=a.C;c<a.B&&(b=a.F[a.C++],a.J((0<c?32:0)+65536,"%s.popCmd(%d): %#04x%s\n",a.Yb,c,b,!c&&fv[b]?" ("+fv[b]+")":""));return b}function av(a,b){a.C=a.B=0;void 0!==b&&bv(a,b);a.V&&si(a.V,ri.Jk);a.ha|=S.ja.Am}function bv(a,b){a.F[a.B++]=b}m.Uw=function(a,b,c){void 0===b||0>b?this.Ag(a,c):c(-1,!1)};m.Vw=function(a,b){return void 0!==b&&0<=b?mu(this,a,b):-1};m.Gz=function(a,b){void 0!==b&&0<=b?(a.Za<a.buffer.length?a.buffer[a.Za++]=b:(a.errorCode=S.ea.ec.wi,b=-1),a=b):a=-1;return a};
m.Hz=function(a,b){if(void 0!==b&&0<=b)a:if(a.errorCode)a=-1;else{a.me[a.jh++]=b;if(a.jh==a.me.length){a.Gd=a.me[0];a.Ra=a.me[1];a.Ya=a.me[2];a.Bb=128<<a.me[3];a.jh=0;this.J(65568,"%s.writeFormat(%d:%d:%d:%d)\n",this.Yb,a.Gd,a.Ra,a.Ya,a.Bb);for(var c=0;c<a.Bb;c++)if(0>mu(this,a,a.Vr)){a=-1;break a}a.Pk++}a.Pk>=a.bg&&(b=-1);a=b}else a=-1;return a};
function cv(a,b,c){b.errorCode=S.ea.ec.Nd;a.J(65568,"%s.doRead(%d,%d:%d:%d,%d)\n",a.Yb,b.eb,b.Gd,b.Ra,b.Ya,b.Bb/b.$b|0);if(b.ua&&(b.nb=null,a.V)){b.errorCode=S.ea.ec.NONE;vo(a.V,3,a,"dmaRead",b);jo(a.V,3,function(d){d||b.errorCode!=S.ea.ec.NONE||(b.errorCode=S.ea.ec.Nd);c(b.errorCode?S.ea.ja.rc:S.ea.ja.Yc)});return}c(b.errorCode?S.ea.ja.rc:S.ea.ja.Yc)}
function dv(a,b,c){b.errorCode=S.ea.ec.Nd;a.J(65568,"%s.doWrite(%d,%d:%d:%d,%d)\n",a.Yb,b.eb,b.Gd,b.Ra,b.Ya,b.Bb/b.$b|0);if(b.ua&&(b.nb=null,a.V)){b.errorCode=S.ea.ec.NONE;vo(a.V,3,a,"dmaWrite",b);jo(a.V,3,function(d){d||(b.errorCode==S.ea.ec.NONE&&(b.errorCode=S.ea.ec.Nd),b.errorCode==S.ea.ec.wi&&(b.errorCode=S.ea.ec.NONE));c(b.errorCode?S.ea.ja.rc:S.ea.ja.Yc)});return}c(b.errorCode?S.ea.ja.rc:S.ea.ja.Yc)}
function ev(a,b,c){b.errorCode=S.ea.ec.Nd;hu(b);a.V?(b.errorCode=S.ea.ec.NONE,vo(a.V,3,a,"dmaWriteBuffer",b),jo(a.V,3,function(d){d||b.errorCode!=S.ea.ec.NONE||(b.errorCode=S.ea.ec.Nd);c(b.errorCode?S.ea.ja.rc:S.ea.ja.Yc)})):c(b.errorCode?S.ea.ja.rc:S.ea.ja.Yc)}
m.Ag=function(a,b,c){var d=-1,e=null,f=0;if(a.errorCode)return b&&b(d,!1,e,f),d;var g=!1!==c?1:0;if(a.Hf)return a.Za<a.buffer.length&&(d=a.buffer[a.Za],a.Za+=g,b&&b(d,!1,e,f)),d;if(a.nb&&(f=a.Za,d=a.ua.read(a.nb,a.Za),a.Za+=g,0<=d))return e=a.nb,b&&b(d,!1,e,f),d;if(b){var h=this;if(a.ua)return a.ua.seek(a.Gd,a.Ra,a.Ya+a.Ok,null,!1,function(k,l){(a.nb=k)?(e=k,f=a.Za=0,gv(h,a),d=a.ua.read(a.nb,a.Za),a.Za+=g):a.errorCode=S.ea.ec.wi;b(d,l,e,f)}),d;a.errorCode=S.ea.ec.wi;b(d,!1,e,f)}return d};
function mu(a,b,c){if(b.errorCode)return-1;do{if(b.Hf){if(b.Za<b.buffer.length){b.buffer[b.Za++]=c;break}return-1}if(b.nb&&b.ua.write(b.nb,b.Za++,c))break;b.ua&&b.ua.seek(b.Gd,b.Ra,b.Ya+b.Ok,null,!0,function(d){b.nb=d});if(!b.nb){b.errorCode=S.ea.ec.wi;c=-1;break}b.Za=0;gv(a,b)}while(1);return c}function gv(a,b){b.Ya++;var c=1-b.Ok;b.Ya>=b.ib+c&&(b.Ya=c,b.Ra++,b.Ra>=b.hb&&(b.Ra=0,b.Gd++),a.H=a.H&~R.Yh.vm|b.Ra&R.Yh.vm)}
function Zu(a,b,c){if(a.U){if(b.type&&c==R.$a.xq)return!1;if(!b.type&&c==R.$a.wq)return Xu(a,b),!1;hu(b);a=function(d,e){b.buffer[d]=e&255;b.buffer[d+1]=e>>8&255};c=function(d,e,f){e||(e="");for(var g=0;g<f;g++)b.buffer[d+(g^1)]=(g<e.length?e.charCodeAt(g):32)&255};a(R.fe.Pp.OFFSET,b.type?R.fe.Pp.nw:34176);b.type&&(a(R.fe.Bv,b.kb),a(R.fe.ww,b.hb),a(R.fe.sy,b.$b),a(R.fe.ty,b.ib));c(R.fe.wy,"PCJS-20190528",20);a(R.fe.Tu,3);a(R.fe.BUFFER_SIZE,512);c(R.fe.mw,"0.1",8);c(R.fe.px,"PCJS CD-ROM",40);b.type||
(b.buffer[R.fe.Vu]=11);return b.Hf=!0}return!1}
function nu(a,b){function c(B,qa,Ba,Aa){N++;d(null,B,qa,Ba,Aa)||sb(fb("%s/x%05d",b.cc,B),"arraybuffer",!0,function(Ha,Ua,Pb){Ua&&!Pb?d(Ua,B,qa,Ba,Aa):(E++,--N||e(!1,Pb))})}function d(B,qa,Ba,Aa,Ha){var Ua=b.An[qa];if(!B){if(!Ua)return!1;B=Ua}var Pb=-1;Ua?(Pb=b.mh.indexOf(qa),0<Pb&&b.mh.splice(Pb,1)):b.An[qa]=B;128<=b.mh.length&&b.mh.pop();Pb&&b.mh.unshift(qa);for(B=new Uint8Array(B);Ba<B.byteLength&&Aa--;)k(Ha++,B[Ba++]);--N||e(!0);return!0}function e(B,qa){(void 0===qa?0:qa)?a.ha=R.ja.rc:B?(b.Za=
0,b.Bb=b.Ye=n,a.O=n&255,a.N=n>>8&255,a.ha=a.ha&~R.ja.Je|R.ja.Vh,a.D=R.Zg.Nm):(a.ha=R.ja.xe,a.D=R.Zg.Nm|R.Zg.Mm);ku(a)}function f(B,qa){k(B,qa>>8);k(B+1,qa)}function g(B,qa,Ba){qa||(qa="");for(var Aa=0;Aa<Ba;Aa++)k(B+Aa,Aa<qa.length?qa.charCodeAt(Aa):32)}function h(B,qa,Ba){for(;Ba--;)k(B++,qa)}function k(B,qa){B<n&&(b.buffer[B]=qa&255)}function l(B){B=p(B);B>n&&(B=n);return B}function p(B){return(b.buffer[B]&255)<<8|b.buffer[B+1]&255}var n=b.buffer.length;var q=0;var u;var y=b.buffer[0]&255;a.J(65536,
"%s.packet(%#04x): %s (drive %d)\n",a.Yb,y,hv[y],b.eb);switch(y){case R.sc.$a.zr:y=0;break;case R.sc.$a.sk:n=0;break;case R.sc.$a.zq:n=l(3);k(0,5);k(1,128);k(2,0);k(3,33);k(4,31);h(5,0,3);g(8,"PCJS.ORG",8);g(16,b.name,16);g(32,"1.0",4);break;case R.sc.$a.Vg:q=p(2)<<16|p(4);y=p(7);q<<=11;n=y<<11;hu(b,n);var N=1;var E=0;y=q>>>15;q&=32767;var G=n;for(u=0;0<G;){var K=32768-q;K>G&&(K=G);c(y,q,K,u);u+=K;G-=K;q=0;y++}--N||e(!0);y=-1;break;case R.sc.$a.Ae:q=p(2)<<16|p(4);y=0;break;case R.sc.$a.hr:n=l(7);
q=b.buffer[2]>>0&15;switch(q){case 0:f(0,10);k(2,1);k(3,1);k(4,0);k(5,20);k(6,1);k(7,0);f(8,0);f(10,0);break;default:a.J(65536,"%s.packet(%#04x): unsupported format %d\n",a.Yb,y,q),y=-1}break;case R.sc.$a.br:y=0;break;case R.sc.$a.Lq:n=l(7);K=b.buffer[2]>>0&63;switch(K){case R.sc.Yq.ky:h(0,0,n);f(0,n-2);k(2,1);q=8;k(q,K);k(q+1,n-8-2);break;case R.sc.Yq.Yu:h(0,0,n);f(0,n-2);q=8;k(q,K);k(q+1,n-8-2);k(q+2,8);k(q+4,113);k(q+6,41);f(q+8,5632);f(q+10,2);f(q+12,128);f(q+14,5632);break;default:a.J(65536,
"%s.packet(%#04x): unsupported page code %d\n",a.Yb,y,K),y=-1}break;default:y=-1}0<=y&&e(0<y,0)}function Xu(a,b){return a.U?(a.D=1,a.ia=1,b.type?a.O=a.N=0:(a.O=20,a.N=235),a.H=0,!0):!1}m.HA=function(){var a=this.G.M&255;!(this.G.D>>8)&&128<a&&(this.X=a-128);return!0};m.IA=function(){var a;(a=this.G.D>>8||!this.V)||(a=ri.Wj,a=!(this.V.Ic[a>>3].Ve&1<<(a&7)));return a?!0:!1};
var fu="Hard Drive",R={ea:{zd:496,Ad:368},Xh:{zd:497,Ad:369,NO_ERROR:1,kE:2,JJ:3,oF:4,LI:5},rc:{zd:497,Ad:369,NONE:0,KH:1,QH:2,jv:4,Im:16,nF:64,LC:128},EK:{zd:497,Ad:369},Zg:{zd:498,Ad:370,Mm:1,Nm:2},HJ:{zd:499,Ad:371},uE:{zd:500,Ad:372},Av:{zd:501,Ad:373,Ka:3},Yh:{zd:502,Ad:374,vm:15,Zp:16,TJ:224,SJ:160},ja:{zd:503,Ad:375,rc:1,ga:2,ZD:4,Vh:8,$g:16,DK:32,xe:64,Je:128},$a:{zd:503,Ad:375,Sq:1,qz:2,Hy:15,kr:16,ye:32,wf:48,qk:64,rw:80,Ae:112,Iv:144,yy:145,ze:8,sc:160,xq:161,wq:236},rm:{zd:1014,Ad:886,
Iw:2,ze:4,yw:8,Od:241},fe:{Pp:{OFFSET:0,EC:1,IF:2,$J:4,IH:8,MF:16,aK:32,nw:64,eJ:128,TI:256,SI:512,UI:1024,iJ:2048,gK:4096,tK:8192,CF:16384,GH:32768},Bv:2,VD:4,ww:6,sK:8,sy:10,ty:12,wy:20,Tu:40,BUFFER_SIZE:42,kF:44,mw:46,px:54,XG:94,jF:96,Vu:99,yI:103,ZE:105,FH:106,qE:108,rE:110,tE:112,pE:114,zH:118,AH:119,MG:120,XE:124,YE:125,UE:126,VE:127},sc:{$a:{zr:0,sk:3,zq:18,Vg:40,Ae:43,hr:67,br:69,Lq:90},Yq:{ky:1,Yu:42},zC:{NONE:0,sE:1,YG:2,xG:3},XD:{HE:4}}},S={ea:{R:800,ja:{Yc:0,rc:2,wK:32},za:{My:0,Fi:1,
sk:3,EF:4,qk:5,rw:6,DF:7,ye:8,wf:10,Ae:11,yq:12,bJ:13,$I:14,rz:15,Rx:224,bF:227,wv:228,cJ:229,JK:230},ec:{NONE:0,NH:1,KJ:2,HK:3,Nd:4,PH:6,dK:8,pF:16,mF:17,JH:18,wi:20,Nu:21,lF:24,RC:25,Mu:32,OC:33,Rm:48,HD:49,EI:50,Ka:63},QJ:{xC:128}},ja:{R:801,NONE:0,rk:1,Bq:2,Nh:4,Je:8,Am:32}},pu={8:"Device Reset",16:"Restore (Recalibrate)",32:"Read",48:"Write",64:"Read Verify",80:"Format Track",112:"Seek",144:"Diagnose",145:"Set Parameters",160:"Packet Request",161:"Identify Packet Device",236:"Identify Device"},
hv,iv={};hv=(iv[R.sc.$a.zr]="Test Unit Ready",iv[R.sc.$a.sk]="Request Sense",iv[R.sc.$a.zq]="Inquiry",iv[R.sc.$a.Vg]="Read",iv[R.sc.$a.Ae]="Seek",iv[R.sc.$a.hr]="Read TOC",iv[R.sc.$a.br]="Play Audio",iv[R.sc.$a.Lq]="Mode Sense",iv);
var fv={0:"Test Drive Ready",1:"Recalibrate",3:"Request Sense Status",4:"Format Drive",5:"Read Verify",6:"Format Track",7:"Format Bad Track",8:"Read",10:"Write",11:"Seek",12:"Initialize Drive Characteristics",13:"Read ECC Burst Error Length",14:"Read Data from Sector Buffer",15:"Write Data to Sector Buffer",224:"RAM Diagnostic",227:"Drive Diagnostic",228:"Controller Diagnostic",229:"Read Long",230:"Write Long"};Yt={800:Xt.prototype.FA,801:Xt.prototype.GA,802:Xt.prototype.EA};
Zt={496:Xt.prototype.Dq,497:Xt.prototype.rs,498:Xt.prototype.ss,499:Xt.prototype.ts,500:Xt.prototype.ps,501:Xt.prototype.os,502:Xt.prototype.qs,503:Xt.prototype.us};$t={368:Xt.prototype.Dq,369:Xt.prototype.rs,370:Xt.prototype.ss,371:Xt.prototype.ts,372:Xt.prototype.ps,373:Xt.prototype.os,374:Xt.prototype.qs,375:Xt.prototype.us};au={800:Xt.prototype.FB,801:Xt.prototype.IB,802:Xt.prototype.HB,803:Xt.prototype.GB,807:Xt.prototype.Fo,811:Xt.prototype.Fo,815:Xt.prototype.Fo};
bu={496:Xt.prototype.Tt,497:Xt.prototype.Yt,498:Xt.prototype.Wt,499:Xt.prototype.Xt,500:Xt.prototype.St,501:Xt.prototype.Rt,502:Xt.prototype.Ut,503:Xt.prototype.Qt,1014:Xt.prototype.Vt};cu={368:Xt.prototype.Tt,369:Xt.prototype.Yt,370:Xt.prototype.Wt,371:Xt.prototype.Xt,372:Xt.prototype.St,373:Xt.prototype.Rt,374:Xt.prototype.Ut,375:Xt.prototype.Qt,886:Xt.prototype.Vt};Vb(function(){for(var a=pc("pcx86","hdc"),b=0;b<a.length;b++){var c=a[b],d=qc(c);d=new Xt(d);oc(d,c)}});
function jv(a,b,c){dc.call(this,a,b,c);this.I=+b.base||16;this.xa=["{","}"];this.Xa=["[","]"];this.ia=this.ya=this.Z=0;this.ta=!1;this.C=-1;this.F=[];this.L={};this.wb=[]}oa(jv,dc);jv.prototype.Jn=function(){return-1};jv.prototype.Kn=function(){};jv.prototype.du=function(a,b){return a.replace("["+b+"]","unimplemented")};
jv.prototype.uj=function(a,b,c){if(b)if(a){0>this.C&&this.F.length&&(this.C=0);if(0>this.C||a!=this.F[this.C])this.F.splice(0,0,a),this.C=0;this.C--}else this.ta?a="end":a=this.F[this.C+1];b=[];if(a){a=a.replace(/""/g,"'");var d=0,e=null;c=c||";";for(var f=0;f<=a.length;f++){var g=a.charAt(f);if('"'==g||"'"==g)e?g==e&&(e=null):e=g;else if(g==c&&!e||!g)b.push(gb(a.substring(d,f))),d=f+1}}return b};
function kv(a,b,c){var d=a;b=b||32;if(c)if(32==b)d=a>>>0;else if(32>b)d=a&(1<<b)-1;else{if(b=Math.pow(2,b),0>a||a>=b)d=a%b,0>d&&(d+=b)}else 32>=b?d=a<<32-b>>32-b:(b=Math.pow(2,b-1),a>=b?(d=a%b,(a/b|0)&1&&(d-=b)):a<-b&&(d=a%b,((-a-1)/b|0)&1?d&&(d+=b):d||(d-=b)));a!=d&&(a=d);return a}
function lv(a,b,c){for(c=void 0===c?-1:c;c--&&b.length;){var d=b.pop();if(2>a.length)return!1;var e=a.pop();var f=a.pop();switch(d){case "*":f*=e;break;case "/":if(!e)return!1;f=Math.trunc(f/e);break;case "^/":if(!e)return!1;f%=e;break;case "+":f+=e;break;case "-":f-=e;break;case "<<":f<<=e;break;case ">>":f>>=e;break;case ">>>":f>>>=e;break;case "<":f=f<e?1:0;break;case "<=":f=f<=e?1:0;break;case ">":f=f>e?1:0;break;case ">=":f=f>=e?1:0;break;case "==":f=f==e?1:0;break;case "!=":f=f!=e?1:0;break;
case "&":f&=e;break;case "!":case "|":f|=e;break;case "^!":f^=e;break;case "&&":f=f&&e?1:0;break;case "||":f=f||e?1:0;break;case ",,":f=kv(f,18,!0)*Math.pow(2,18)+kv(e,18,!0);break;case "^_":"^_"==d&&(e=35-(e&255));e&&(f=kv(f,0,!0),f=0<e?f*Math.pow(2,e):Math.trunc(f/Math.pow(2,-e)));break;default:return!1}a.push(kv(f))}return!0}
function mv(a,b,c,d,e,f){var g,h=!1,k=0,l=[],p=[],n=a.I;for(a.I=e;c<d;){var q=b[c++].trim();var u=c<d?b[c++]:"";if(q)var y=nv(a,q,void 0,f,k);else if("{"==u){q=1;for(y=c;c<d;)if(c++,u=c<b.length?b[c++]:"","{"==u)q++;else if("}"==u&&!--q)break;y=mv(a,b,y,c-1,a.I,f);null!=y&&k&&(y=ov(y,k));q=c<d?b[c++].trim():"";u=c<d?b[c++]:""}else{if(" "==u)continue;if("^B"==u){a.I=2;continue}if("^O"==u){a.I=8;continue}if("^D"==u){a.I=10;continue}if(!(k&-1073741824)){if("+"==u)continue;if("-"==u){k=k<<2|1;continue}if("~"==
u||"^-"==u){k=k<<2|2;continue}if("^L"==u){k=k<<2|3;continue}}h=!0;break}if(void 0===y)if(f)f.push(q),y=0;else{h=!0;f=[];break}l.push(kv(y));if(" "==u)if(c<b.length-1&&!b[c])c++,u=b[c++];else{h=!0;break}if(!u)break;k="<"==a.xa[0]?pv:qv;if(!k[u]){h=!0;break}p.length&&k[u]<=k[p[p.length-1]]&&lv(l,p,1);p.push(u);a.I="^_"==u?10:e;k=0}if(h||!lv(l,p)||1!=l.length)h=!0;h?f||a.J("parse error (%s)\n",q||u):g=l.pop();a.I=n;return g}
function rv(a,b,c,d,e){for(var f;0<=(f=b.indexOf(c));){for(var g=0,h=f+1,k=e;h<b.length;){var l=b[h++];if(l==c){k=-1;break}if(!k)break;k--;l=l.charCodeAt(0);7==d?l&=127:l=l-32&63;g=kv(g*Math.pow(2,d)+l,d*e,!0)}if(0<=k){a.J("parse error (%s%s%s)\n",c,b,c);return}b=b.substr(0,f)+sv(a,g,-1)+b.substr(h)}return b}
function tv(a,b,c){var d=void 0,e=!1===c;c=Array.isArray(c)?c:void 0;if(b){"{"!=a.xa[0]&&(b=b.split(a.xa[0]).join("{").split(a.xa[1]).join("}"));b=rv(a,b,'"',7,5);if(!b)return d;b=rv(a,b,"'",6,6);if(!b)return d;16!=a.I&&(b=b.replace(/(^|[^A-Z0-9$%.])([0-9]+)B/,"$1$2^_").replace(/\s+/g," "));b=b.split(/({|}|\|\||&&|\||\^!|\^B|\^O|\^D|\^L|\^-|~|\^_|&|!=|!|==|>=|>>>|>>|>|<=|<<|<|-|\+|\^\/|\/|\*|,,| )/);d=mv(a,b,0,b.length,a.I,c);void 0!==d&&e&&uv(a,null,d)}return d}
function vv(a,b){var c,d=a.xa[0],e=a.xa[1],f="("==d||"{"==d||"["==d?"\\":"",g="["==d?"\\":"";for(f=new RegExp(f+d+"([^"+g+d+g+e+"]+)"+f+e);c=b.match(f);){g=tv(a,c[1]);if(void 0===g)return;c=d+c[1]+e;g=null!=g?sv(a,g):"undefined";b=b.replace(c,g)}if(a.Xa.length)for(d=a.Xa[0],e=a.Xa[1],f="("==d||"{"==d||"["==d?"\\":"",g="["==d?"\\":"",f=new RegExp(f+d+"([^"+g+d+g+e+"]+)"+f+e);c=b.match(f);)b=a.du(b,c[1]);for(;d=b.match(/\$([a-z]+)/i);){e=null;switch(d[1].toLowerCase()){case "ops":e=a.ia-a.ya}if(null==
e)break;b=b.replace(d[0],e.toString())}return b}function ov(a,b){for(;b;){var c;switch(b&3){case 1:a=-kv(a);break;case 2:a^=-1;break;case 3:for(c=35;0<=c&&!(a&Math.pow(2,c));)c--;a=35-c}b>>>=2}return a}
function nv(a,b,c,d,e){e=void 0===e?0:e;var f=Array.isArray(d)?d:void 0;if(void 0!=b){var g=a.Jn(b);if(0<=g)g=a.Kn(g);else if(g=b,a.L[g]?g=a.L[g].value:(g=g.substr(0,6),g=a.L[g]&&a.L[g].value),void 0!=g){var h=a.L[b]&&a.L[b].cC;h&&(f?f.push(h):(f=tv(a,h,d),void 0!==f?g+=f:(d||a.J("undefined %s: %s (%s)\n",c||"value",b,h),g=void 0)))}else g=Ra(b,1<b.length||10<a.I?a.I:10);void 0!=g?g=kv(ov(g,e)):d||a.J("invalid %s: %s\n",c||"value",b)}else d||a.J("missing %s\n",c||"value");return g}
function uv(a,b,c){var d=!1;if(void 0!==c){d=!0;var e=8==a.I?sv(a,c,32,8,1)+"  "+c+".":sv(a,c,32,16,1)+"  "+sv(a,c,32,8,1)+"  "+sv(a,c,32,2,8)+"  "+c+".";32<=c&&127>c&&(e+=" '"+String.fromCharCode(c)+"'")}a.J("%s%s\n",null!=b?b+": ":"",e);return d}function wv(a,b){var c=0;if(a.L){if(b)return uv(a,b,a.L[b]&&a.L[b].value);b=Object.keys(a.L);b.sort();for(var d=0;d<b.length;d++)uv(a,b[d],a.L[b[d]].value),c++}return 0<c}
function sv(a,b,c,d,e){c=void 0===c?0:c;e=void 0===e?0:e;switch((void 0===d?0:d)||a.I){case 2:a=Ta(b,0<c?c:0,e);break;case 8:a=Va(b,0<c?(c+2)/3|0:0,!!e);break;case 10:a=Wa(b,0<c?Math.ceil(.3*c):0);break;default:a=Xa(b,0<c?c+3>>2:0,!!e)}return c=0>c?a.replace(/^0+([0-9A-F]+)$/i,"$1"):a}function xv(a,b,c){for(var d=0;d<a.wb.length;d++)a.wb[d](b,c)}
var qv={"||":5,"&&":6,"!":7,"|":7,"^!":8,"&":9,"!=":10,"==":10,">=":11,">":11,"<=":11,"<":11,">>>":12,">>":12,"<<":12,"-":13,"+":13,"^/":14,"/":14,"*":14,"^_":19,"{":20,"}":20},pv={",,":1,"||":5,"&&":6,"!=":10,"==":10,">=":11,">":11,"<=":11,"<":11,">>>":12,">>":12,"<<":12,"-":13,"+":13,"^/":14,"/":14,"*":14,"!":15,"|":15,"^!":15,"&":15,"^_":19,"{":20,"}":20};
function yv(a){jv.call(this,"Debugger",a,-1);this.Ja=4;this.Ba=5;this.Fa=1048575;this.U=zv(this,0,0);this.Oa=zv(this,0,0);this.pa=zv(this,0,0);this.D=[];this.A=this.ba=this.N=[];Av(this);this.La=0;this.M=[];this.va=!0;this.la=this.sb=-1;Bv(this);this.bb={};Cv(this,a.messages);this.Ma=a.commands;var b=this;void 0===r.pcx86&&(r.pcx86=function(c){return Dv(b,c)})}oa(yv,jv);m=yv.prototype;
m.bd=function(a,b,c,d){this.ra=b;this.G=c;this.Ea=a;this.Ta=Yc(a,"FDC",!1);this.Fb=Yc(a,"HDC",!1);this.H=Yc(a,"Mouse",!1);(c=Be(a,"messages"))&&Cv(this,c);this.Ma=Be(a,"commands")||this.Ma;v(this,268435456)?this.V=Yc(a,"ChipSet"):v(this,536870912)&&(this.video=Yc(a,"Video"));this.Ba=b.M>>2;this.Fa=b.N;this.Tb=new gg(this.G,hg.Gv,"DBG");this.Ha=Ev;80186<=this.G.model&&(this.Ha=Ev.slice(),this.Ha[15]=Fv,80286<=this.G.model&&(this.Ha[15]=Gv,80386<=this.G.model&&(this.Ja=8)));Ym(this,4096,function(e){Hv(d,
d.G.Oc,e[0])});Ym(this,8,function(e){if(e=e[0]){var f=nv(d,e);if(void 0===f)d.J("invalid selector: %s\n",e);else if(e=Iv(d,f,Jv),d.J("dumpSel(%#06x): %%%0*x\n",e?e.W:f,d.Ba,e?e.uc:null),e){f=!1;if(e.type&4096){if(e.type&2048){var g="code"+(e.type&512?",readable":",execonly");e.type&1024&&(g+=",conforming")}else g="data"+(e.type&512?",writable":",readonly"),e.type&1024&&(g+=",expdown");e.type&256&&(g+=",accessed")}else{var h=Kv[e.type];h&&(g=h[0],f=h[1])}!g||e.Pb&32768||(g+=",not present");d.J("%s type=%#04x (%s) ext=%#06x dpl=%#04x\n",
f?"seg="+Za(e.Da&65535)+" off="+Za(e.ob):"base="+Xa(e.Da,d.Ba)+" limit="+Lv(e.ob),e.type>>8,g,e.ext&-65296,e.ad)}}else d.J("no selector\n")});Ym(this,4294967296,function(e){var f;(e=e[0])&&(f=nv(d,e));if(void 0===f)d.J("invalid MCB\n");else for(d.J("dumpMCB(%#06x)\n",f);f;){e=zv(d,0,f);var g=d.Ia(e,1),h=d.he(e,2),k=d.he(e,5);if(77!=g&&90!=g)break;d.J("%s: '%s' PID=%#06x LEN=%#06x \"%s\"\n",Mv(0,f),String.fromCharCode(g),h,k,Nv(d,e,8));f+=1+k}});Ym(this,8192,function(e){Hv(d,d.G.X,e[0],d.G.X!==d.G.Oc)});
Ym(this,16,function(e){a:{if(e=e[0]){var f=nv(d,e);if(void 0===f){d.J("invalid task selector: %s\n",e);break a}e=Iv(d,f,Jv)}else e=d.G.la;d.J("dumpTSS(%#06x): %%0*x\n",e?e.W:f,d.Ba,e?e.Da:null);if(e){f="";var g=e.type&-513,h=256==g?4:8,k=256==g?Ov:Pv;for(q in k){var l=k[q];var p=e.Da+l;var n=Ah(d.G,p,2);2304==g&&(n|=Ah(d.G,p+2,2)<<16);f&&(f+="\n");f+=Za(l)+" "+eb(q+":",-11)+Xa(n,h)}if(2304==g){var q=0;for(l=n>>>16;l<e.oc&&1023>q;){p=e.Da+l;n=Ah(d.G,p,2);p=2;g="";if(!p||4<p)p=4;for(h=0;h<p;h++)g&&
(g=","+g),g=Ta(n&255,8)+g,n>>=8;f+="\n"+Za(l)+" ports "+Za(q)+"-"+Za(q+15)+": "+g;q+=16;l+=2}}d.print(f+"\n")}}});Ae(a,"symbols")&&(this.B=null,this.Eb=0,this.Qa=!1,Qg(this.G,48,this.LA.bind(this)),Qg(this.G,65,this.MA.bind(this)),this.X=null,Qg(this.G,104,this.NA.bind(this)));Cc(this)};
function Qv(a,b,c,d,e,f){b=Nv(a,b);var g=Iv(a,d);g=g?g.ob+1:0;var h=(e?"_CODE":"_DATA")+Xa(c,2);f&&a.J(2199023255552,"%s %s(%04X)=#%04X len %0X\n",b,e?"code":"data",c,d,g);e=Rv(a,b,c);e[b+h]=0;zp(a,b,c,d,0,null,g,e)}function Sv(a,b,c){var d=Tv(a,null,b);c&&(d?a.J(2199023255552,"%s #%04X removed\n",d,b):a.J(2199023255552,"unable to remove module for segment #%04X\n",b))}
function Uv(a,b,c,d){var e=a.he(b,2),f=a.he(b,2),g=Vv(a,b,4),h=Vv(a,b,4),k=zv(a,Vv(a,b,4),a.he(b,2));b=zv(a,Vv(a,b,4),a.he(b,2));b=Nv(a,b).toUpperCase();k=Nv(a,k).toUpperCase();var l=(c?"_CODE":"_DATA")+Xa(e,2);d&&a.J(2199023255552,"%s%s %s(%04X)=%04X:%0X len %0X\n",b==k?"":b+"!",k,c?"code":"data",e,f,g,h);c=Rv(a,k,e);c[k+l]=g;zp(a,k,e,f,g,null,h,c)}
function Wv(a,b,c,d){c=Nv(a,c).toUpperCase();var e=Tv(a,c,b);d&&(e?a.J(2199023255552,"%s %04X removed\n",c,b):a.J(2199023255552,"unable to remove %s for section %04X\n",c,b))}m.LA=function(){var a=this.G;if(null!=this.B&&2752554==a.D){var b=a.M&65535,c=a.L&65535,d=zv(this,dg(a)+12,a.U.W);switch(Vv(this,d)){case 336:Uv(this,zv(this,a.H,b),!c,this.B)}}return!0};
m.MA=function(a){var b=this.G,c=b.D&65535,d=b.H&65535,e=b.I&65535,f=b.M&65535,g=b.L&65535,h=b.K&65535,k=b.ka.W;if(null==this.B)return 79==c&&Rg(b,a,function(l){return function(){62342!=(b.D&65535)?(b.D=b.D&-65536|62342,l.J(2199023255552,"INT 41 handling enabled\n"),l.B=!0):(l.J(2199023255552,"INT 41 monitoring enabled\n"),l.B=!1)}}(this)),!0;switch(c){case 3:break;case 64:break;case 79:this.B&&(b.D=b.D&-65536|62342,this.J(2199023255552,"INT 41 handling enabled\n"));break;case 80:Qv(this,zv(this,h,
k),d+1,e,!(g&1),this.B);break;case 82:Sv(this,d,this.B);break;case 90:break;case 92:case 98:case 100:case 101:case 102:case 103:break;case 93:case 112:case 61441:break;case 127:this.B&&(b.D=b.D&-65536|(this.Qa?0:1),this.J(2199023255552,"INT 41 CHECKFAULT: fault=%04X type=%04X trap=%b\n",d,e,!this.Qa));break;case 131:this.B&&(a=zv(this,b.M,e),this.Eb++?(this.J("TRAPFAULT failed\n"),Xv(this,this.A,a,!0,!0),this.Eb=0,El(this)):(this.J("INT 41 TRAPFAULT: fault=%04X error=%08X addr=%s\n",d,b.L,Yv(a)),
this.Ce(this.A,a,!0),Bv(this,!0)));break;case 141:this.B&&(b.D=b.D&-65536|1);break;case 336:Uv(this,zv(this,b.H,f),!g,this.B);break;case 338:Wv(this,d,zv(this,b.K,f),this.B);break;case 61442:break;default:this.B&&this.J(2199023255552,"INT 41: AX=%04X (unhandled)\n",c)}this.Qa=!1;return!this.B};
m.NA=function(a){var b=this.G,c=b.D&255,d=b.D>>8&255,e=b.H&65535,f=b.I&65535,g=b.M&65535,h=b.K&65535,k=b.ka.W;if(null==this.X){if(67==d){if(609437257==b.na((b.ca.W<<4)+10))return this.J(2199023255552,"ignoring INT 68 from IFSHLP.SYS\n"),!0;if(1111835735==b.na((b.ca.W<<4)+130)||1111835735==b.na((b.ca.W<<4)+95))return this.J(2199023255552,"ignoring INT 68 from WDEB386.EXE\n"),!0;Rg(b,a,function(l){return function(){62342!=(b.D&65535)?(b.D=b.D&-65536|62342,l.J(2199023255552,"INT 68 handling enabled\n"),
l.B=l.X=!0):(l.J(2199023255552,"INT 68 monitoring enabled\n"),l.X=!1)}}(this))}return!0}switch(d){case 67:this.X&&(b.D=b.D&-65536|62342);break;case 68:this.X&&(a=wj(b.ca,this.Az.bind(this)))&&(b.K=a[0],ah(b,a[1]));break;case 72:Sv(this,e,this.B);break;case 79:break;case 80:32==c?Qv(this,zv(this,h,k),0,f,!0,this.X):128>c?Qv(this,zv(this,h,k),e+1,c&64?g:f,!(c&1),this.X):Uv(this,zv(this,h,k),!(c&1),this.X);this.X&&(b.D=b.D&-256|1);break;default:this.X&&this.J(2199023255552,"INT 68: AH=%02X (unhandled)\n",
d)}return!this.X};m.Az=function(){var a=this.G;5==(a.D&255)&&(a.I=a.L=0,a.D=a.D&-256|1);return!1};
m.Sb=function(a,b,c){var d=this;switch(b){case "debugInput":return this.ca=this.oa[b]=c,c.onkeydown=function(e){if(13==e.keyCode){var f=d.ca.value;d.ca.value="";Dv(d,f,!0)}else if(27==e.keyCode)d.ca.value=f="";else if(38==e.keyCode?(f=null,d.C<d.F.length-1&&(f=d.F[++d.C])):40==e.keyCode&&(0<d.C?f=d.F[--d.C]:(f="",d.C=-1)),null!=f){var g=f.length;d.ca.value=f;d.ca.setSelectionRange(g,g)}null!=f&&e.preventDefault&&e.preventDefault()},!0;case "debugEnter":return this.oa[b]=c,Tb(c,function(){if(d.ca){var e=
d.ca.value;d.ca.value="";Dv(d,e,!0);return!0}return!1}),!0;case "step":return this.oa[b]=c,Tb(c,function(e){var f=!1;Dc(d,!0)||(Ec(d,!0),f=Zv(d,e?1:0),Ec(d,!1));return f}),!0}return!1};m.Ed=function(){this.ca&&this.ca.focus()};function $v(a){return!(!(a.G&&a.G.ta&1)||a.G.P&131072)}
function Iv(a,b,c){var d=$v(a)?Jv:aw;c||(c=d);if(c==d){if(b===Og(a.G))return a.G.ca;if(b===a.G.Ha.W)return a.G.Ha;if(b===a.G.ka.W)return a.G.ka;if(b===a.G.U.W)return a.G.U;if(80386<=a.G.model){if(b===a.G.Qa.W)return a.G.Qa;if(b===a.G.Ta.W)return a.G.Ta}if(a.gb&&c==Jv||!a.Tb)return null}a=a.Tb;if(c!=Jv)a.Mn(b),a.ob=65535,a.oc=65536;else{c=a.jc;b&=65535;if(b&4){d=c.Fb.Da;var e=d+c.Fb.ob|0}else d=c.Tb,e=c.vd;d=d+(b&65528)|0;if(e-d|0){e=Ah(c,d,2);var f=Ah(c,d+4,2),g=f&7936,h=Ah(c,d+2,2)|(f&255)<<16,k=
Ah(c,d+6,2);80386<=c.model&&(h|=(k&65280)<<16,e|=(k&15)<<16,k&128&&(e=e<<12|4095));a.W=b;a.Da=h;a.ob=e;a.oc=(e>>>0)+1;a.Pb=f;a.type=g;a.ext=k;a.uc=d;Vg(a,!0,!0,!1)}}return a}m.Ac=function(a,b,c){var d=a&&a.Ca;if(void 0==d&&(d=4294967296,a)){var e=Iv(this,a.W,a.type);e&&(b=a.Sa||0,c=c||1,e=4294967296===e.uc||e.Ee&&(b>>>0)+c>e.oc||!e.Ee&&(b>>>0)+c<=e.oc?e.Da+b|0:4294967296,d=e,a.Ca=d)}return d};
m.Ia=function(a,b){var c=255,d=this.Ac(a,!1,1);4294967296!==d&&(c=Ah(this.G,d,1,a.type==bw)|0,b&&cw(this,a,b));return c};m.Nb=function(a,b){return a.lc?Vv(this,a,b?4:0):this.he(a,b?2:0)};m.he=function(a,b){var c=65535,d=this.Ac(a,!1,2);4294967296!==d&&(c=Ah(this.G,d,2,a.type==bw)|0,b&&cw(this,a,b));return c};function Vv(a,b,c){var d=-1,e=a.Ac(b,!1,4);4294967296!==e&&(d=Ah(a.G,e,4,b.type==bw)|0,c&&cw(a,b,c));return d}
m.Ob=function(a,b,c,d){var e=this.Ac(a,!0,1);4294967296!==e&&(a.type!=bw?this.G.Ob(e,b):Nd(this.ra,e,b),c&&cw(this,a,c),d||Ee(this.G,!0))};m.Zj=function(a,b,c,d){var e=this.Ac(a,!0,2);4294967296!==e&&(a.type!=bw?this.G.Db(e,b):Pd(this.ra,e,b),c&&cw(this,a,c),d||Ee(this.G,!0))};function zv(a,b,c,d,e,f,g){return dw(a,{},b,c,d,e,f,g)}
function dw(a,b,c,d,e,f,g,h){b.Sa=c||0;b.W=d;b.Ca=e;b.type=f||($v(a)?Jv:aw);b.lc=void 0!=g?g:!(!a.G||4!=a.G.ca.Y);b.zc=void 0!=h?h:!(!a.G||4!=a.G.ca.jd);b.af=!1;return b}function ew(a){return[a.Sa,a.W,a.Ca,a.af,a.lc,a.zc,0]}function fw(a){return{Sa:a[0],W:a[1],Ca:a[2],af:a[3],lc:a[4],zc:a[5]}}function gw(a,b,c){if(void 0!=b.W&&(a=Iv(a,b.W,b.type))){var d=b.Sa;if(!a.Ee){if(d>>>0>=a.oc)return!1}else if(d>>>0<a.oc)return!1;c&&(b.Sa=d&a.Fa,b.lc=4==a.Y,b.zc=4==a.jd)}return!0}
function hw(a,b,c,d){var e=c?a.U:a.Oa;c=d?iw:e.type;var f=e.Sa,g=e.W;e=e.Ca;if(void 0!==b){b=vv(a,b);var h=b.charAt(0);e=b.indexOf(":");switch(h){case "&":c=aw;break;case "#":c=Jv;break;case "%":c=jw;h=b.charAt(1);"%"==h&&(c=bw,h+=h);f=0;g=void 0;break;default:0<=e&&(c=iw),h=""}h&&(b=b.substr(h.length),e-=h.length);if(b.match(/^[a-z_][a-z0-9_]*$/i))for(var k=b.toUpperCase(),l=0;l<a.D.length;l++){h=a.D[l];var p=h.le[k];if(void 0!==p){k=p.o;if(void 0!==k){var n=p.s;void 0===n&&(n=h.W);n=zv(a,k,n,p.p)}break}}if(h=
n)return h;0>e?void 0!=g?(f=tv(a,b),e=void 0):(e=tv(a,b),void 0==e&&(f=void 0)):(g=tv(a,b.substring(0,e)),f=tv(a,b.substring(e+1)),e=void 0)}void 0!=f&&(h=zv(a,f,g,e,c),d||gw(a,h,!0)||(a.J("invalid offset: %s\n",Yv(h)),h=void 0));return h}function kw(a,b,c){c&&(c=c.match(/(['"])(.*?)\1/))&&(b.wz=a.uj(b.VK=c[2]))}m.du=function(a,b){var c=hw(this,b);return a.replace("["+b+"]",c?Xa(this.Nb(c),c.lc?8:4):"undefined")};
function cw(a,b,c){c=c||1;void 0!=b.Ca&&(b.Ca+=c);void 0!=b.W&&(b.Sa+=c,gw(a,b)||(b.Sa=0,b.Ca=void 0))}function Mv(a,b,c){return void 0!=b?Xa(b,4)+":"+Xa(a,a&-65536||c?8:4):Xa(a)}function Yv(a){switch(a.type){case aw:case lw:var b="&";break;case Jv:b="#";break;case jw:b="%";break;case bw:b="%%";break;default:b=a.W?"":"%"}return a.type>=jw||void 0==a.W?b+Xa(a.Ca):b+Mv(a.Sa,a.W,a.zc)}
function Nv(a,b,c){var d="";for(c=c||256;d.length<c;){var e=a.Ia(b,1);if(!e||36==e||127<=e)break;d+=32<=e?String.fromCharCode(e):"."}return d}
function Hv(a,b,c,d){var e=0,f=0,g=b.length;if(c){e=a.Ac(hw(a,c));if(4294967296===e){a.J("invalid address: %s\n\n");return}f=e>>>a.G.jb;g=1}a.J("blockid   %s   blockaddr   used    size    type\n",d?"linear  ":"physical");a.J("--------  ---------  ----------  ------  ------  ----\n");c=-1;for(var h=0;g--;)(d=b[f])&&d.type==od.Ri&&(d=ue(a.G,e,!1,!0)),d.type==c?h++||a.J("...\n"):(c=d.type,h=od.$j[c],c==od.Om&&(d=d.sg,h+=" -> "+od.$j[d.type]),d&&a.J("%08x  %%%08x  %%%%%08x  %#06x  %#06x  %s\n",d.id,f<<
a.G.jb,d.Ca,d.Eg,d.size,h),c!=od.NONE&&c!=od.Ri&&(c=-1),h=0),e+=a.G.Ho,f++}function mw(a,b,c){a=Xa(a)+" "+Xa(b)+" ";a=a+(c&&b&64?"D":"-")+(b&32?"A":"-")+(b&4?"U":"S");a+=b&2?"W":"R";return a+=b&1?"P":"N"}function Rv(a,b,c){var d={},e;for(e=null;e=Yc(a.Ea,"Disk",e);){var f=void 0;var g=null,h=e.Au[b];if(h&&(h=h.segments&&h.segments[c]))for(f in g={},h.ordinals){var k=h.ordinals[f];g[k.s]=k.o}if(f=g){d=f;break}}return d}
function Cv(a,b){a.fa=a;a.Zc=549755813888;a.Na=null;a.Va=[];b=a.uj(b,!1,",");if(b.length){a.Zc-=549755813888;for(var c in ya)0<=qb(b,c)&&(a.Zc+=ya[c],a.J("%s messages enabled\n",c))}Bv(a)}function Ym(a,b,c){for(var d in ya)if(b==ya[d]){a.bb[d]=c;break}}m.Jn=function(a,b){a=a.toUpperCase();if(null==b)var c=qb(nw,a);else c=qb(nw,a.substr(b,3)),0>c&&(c=qb(nw,a.substr(b,2)));return c};
function ow(a,b){var c=0,d=a.Kn(b);if(null!=d)switch(b){case pw:case qw:case rw:case sw:case tw:case uw:case vw:case ww:c=2;break;case xw:case yw:case zw:case Aw:case Bw:case Cw:case Dw:case Ew:case Fw:case Gw+Hw:case Gw+Iw:case Gw+Jw:case Gw+Kw:case Gw+Lw:case Gw+Mw:c=4;break;case Nw:case Ow:case Pw:case Qw:case Rw:case Sw:case Tw:case Uw:case Vw:case Ww:case Xw:case Yw:case Zw:c=8;break;case $w:c=a.Ja}return c?Xa(d,c):"??"}
m.Kn=function(a){if(0<=a){var b=this.G;switch(a){case pw:var c=b.D&255;break;case qw:c=b.I&255;break;case rw:c=b.M&255;break;case sw:c=b.H&255;break;case tw:c=b.D>>8&255;break;case uw:c=b.I>>8&255;break;case vw:c=b.M>>8&255;break;case ww:c=b.H>>8&255;break;case xw:c=b.D&65535;break;case yw:c=b.I&65535;break;case zw:c=b.M&65535;break;case Aw:c=b.H&65535;break;case Bw:c=dg(b)&65535;break;case Cw:c=b.N&65535;break;case Dw:c=b.L&65535;break;case Ew:c=b.K&65535;break;case Fw:c=kg(b)&65535;break;case $w:c=
Pg(b);break;case Gw+Hw:c=b.ka.W;break;case Gw+Iw:c=Og(b);break;case Gw+Jw:c=b.U.W;break;case Gw+Kw:c=b.Ha.W;break;default:if(80286==this.G.model)a==Vw&&(c=b.ta);else if(80386<=this.G.model)switch(a){case Nw:c=b.D;break;case Ow:c=b.I;break;case Pw:c=b.M;break;case Qw:c=b.H;break;case Rw:c=dg(b);break;case Sw:c=b.N;break;case Tw:c=b.L;break;case Uw:c=b.K;break;case Vw:c=b.ta;break;case Ww:c=b.Oo;break;case Xw:c=b.ee;break;case Yw:c=b.Lc;break;case Gw+Lw:c=b.Qa.W;break;case Gw+Mw:c=b.Ta.W;break;case Zw:c=
kg(b)}}}return c};
function ax(a,b){b=vv(a,b)||b;for(var c=0,d,e;0<=(c=b.indexOf("@",c));)e=a.Jn(b,c+1),0<=e&&(b=b.substr(0,c)+ow(a,e)+b.substr(c+1+nw[e].length)),c++;for(c=0;0<=(c=b.indexOf("#",c));)e=b.substr(c+1,2),d=Ra(e,16),null!=d&&32<=d&&127>d?(d=e+" '"+String.fromCharCode(d)+"'",b=b.replace("#"+e,d),c+=d.length):c++;for(c=0;0<=(c=b.indexOf("$",c));)e=b.substr(c+1,9),(d=hw(a,e))?(d=e+' "'+Nv(a,d)+'"',b=b.replace("$"+e,d),c+=d.length):c++;for(c=0;0<=(c=b.indexOf("^",c));)e=b.substr(c+1,9),(d=hw(a,e))?(cw(a,d),
d=e+' "'+Nv(a,d,11)+'"',b=b.replace("^"+e,d),c+=d.length):c++;return b}m.message=function(a,b){b=void 0===b?0:b;if(b&1&&this.G){var c=fb(" at %s (%%%X)$1",Yv(zv(this,kg(this.G),Og(this.G))),this.G.Z);a=a.replace(/(\n?)$/,c)}Hc(this.Zc,0x800000000000)?this.Va.push(a):this.Na&&a==this.Na||(this.Na=a,b&&Hc(this.Zc,70368744177664)&&(a=a.replace(/(\n?)$/," (cpu halted)$1"),El(this)),this.print(a,b),this.G&&(a=this.G,a.flags.Ej=!0,Ee(a)))};
function rm(a,b,c,d){var e;d||(d=v(a,2)&&0>bx.indexOf(b),d||(e=cx[b])&&(d=v(a,e)?!0:32768==e&&v(a,e=65536)));if(d){var f=a.G.D>>8&255;var g=a.G.M&255;if(33==b&&11==f||32768==e&&128<=g||65536==e&&128>g)d=!1}d&&((e=(e=Pc[b])&&e[f]||"")&&(e=ax(a,e)),a.J("INT %#04X: AH=%#04X at %s %s\n",b,f,Mv(c-2-a.G.ca.Da,Og(a.G)),e));return d}
function Ic(a,b,c,d,e,f,g,h){h=Gc(h||0,32);f||(h=Gc(h,549755813888));if(void 0==e||Hc(a.Zc,h))h="",void 0!=e&&(h=Og(a.G),e-=a.G.ca.Da,h="at "+Mv(e,h)),void 0==d?a.J("%s.inPort(%#06X,%s): %#04X %s\n",b.Yb,c,f||"unknown",g,h):a.J("%s.outPort(%#06X,%s,%#04X) %s\n",b.Yb,c,f||"unknown",d,h)}m.Ln=function(){this.J("Type ? for help with PCx86 Debugger commands\n");dx(this);if(this.Ma){var a=this.Ma;this.Ma=null;Dv(this,a)}};
function Bv(a,b){var c;if(Th(a)){if(!a.O||!a.O.length){a.O=Array(ex);for(c=0;c<a.O.length;c++)a.O[c]=zv(a);a.ka=0;b||a.J("history buffer allocated\n")}if(!a.P||!a.P.length)for(a.P=Array(256),c=0;c<a.P.length;c++)a.P[c]=[c,0]}else a.O&&a.O.length&&!b&&a.J("history buffer freed\n"),a.ka=0,a.O=[],a.P=[]}
function Zv(a,b,c,d){if(!fx(a))return!1;a.Z=0;var e=!b;do{e&&(Th(a)&&ji(a,a.G.Z,0),e=!1);try{var f=a.G.Dm(b);0<f&&(a.Z+=f,Ne(a.G,f,!0),Ve(a.G,f),He(a.G,f),a.ia++)}catch(h){if("number"!=typeof h){var g=h;a.Z=0;yc(a.G,g.stack||g.message)}}}while(a.G.O&3312);!1!==d&&Ee(a.G,!0);dx(a,c||!1);return 0<a.Z}function El(a,b){return a.G&&Fe(a.G,b)||!1}function dx(a,b){void 0===b&&(b=!0);a.U=zv(a,kg(a.G),Og(a.G));b&&1!=a.K?gx(a):hx(a)}
function fx(a,b){var c;(c=!a.G||!Bc(a.G))||(c=a.G,c.flags.Hc?c=!0:(c.J(0,"%s not powered\n",c.toString()),c=!1),c=!c);return c||a.G.flags.vb?(b||a.J("cpu busy or unavailable, command ignored\n"),!1):!zc(a.G)}m.Gc=function(a,b){if(!b){this.reset(!0);if(a&&this.restore&&!this.restore(a))return!1;this.vc=this.G.vc}return!0};m.Fc=function(a,b){b&&this.J("%s\n",a?"suspending":"shutting down");return a?this.save():!0};
m.reset=function(a){Bv(this);this.ia=this.ya=0;this.Na=null;this.Z=0;this.U=zv(this,kg(this.G),Og(this.G));ix(this);a||this.flags.vb||dx(this)};m.save=function(){var a=new Wg(this);a.set(0,ew(this.U));a.set(1,ew(this.Oa));a.set(2,ew(this.pa));a.set(3,[this.F,this.ta,Gc(this.Zc,0x800000000000)]);a.set(4,this.D);a.set(5,[this.A,this.ba,this.N]);return a.data()};
m.restore=function(a){var b=0;a[b]&&(this.U=fw(a[b++]));a[5]&&(this.Oa=fw(a[b++]));a[b]&&(this.pa=fw(a[b++]));if(a[b]){this.F=a[b][0];"string"==typeof this.F&&(this.F=[this.F]);this.ta=a[b][1];var c=a[b][2];Hc(c,0x800000000000)&&(c=Fc(c,0x800000000000),this.Zc=Gc(this.Zc,c));b++}a[b]&&(this.D=a[b++]);a[b]&&(jx(this,this.A,a[b][0]),jx(this,this.ba,a[b][1]),jx(this,this.N,a[b][2]));return!0};m.start=function(a,b){this.flags.vb=!0;this.Xb=a;this.He=b;this.K||this.J("running\n");xv(this,0,this.K)};
m.stop=function(a,b){if(this.flags.vb){var c=this.K;this.flags.vb=!1;this.Z=b-this.He;xv(this,1,c);if(!c){b="stopped";if(this.Z){a-=this.Xb;var d=0<a?Math.round(1E3*this.Z/a):0;b+=" (";Th(this)&&(b+=this.ia+" opcodes, ",this.ya-=this.ia,this.ia=0);b+=this.Z+" cycles, "+a+" ms, "+d+" hz)"}else v(this,70368744177664)&&(b+=" (use the 't' command to execute blocked faults)");this.J("%s\n",b)}dx(this,!0);this.Ed();ix(this,this.G.Z);xv(this,2,c)}};
function Th(a){return 1<a.A.length||0<a.M.length||!!a.La||v(a,1024)}
function ji(a,b,c){var d=a.G;if(0<c&&(a.La&&!--a.La||kx(a,b,1,a.A)))return!0;if(0<=c){a.ia++;if(a.P.length&&(b=Ah(d,b),null!=b&&(a.P[b][1]++,!a.M.length||a.va||0<=a.la))){b=a.O[a.ka];dw(a,b,kg(d),Og(d));c=a.ka?a.ka-1:a.O.length-1;var e=a.O[c];e.Sa==b.Sa&&e.W==b.W&&(a.ka=c,b=e);b.On=Ie(d);a.M.length&&!a.va&&0<=a.la?b.bf=d.D&65535|a.la<<16:a.V?(c=a.V.fb[0],b.ml=d.A,b.bf=c.Ab[0]|c.Ab[1]<<8):a.video?(void 0===a.jb&&(a.jb=Te(d,a.video.id)),a.jb&&(b.ml=a.jb[1],b.bf=Nr(a.video,a.video.ub))):(delete b.ml,
delete b.bf);++a.ka==a.O.length&&(a.ka=0)}a.sb=a.la;a.la=-1}return!1}function ke(a,b,c){return kx(a,b,c||1,a.ba)?(El(a,!0),!0):!1}function te(a,b,c){return kx(a,b,c||1,a.N)?(El(a,!0),!0):!1}function Sd(a,b,c){a.J("break on input from port %#06x: %x\n",b,c);El(a,!0)}function Vd(a,b,c){a.J("break on output to port %#06x: %x\n",b,c);El(a,!0)}
function Av(a){var b;a.A=["bp"];if(void 0!==a.ba)for(b=1;b<a.ba.length;b++){var c=a.ba[b];Wf(a.G,a.Ac(c),!1,c.type==bw)}a.ba=["br"];if(void 0!==a.N)for(b=1;b<a.N.length;b++)c=a.N[b],Wf(a.G,a.Ac(c),!0,c.type==bw);a.N=["bw"];a.gb=0}
m.Ce=function(a,b,c,d){var e=!0;c||Xv(this,a,b,!1,!0);if(a!=this.A){var f=this.Ac(b),g;if(!(g=4294967296===f)){g=this.G;var h=a==this.N,k=b.type==bw,l=f>>>g.jb,p=k?g.Oc:g.X;p[l]?(p[l].Ce(f&g.Eb,h),k&&Bd(g),f=!0):f=!1;g=!f}g&&(this.J("invalid address: %s\n",Yv(b)),e=!1)}e&&(a.push(b),c?(void 0!=b.Ca&&(b.W=void 0),b.af=!0):(d||lx(this,a,a.length-1,"set"),Bv(this)))};
function Xv(a,b,c,d,e){for(var f=!1,g=mx(a,a.Ac(c)),h=1;h<b.length;h++){var k=b[h];if(4294967296!==g&&g==mx(a,a.Ac(k))||4294967296===g&&c.W==k.W&&c.Sa==k.Sa)if(!d||k.af){f=!0;k.af||e||lx(a,b,h,"cleared");b.splice(h,1);b!=a.A&&Wf(a.G,g,b==a.N,k.type==bw);k.af||Bv(a);break}}return f}function nx(a,b){for(var c=1;c<b.length;c++)lx(a,b,c);return b.length-1}function lx(a,b,c,d){c=b[c];a.J("%s %s%s\n",b[0],Yv(c),d?" "+d:c.$B?' "'+c.$B+'"':"")}
function jx(a,b,c){if(c[0]==b[0])for(var d=1;d<c.length;d++){var e=c[d];a.Ce(b,e,e.af,!0)}}function ix(a,b){if(void 0!==b)kx(a,b,1,a.A,!0),a.K=0;else for(b=1;b<a.A.length;b++){var c=a.A[b];if(c.af){if(!Xv(a,a.A,c,!0))break;b=0}}}function mx(a,b){4294967296!==b&&(a=a.Fa&-65536,(b&a)==a&&(b&=1048575));return b}
function kx(a,b,c,d,e){var f=!1;if(!a.gb++){b=mx(a,b);v(a,70368744178688)&&204==Ah(a.G,b)&&(f=!0);var g;if(g=!f)a:{g=b;if(0>a.sb)for(var h=0;h<a.M.length;h++){var k=a.M[h].En;if(k&&k.Ca==g&&(a.la=a.M[h].Bj,a.va)){a.J("break on vector %02X\n",a.la);g=!0;break a}}g=!1}g&&(f=!0);for(g=1;!f&&g<d.length;g++)if(h=d[g],!e||h.af){null!=h.W&&(h.Ca=void 0);k=mx(a,a.Ac(h));for(var l=0;l<c;l++)if(b+l==k){var p;f=!0;h.af&&(Xv(a,d,h,!0),h.bf&&(cw(a,h,2),ox(a,h.bf,h,a.B),f=!1),e=!0);if(p=h.wz){f=!1;for(var n=0;n<
p.length;n++)if(!px(a,p[n],!0)){if(p[n].indexOf("if")){f=!0;break}for(var q=n+1;q<p.length&&p[q].indexOf("else");q++)n++;if(q==p.length){f=!0;break}}a.G.flags.vb||(f=!0)}if(f){e||lx(a,d,g,"hit");break}}}}a.gb--;return f}
function zj(a,b,c,d){if(0>a.sb){a.la=b;if(b==Qc.ez&&d&&void 0!==a.B){var e=zv(a,kg(a.G),Og(a.G));e.bf=Vv(a,e);cw(a,e,-2);a.Ce(a.A,e,!0);e=a.G;e.flags.Fn=!0;e.La|=16}if(a.va&&(e=qx(a,b),0<=e&&d==(a.M[e].type==Jv)&&(a.J("break on vector %02X\n",b),El(a),c)))return bh(a.G,kg(a.G)-c),!0}return!1}function qx(a,b){for(var c=0;c<a.M.length;c++)if(a.M[c].Bj==b)return c;return-1}
function rx(a,b,c){c=void 0===c?!0:c;var d;for(d=0;d<a.M.length;d++){var e=a.M[d];if(void 0==b||e.Bj==b){var f=c?"enabled":"disabled";e.type==Jv?a.J("vector #%02X %s\n",e.Bj,f):a.J("vector &%02X %s (%04X:%04X)\n",e.Bj,f,e.En.W,e.En.Sa)}}d||a.J("no vector breakpoints\n")}
function sx(a,b,c,d){var e=-1,f=tx,g=zv(a,b.Sa,b.W,b.Ca,b.type),h=8,k=!1,l=!1,p="",n="";do{var q=a.Ia(b,1);var u=a.Ha[q];var y=u[0];var N=u[1];if(N==ux)240<=q?p=f[y]:n=f[y];else if(N==(ux|T)){if(80386>a.G.model)break;102==q?k||(b.lc=!b.lc,k=!0):103==q?l||(b.zc=!b.zc,l=!0):n=f[y]}else break}while(h--);y==vx&&(y=a.Ia(b,1),u=wx[y]||Fv,q|=y<<8,y=u[0]);y==xx&&(e=a.Ia(b,1),h=null,l=e>>3&7,k=(3>(e>>6&3)?0:48)+l,(217==q||219==q)&&52<=k&&(k=l<<4|e&7),(l=yx[q])&&(h=l[k]),h&&(f=zx,u=h,y=u[0]));y>=f.length&&
(e=a.Ia(b,1),u=Ax[y-f.length][e>>3&7],y=u[0]);f=f[y];l=u.length-1;h="";b.lc&&(y==Bx?f="CWDE":y==Cx?f="CDQ":y>=Dx&&y<=Ex&&(f+="D"));if(164<=q&&167>=q||170<=q&&175>=q)l=0,b.lc&&"W"==f.slice(-1)&&(f=f.slice(0,-1)+"D");k=-1;for(N=1;N<=l;N++){var E="";var G=u[N];if(void 0!==G){0>k&&(k=G>>Fx);y==Gx&&(k==Hx?h="[%800]":k==Ix&&(h=(n||"ES:")+"["+(b.zc?"E":"")+"DI]"));var K=G&Jx;if(K!=Kx){var B=G&Lx;if(B>=U)if(0>e&&(e=a.Ia(b,1)),B<Mx){B=a;var qa=f;E=n;var Ba=e,Aa=l;K=b;var Ha="",Ua=Ba>>6;Ba&=7;if(3>Ua){qa=0==
qa.indexOf("FI");if(!Ua&&(!K.zc&&6==Ba||K.zc&&5==Ba))Ua=2;else{if(K.zc)if(4!=Ba)Ba+=8;else{Ha=B;var Pb=Ua,de=K,Wb=Ha.Ia(de,1),ob=Wb>>6,Re=Wb>>3&7;Wb&=7;var Gb="";if(Pb||5!=Wb)Gb=Nx[Wb+8];4!=Re&&(Gb&&(Gb+="+"),Gb+=Nx[Re+8],ob&&(Gb+="*"+(1<<ob)));Pb||5!=Wb||(Gb&&(Gb+="+"),Gb+=Xa(Vv(Ha,de,4)));Ha=Gb}Ha||(Ha=Nx[Ba])}1==Ua?(B=B.Ia(K,1),Ha=B&128?Ha+("-"+Xa(-(B<<24>>24),2)):Ha+("+"+Xa(B,2))):2==Ua&&(Ha&&(Ha+="+"),K.zc?(B=Vv(B,K,4),Ha+=Xa(B)):(B=B.he(K,2),Ha+=Xa(B,4)));Ha=E+"["+Ha+"]";if(1==Aa){E="";G&=Jx;
G==V&&(G=K.lc?Ox:Px);switch(G){case Qx:E="FAR";break;case W:E="BYTE";break;case Px:if(qa){E="INT16";break}E="WORD";break;case Ox:E="DWORD";break;case Rx:if(qa){E="INT32";break}case Sx:E="REAL32";break;case Tx:if(qa){E="INT64";break}case Ux:E="REAL64";break;case Vx:E="REAL80";break;case Wx:E="BCD80"}E&&(Ha=E+" "+Ha)}}else Ha=Xx(B,Ba,G,K);E=Ha}else E=B==Mx?Xx(a,e&7,G,b):Xx(a,e>>3&7,G,b);else if(B==Yx)E="1";else if(B==X){E=a;K=G;B=b;G=" ";switch(K&Jx){case W:K&Y&&(G=Xa(E.Ia(B,1),2));break;case Zx:G=
Xa(E.Ia(B,1)<<24>>24);break;case V:if(B.lc){G=Xa(Vv(E,B,4),8);break}case Px:G=Xa(E.he(B,2),4);break;case Qx:B=zv(E,E.Nb(B,!0),E.he(B,2),void 0,B.type,B.lc,B.zc);G=Yv(B);E=$x(E,B);E[0]&&(G+=" ("+E[0]+")");break;default:G="imm("+Za(K)+")"}E=G}else B==ay?(b.zc?(E=8,G=Vv(a,b,4)):(E=4,G=a.he(b,2)),E=n+"["+Xa(G,E)+"]"):B==by?(E=K==W?a.Ia(b,1)<<24>>24:a.Nb(b,!0),G=b.Sa+E&(b.lc?-1:65535),E=Xa(G,b.lc?8:4),G=$x(a,zv(a,G,b.W)),G[0]&&(E+=" ("+G[0]+")")):B==Z?E=K==cy?"ST":K==dy?"ST("+(e&7)+")":Xx(a,(G&ey)>>8,
G,b):B==fy?E=Xx(a,(G&ey)>>8,gy,b):B==hy?E=(n||"DS:")+"[SI]":B==iy&&(E=(n||"ES:")+"[DI]");if(!E||!E.length){h="INVALID";break}0<h.length&&(h+=",");h+=E||"???"}}}e="";u=Yv(g)+" ";if(4294967296!==g.Ca&&4294967296!==b.Ca){do if(e+=Xa(a.Ia(g,1),2),4294967296===g.Ca||void 0==g.Ca)break;while(g.Ca!=b.Ca)}u+=eb(e,g.zc?-20:-16)+" ";0==p.indexOf("REP")&&166!=q&&167!=q&&174!=q&&175!=q&&(p="REP");p&&(h=f+" "+h,f=p);u+=eb(f,-8);h&&(u+=" "+h);a.G.model<jy[k]&&(c=jy[k]+" CPU only");c&&(u=eb(u,g.zc?-74:-62)+";"+
c,u=a.G.flags.lh?u+("cycles="+Ie(a.G).toString()+" cs="+Xa(a.G.Xf)):u+(0<=d?"="+d.toString():""));ky(b);return u}function Xx(a,b,c,d){var e=c&Lx;if(e==gy){if(b>Mw||b>=Lw&&80386>a.G.model)return"??";b+=Gw}else if(e==ly)b+=Vw;else if(e==my)b+=ny;else if(e==oy)b+=py;else if(a=c&Jx,a>=Px&&(b<xw&&(b+=xw-pw),a==Ox||a==V&&d.lc))b+=Nw-xw;return nw[b]}
function qy(a,b){switch(b){case "V":a=mh(a.G);break;case "D":a=a.G.P&1024;break;case "I":a=a.G.P&512;break;case "T":a=a.G.P&256;break;case "S":a=lh(a.G);break;case "Z":a=kh(a.G);break;case "A":a=jh(a.G);break;case "P":a=ih(a.G);break;case "C":a=hh(a.G);break;default:a=0}return b+(a?"1":"0")+" "}function Lv(a){return Xa(a,a&-65536?8:4)}function ry(a,b){b>=xw&&b<=Ew&&4<a.Ja&&(b+=Nw-xw);var c=nw[b];b==Vw&&80286==a.G.model&&(c="MS");return c+"="+ow(a,b)+" "}
function sy(a,b,c){return b.zj+"="+Xa(b.W,4)+(c?"["+Xa(b.Da,a.Ba)+","+Lv(b.ob)+"]":"")}function ty(a,b,c,d,e){return b+"="+(null!=c?Xa(c,4):"")+"["+Xa(d,a.Ba)+","+Xa(e-d,4)+"]"}m.Bn=function(a,b){return a[0]>b[0]?1:a[0]<b[0]?-1:0};
function zp(a,b,c,d,e,f,g,h){var k={},l=[],p;for(p in h){var n=h[p];"number"==typeof n&&(h[p]=n={o:n});var q=n.o,u=n.s,y=n.a;void 0!==q&&(void 0!==u&&(k.Sa=q,k.W=u,k.Ca=void 0,a.Ac(k),(k.Ca&-65536)==(a.ra.N&-65536)&&(k.Ca&=1048575),n.p=k.Ca),mb(l,[q>>>0,p],a.Bn));y&&(n.a=y.replace(/''/g,'"'))}d={No:b,Kt:c,W:d,Sa:e,Ca:f,Es:g,le:h,Yi:l};e=a.D.findIndex(function(N){return N.No==b&&N.Kt==c});0>e&&(e=a.D.length);a.D[e]=d}
function ox(a,b,c,d){var e=b&65535,f=b>>16&65535;b=Object.keys(Qc);var g=ba(b),h=g.next();for(b={};!h.done;b={Af:void 0,fg:void 0},h=g.next())if(b.fg=h.value,f==Qc[b.fg].id){if(Qc[b.fg].cb){if(f=Qc[b.fg].cb[e]){b.Af=a;a=function(k){return function(l,p){var n=p>>>0,q=k.Af.D.findIndex(function(N){return 40==N.W&&n>=N.Sa>>>0&&n<N.Sa+N.Es>>>0});if(0<=q){p=l.toUpperCase();q=k.Af.D[q];var u=q.le[p];if(u){if(u.o==n&&u.s==q.W)return!0;k.Af.J(3298534883328,"%s.%s (%%%X) does not match previous value (%%%X)\n",
k.fg,l,n,u.o);return!1}u=[n,p];var y=lb(q.Yi,u,k.Af.Bn);0>y?(q.Yi.splice(-(y+1),0,u),q.le[p]={o:n,s:q.W},d&&"$"!=l[0]&&k.Af.J(2267742732288,"%s.%s: %%%X\n",k.fg,l,n)):(q.Yi[y]=u,q.le[p]={o:n,s:q.W});return!0}k.Af.J(3298534883328,"%s.%s (%%%X) out of range (check %%%X)\n",k.fg,l,n,c.Ca-2);return!1}}(b);e=Vv(b.Af,c);a("$"+f,e)&&(c.Ca=e,a(f,Vv(b.Af,c)));return}32768>e&&a.J(2748779069440,"%s service %d: unrecognized (check %%%X)\n",b.fg,e,c.Ca-2)}return}a.J(2748779069440,"VxD %d: unrecognized (check %%%X)\n",
f,c.Ca-2)}function Tv(a,b,c){for(var d=null,e=0;e<a.D.length;e++){var f=a.D[e];if(!b||f.No==b)if(b&&c==f.Kt||!b&&c==f.W){d=f.No;a.D.splice(e,1);break}}return d}function $x(a,b,c){for(var d=[],e=b.Sa>>>0,f=a.Ac(b)>>>0,g=0;g<a.D.length;g++){var h=a.D[g],k=h.W,l=h.Sa>>>0,p=h.Ca;null!=p&&(p>>>=0);var n=h.Es;48==k&&(k=40);if(k==b.W&&e>=l&&e<l+n||null!=p&&f>=p&&f<p+n){b=lb(h.Yi,[e],a.Bn);0<=b?uy(a,g,b,d):c&&(b=~b,uy(a,g,b-1,d),uy(a,g,b,d));break}}return d}
function uy(a,b,c,d){var e={},f=a.D[b].Yi,g=0,h=null;0<=c&&c<f.length&&(g=f[c][0],h=f[c][1]);h&&(e=a.D[b].le[h],h="."==h.charAt(0)?null:e.l||h);d.push(h);d.push(g);d.push(e.a);d.push(e.c)}
function vy(a,b){if("?"==b)a.J("frequency commands:\n"),a.J("\tclear\tclear all frequency counts\n");else{var c=0;if(a.P)if("clear"==b){for(b=0;b<a.P.length;b++)a.P[b]=[b,0];a.J("frequency data cleared\n");c++}else if(void 0!==b)a.J("unknown frequency command: %s\n",b),c++;else{var d=a.P.slice();d.sort(function(g,h){return h[1]-g[1]});for(b=0;b<d.length;b++){var e=d[b][0],f=d[b][1];f&&(a.J("%s (%#04x): %d times\n",(tx[a.Ha[e][0]]+"  ").substr(0,5),e,f),c++)}}c||a.J("no frequency data available\n")}}
function wy(a,b){var c=b.match(/^\s*([A-Z_]?[A-Z0-9_]*)\s*(=?)\s*(.*)$/i);if(c){if(!c[1])return wv(a)||a.J("no variables\n"),!0;if(!c[2])return wv(a,c[1]);if(!c[3])return delete a.L[c[1]],!0;b=tv(a,c[3]);return void 0!==b?(a.L[c[1]]={value:b,cC:void 0},!0):!1}a.J("invalid assignment:%s\n",b);return!1}
function xy(a,b,c){var d=null;if(b=hw(a,b,!0)){a.Ac(b);var e=$x(a,b,!0);if(e.length){var f;if(e[0]){var g="";(f=(b.Sa>>>0)-e[1])&&(g=" + "+Xa(f,0,!0));f=e[0]+" ("+Mv(e[1],b.W)+")"+g;c&&a.J("%s\n",f);d=f}4<e.length&&e[4]&&(g="",(f=e[5]-(b.Sa>>>0))&&(g=" - "+Xa(f,0,!0)),f=e[4]+" ("+Mv(e[5],b.W)+")"+g,c&&a.J("%s\n",f),d||(d=f))}else c&&a.J("no symbols\n")}return d}
function yy(a,b){if(b[1]&&"?"!=b[1]){var c="json"==b[1],d=0,e=0,f=c?{}:hw(a,b[1]);if(f){var g=nv(a,b[2],"drive #");if(void 0!==g){if(!c){d=nv(a,b[3],"sector #");if(void 0===d)return;e=nv(a,b[4],"# of sectors");void 0===e&&(e=1)}var h=a.Ta;2<=g&&a.Fb&&(g-=2,h=a.Fb);if(h){var k=h.es(g);if(k)if(k.ua)if(c)zy(a.Ea),a.J("%s\n",nt(k.ua));else if(h.pu(k,d,e)){var l=0,p=!1;for(b=Yv(f);!p&&0<k.Bb--;)(function(n,q){h.Ag(k,function(u){0>u?(n.J("out of data at address %s\n",Yv(q)),p=!0):(n.Ob(q,u,1,!0),l++)})})(a,
f);Ee(a.G,!0);a.J("%d bytes read at %s\n",l,b)}else a.J("sector %d request out of range\n",d);else a.J("drive %d not loaded\n",g);else a.J("invalid drive: %d\n",g)}else a.J("disk controller not present\n")}}}else a.J("load commands:\n"),a.J("\tl [address] [drive #] [sector #] [# sectors]\n")}
function gx(a,b){var c;if(b&&"?"==b[1])a.J("register commands:\n"),a.J("\tr\tdump registers\n"),a.vc&&a.J("\trfp\tdump floating-point registers\n"),a.J("\trp\tdump all registers\n"),a.J("\trx [#]\tset flag or register x to [#]\n");else{null==c&&(c=!0);if(null!=b&&1<b.length){var d=b[1];if(a.vc&&"fp"==d){c=a.vc;var e=li(c);b=c.xc;for(var f=0;8>f;f++){var g=c;d=null;if(f<g.F.length){d=[];var h=g.B+f&7;d[0]=h;d[1]=Di(g,h);d[2]=g.F[h];h<<=1;d[3]=g.M[h];d[4]=g.M[h+1];g=Ii(g,d[3],d[4]);d[5]=g[0];d[6]=g[1];
d[7]=g[2]}if(!d)break;g=eb(d[2].toFixed(15),24);a.J("ST%d: %s  %x,%x  [%d:%s]\n",f,g,d[4],d[3],d[0],Ay[d[1]])}a.J("    B3SSS210ESPUOZDI               xxxIRRPPIxPUOZDI\n");a.J("SW: %s (%#06x)  CW: %s (%#06x)\n",Ta(e,16),e,Ta(b,16),b);return}if("p"==d)e=80286<=a.G.model;else{f=d.indexOf("=");if(0<f)b=d.substr(f+1),d=d.substr(0,f);else if(2<b.length)b=b[2];else{a.J("missing value for %s\n",b[1]);return}g=tv(a,b);if(void 0===g)return;f=!0;var k=d.toUpperCase();"E"==k[0]&&"S"!=k[1]&&4>=a.Ja&&(k=null);
switch(k){case "AL":a.G.D=a.G.D&-256|g&255;break;case "AH":a.G.D=a.G.D&-65281|g<<8&255;break;case "AX":a.G.D=a.G.D&-65536|g&65535;break;case "BL":a.G.H=a.G.H&-256|g&255;break;case "BH":a.G.H=a.G.H&-65281|g<<8&255;break;case "BX":a.G.H=a.G.H&-65536|g&65535;break;case "CL":a.G.I=a.G.I&-256|g&255;break;case "CH":a.G.I=a.G.I&-65281|g<<8&255;break;case "CX":a.G.I=a.G.I&-65536|g&65535;break;case "DL":a.G.M=a.G.M&-256|g&255;break;case "DH":a.G.M=a.G.M&-65281|g<<8&255;break;case "DX":a.G.M=a.G.M&-65536|g&
65535;break;case "SP":fg(a.G,dg(a.G)&-65536|g&65535);break;case "BP":a.G.N=a.G.N&-65536|g&65535;break;case "SI":a.G.L=a.G.L&-65536|g&65535;break;case "DI":a.G.K=a.G.K&-65536|g&65535;break;case "DS":$g(a.G,g);break;case "ES":ah(a.G,g);break;case "SS":ig(a.G,g);break;case "CS":Zg(a.G,g);a.U=zv(a,kg(a.G),Og(a.G));break;case "IP":case "EIP":bh(a.G,g);a.U=zv(a,kg(a.G),Og(a.G));break;case "PC":case "PS":lg(a.G,g);break;case "C":g?oh(a.G):ph(a.G);break;case "P":g?(d=a.G,d.resultType&=-3,d.P|=4):(d=a.G,d.resultType&=
-3,d.P&=-5);break;case "A":g?wh(a.G):sh(a.G);break;case "Z":g?xh(a.G):vh(a.G);break;case "S":g?(d=a.G,d.resultType&=-17,d.P|=128):(d=a.G,d.resultType&=-17,d.P&=-129);break;case "I":g?(d=a.G,d.P|=512):(d=a.G,d.P&=-513);break;case "D":g?(d=a.G,d.P|=1024):(d=a.G,d.P&=-1025);break;case "V":g?qh(a.G):rh(a.G);break;default:h=!0;if(80286<=a.G.model)switch(h=!1,k){case "MS":yh(a.G,g);break;case "TR":4294967296===a.G.la.load(g)&&(f=!1);break;default:if(h=!0,80386<=a.G.model)switch(h=!1,k){case "EAX":a.G.D=
g;break;case "EBX":a.G.H=g;break;case "ECX":a.G.I=g;break;case "EDX":a.G.M=g;break;case "ESP":fg(a.G,g);break;case "EBP":a.G.N=g;break;case "ESI":a.G.L=g;break;case "EDI":a.G.K=g;break;case "FS":a.G.Qa.load(g);break;case "GS":a.G.Ta.load(g);break;case "CR0":a.G.ta=g;vl.call(a.G,g);break;case "CR2":a.G.ee=g;break;case "CR3":a.G.Lc=g;a.G.Lc=g;Bd(a.G);break;default:h=!0}}if(h){a.J("unknown register: %s\n",d);return}}if(!f){a.J("invalid value: %s\n",b);return}Ee(a.G);a.J("updated registers:\n")}}b=a.J;
void 0===e&&(e=$v(a));f=ry(a,xw)+ry(a,Aw)+ry(a,yw)+ry(a,zw)+(4<a.Ja?"\n":"")+ry(a,Bw)+ry(a,Cw)+ry(a,Dw)+ry(a,Ew)+"\n"+sy(a,a.G.U,e)+" "+sy(a,a.G.Ha,e)+" "+sy(a,a.G.ka,e)+" ";e?(d="TR="+Xa(a.G.la.W,4),g=a.ra,g="A20="+(g.H||g.N!=g.C?"OFF ":"ON "),80386>a.G.model&&(d="\n"+d,f+=g,g=""),f+="\n"+sy(a,a.G.ca,e)+" ",80386<=a.G.model&&(g+="\n",f+=sy(a,a.G.Qa,e)+" "+sy(a,a.G.Ta,e)+"\n"),f+=ty(a,"LD",a.G.Fb.W,a.G.Fb.Da,a.G.Fb.Da+a.G.Fb.ob)+" "+ty(a,"GD",null,a.G.Tb,a.G.vd)+" "+ty(a,"ID",null,a.G.Zb,a.G.$d)+
" ",f=f+(d+" "+g)+ry(a,Vw),80386<=a.G.model&&(f+=ry(a,Xw)+ry(a,Yw))):80386<=a.G.model&&(f+=sy(a,a.G.Qa,e)+" "+sy(a,a.G.Ta,e)+" ");f+=ry(a,$w)+qy(a,"V")+qy(a,"D")+qy(a,"I")+qy(a,"T")+qy(a,"S")+qy(a,"Z")+qy(a,"A")+qy(a,"P")+qy(a,"C");b.call(a,"%s\n",f);c&&(a.U=zv(a,kg(a.G),Og(a.G)),hx(a,Yv(a.U)))}}function By(a,b){b=gb(b);var c=b.match(/^(['"])(.*?)\1$/);c?a.J("%s\n",ax(a,c[2])):tv(a,b,!1)}
function Cy(a,b,c){for(var d=null,e=b.Sa,f=e,g=1;6>=g&&e;g++){if(2<g){b.Sa=e;b.Ca=void 0;var h=sx(a,b);if(0<=h.indexOf("CALL")||c&&0<=h.indexOf("INT")){var k=h.indexOf(" ");if(e+(h.indexOf(" ",k+1)-k-1)/2==f){d=h;break}}}e--}b.Sa=f;return d}function Dy(a,b,c){var d="t"!=b;c=nv(a,c,void 0,!0)||1;var e=1==c?0:1;"tc"==b&&(e=c,c=1);Sb(c,function(){return Ec(a,!0)&&Zv(a,e,d,!1)},function(){Ee(a.G,!0);Ec(a,!1)})}function ky(a){null!=a.hs&&(a.lc=a.hs);null!=a.gs&&(a.zc=a.gs);a.hs=a.lc;a.gs=a.zc}
function hx(a,b,c,d){if(b=hw(a,b,!0)){void 0===d&&(d=1);var e=256;if(void 0!==c){d=hw(a,c,!0);if(!d||d.Sa<b.Sa)return;e=d.Sa-b.Sa+1;0>e&&(e=1);4096<e&&(e=4096);d=-1}c=0;for(ky(b);0<e&&d--;){var f=Dc(a,!1)||a.K?a.Z:-1;var g=0<=f?"cycles":"",h=$x(a,b),k=b.Ca;if(h[0]&&d&&(!c&&d||0>h[0].indexOf("+"))){var l=h[0]+":";h[2]&&(l+=" "+h[2]);a.J("%s\n",l)}h[3]&&(g=h[3],f=-1);f=sx(a,b,g,f);a.J("%s\n",f);a.U=b;e-=b.Ca-k;c++}}}
m.uj=function(a,b,c){c=void 0===c?";":c;if(b)if(a){0>this.C&&this.F.length&&(this.C=0);if(0>this.C||a!=this.F[this.C])this.F.splice(0,0,a),this.C=0;this.C--}else a=this.F[this.C+1];b=[];if(a){a=a.replace(/""/g,"'");for(var d=0,e=null,f=!1,g=0,h=null;g<=a.length;g++){var k=a.charAt(g);if('"'==k||"'"==k)e?k==e&&(e=null):(e=k,f=!0);else if(k==c&&!e&&k!=h||!k)d=gb(a.substring(d,g)),f||(d=d.toLowerCase()),b.push(d),d=g+1,f=!1;h=k}if(" "==c&&b.length)for(a=b[0],c=a.charAt(0),e=1;e<a.length;e++)if(f=a.charAt(e),
"?"==c||"r"==c||"a">f||"z"<f){b[0]=a.substr(e);b.unshift(a.substr(0,e));break}}return b};
function px(a,b,c){var d=!0;if(!a.G)return a.J("no CPU attached\n"),!1;try{if(!b.length||"end"==b)a.ta&&(a.J("ended assemble at %s\n",Yv(a.pa)),a.U=a.pa,a.ta=!1),b="";else if(!c){var e=">> ";a.G.ta&1&&(e=a.G.P&131072?"-- ":"## ");a.J("%s%s\n",e,b)}var f=b.charAt(0);if('"'==f||"'"==f)return!0;a.Na=null;if(Bc(a)&&0<b.length){a.ta&&(b="a "+Yv(a.pa)+" "+b);var g=a.uj(b,!1," ");switch(g[0].charAt(0)){case "a":var h=hw(a,g[1],!0);if(h)if(a.pa=h,void 0===g[2])a.J("begin assemble at %s\n",Yv(h)),a.ta=!0,
Ee(a.G);else{a.J("not supported yet\n");var k=[];if(k.length){for(var l=0;l<k.length;l++)a.Ob(h,k[l],1);a.J("%s\n",sx(a,a.pa))}}break;case "b":a:{var p=b,n=g.shift(),q=g.shift();if("?"==q)a.J("breakpoint commands:\n"),a.J("\tbi [p]\ttoggle break on input port [p]\n"),a.J("\tbo [p]\ttoggle break on output port [p]\n"),a.J("\tbp [a]\tset exec breakpoint at addr [a]\n"),a.J("\tbr [a]\tset read breakpoint at addr [a]\n"),a.J("\tbw [a]\tset write breakpoint at addr [a]\n"),a.J("\tbc [a]\tclear breakpoint at addr [a]\n"),
a.J("\tbl\tlist all breakpoints\n"),a.J("\tbn [n]\tbreak after [n] instruction(s)\n"),a.J("\tbv [n]\ttoggle break on interrupt vector [n]\n");else{var u=n.charAt(1);if("l"==u){var y=nx(a,a.A);y+=nx(a,a.ba);(y+=nx(a,a.N))||a.J("no breakpoints\n")}else if("n"==u)a.La=nv(a,q),a.J("break after %d instruction(s)\n",a.La);else if("v"==u)if(q){do{var N=q[0];"&"==N||"#"==N?q=q.slice(1):N="";var E=nv(a,q);if(void 0!=E){var G=a,K=qx(G,E);if(0<=K){rx(G,E,!1);G.M.splice(K,1);Bv(G);var B=!0}else B=!1;if(B)continue;
var qa=void 0,Ba=a,Aa=E;if(0>qx(Ba,Aa)){var Ha="#"==N||!N&&$v(Ba)?Jv:aw;if(Ha!=Jv){var Ua=Ba.G.na(Aa<<2),Pb=Ua&65535,de=Ua>>16&65535;qa=zv(Ba,Pb,de,(de<<4)+Pb,Ha)}Ba.M.push({Bj:Aa,type:Ha,En:qa});rx(Ba,Aa,!0);Bv(Ba);var Wb=!0}else Wb=!1;if(Wb)continue}a.J("vector %s invalid\n",q);break}while(q=g.shift())}else rx(a);else if(void 0===q)a.J("missing breakpoint address\n");else{var ob={};if("*"!=q&&(ob=hw(a,q,!0,!0),!ob))break a;q=null==ob.Sa?q:Za(ob.Sa);if("c"==u)null==ob.Sa?(Av(a),a.J("all breakpoints cleared\n")):
Xv(a,a.A,ob)||Xv(a,a.ba,ob)||Xv(a,a.N,ob)||a.J("breakpoint missing: %s\n",Yv(ob));else if("i"==u){var Re=a.J;var Gb=a.ra,Se=ob.Sa;if(null==Se){Gb.I=!Gb.I;var nd=Gb.I}else void 0===Gb.D[Se]&&(Gb.D[Se]=[null,!1]),Gb.D[Se][1]=!Gb.D[Se][1],nd=Gb.D[Se][1];Re.call(a,"breakpoint %s: port %s (input)\n",nd?"enabled":"cleared",q)}else if("o"==u){var em=a.J;var Uc=a.ra,ee=ob.Sa;if(null==ee){Uc.K=!Uc.K;var Ch=Uc.K}else void 0===Uc.F[ee]&&(Uc.F[ee]=[null,!1]),Uc.F[ee][1]=!Uc.F[ee][1],Ch=Uc.F[ee][1];em.call(a,
"breakpoint %s: port %s (output)\n",Ch?"enabled":"cleared",q)}else null!=ob.Sa&&(kw(a,ob,p),"p"==u?a.Ce(a.A,ob):"r"==u?a.Ce(a.ba,ob):"w"==u?a.Ce(a.N,ob):a.J("unknown breakpoint command: %s\n",u))}}}break;case "c":zy(a.Ea);break;case "d":a:{var xb=g,Gg,Ib=xb[0],ad=xb[1],Ze=xb[2],qu=xb[3];if("?"==ad){var Hg="";for(Gg in ya)a.bb[Gg]&&(Hg&&(Hg+=","),Hg+=Gg);Hg+=",state,symbols";a.J("dump memory commands:\n");a.J("\tda [a] [#]    dump # ASCII chars at address a\n");a.J("\tdb [a] [#]    dump # bytes at address a\n");
a.J("\tdw [a] [#]    dump # words at address a\n");a.J("\tdd [a] [#]    dump # dwords at address a\n");a.J("\tdh [n] [#]    dump # instructions from history n\n");a.J("\tdi [#]        dump descriptor info for IDT #\n");a.J("\tds [#]        dump descriptor info for selector #\n");a.J("\tdby,dwy,ddy   dump data in binary\n");Hg.length&&a.J("dump extension commands:\n\t%s\n",Hg)}else if("state"==ad){var fn=Ey(a.Ea,!0);fn?"console"==Ze?console.log(fn):(zy(a.Ea),a.J("%s\n",fn)):a.J("powerOff() error\n")}else if("symbols"==
ad){for(var ru=0,gn=0;gn<a.D.length;gn++){var Yj=a.D[gn],Jg;for(Jg in Yj.le)if("."!=Jg.charAt(0)){var su=Yj.le[Jg],tu=su.o;if(void 0!==tu){var hn=su.s;void 0===hn&&(hn=Yj.W);var uu=Yj.le[Jg].l;uu&&(Jg=uu);a.J("%s %s\n",Mv(tu,hn),Jg);ru++}}}ru||a.J("no symbols\n")}else{if("ds"==Ib||"dg"==Ib||"dl"==Ib)Ib="d",xb=[Ib,"desc",ad];"d"==Ib&&"page"==ad&&(Ib="dp",xb.shift());if("dp"==Ib){xb.shift();var jn=xb[0];if(jn){var Vh=a.Ac(hw(a,jn));if(4294967296===Vh)a.J("invalid address: %s\n",jn);else{var Kg,Ab=null;
if(80386<=a.G.model){var Zj=a.ra;Ab={};Ab.Nt=(Vh&-4194304)>>>20;Ab.Rr=a.G.Lc+Ab.Nt;Ab.Qb=Zj.X[(Ab.Rr&Zj.C)>>>12];Ab.Cs=Ab.Qb.Ff(Ab.Nt);Ab.Ot=(Vh&4190208)>>>10;Ab.Sr=(Ab.Cs&-4096)+Ab.Ot;Ab.Rb=Zj.X[(Ab.Sr&Zj.C)>>>12];Ab.Ds=Ab.Rb.Ff(Ab.Ot);Ab.yz=(Ab.Ds&-4096)+(Vh&4095)}if(Kg=Ab){a.J("linear     PDE addr   PDE             PTE addr   PTE             physical\n");a.J("---------  ---------- --------        ---------- --------        ----------\n");var ak="%"+Xa(Vh);ak+="  %%"+mw(Kg.Rr,Kg.Cs);ak+="  %%"+
mw(Kg.Sr,Kg.Ds,!0);ak+="  %%"+Xa(Kg.yz);a.J("%s\n",ak)}else a.J("unsupported operation\n")}}else a.J("missing address\n")}else{if("d"==Ib){if("disk"==ad){xb[0]="l";xb[1]="json";yy(a,xb);break a}for(Gg in ya)if(xb[1]==Gg){var vu=a.bb[Gg];vu?(xb.shift(),xb.shift(),vu(xb)):a.J("no dump registered for %s\n",ad);break a}ad||(Ib=a.Zb||"db")}if("dh"==Ib){var wu=ad,xu=Ze,Wh=qu;Wh=void 0===Wh?"history":Wh;var yu="",zu=0,me=a.ka,ne=a.O;if(ne.length){var Jd=+wu||a.Ib,bk=+xu||10;isNaN(Jd)?Jd=bk:yu="more ";Jd>
ne.length&&(a.J("note: only %d available\n",ne.length),Jd=ne.length);me-=Jd;0>me&&(null==ne[ne.length-1].W?(Jd=me+Jd,me=0):me+=ne.length);var kn=[];"call"==xu&&(bk=1E5,kn=["CALL"]);void 0!==wu&&a.J("%d instructions earlier:\n",Jd);for(var ck="",ln=0,sz="cycles"==Wh;0<bk&&me!=a.ka;){var mc=ne[me++];if(null==mc.W)break;var tz=zv(a,mc.Sa,mc.W,mc.Ca,mc.type,mc.lc,mc.zc),mn=Jd--;sz&&(mn=ln,null!=mc.On&&(mn=mc.On-ln,ln=mc.On));var Xh=sx(a,tz,Wh,mn);null!=mc.bf&&(Xh=null!=mc.ml?Xh+(" ("+mc.ml+","+Ya(mc.bf)+
")"):Xh+(" ("+Ya(mc.bf>>16)+",AX="+Za(mc.bf&65535)+")"));if(!kn.length||0<=Xh.indexOf(kn[0]))ck+=(ck?"\n":"")+Xh;me>=ne.length&&(me=0);a.Ib=Jd;zu++;bk--}ck&&a.J("%s\n",ck)}zu||(a.J("no %shistory available\n",yu),a.Ib=void 0)}else if("di"==Ib){xb.shift();var nn=xb[0];if(nn){var Yh=nv(a,nn);if(void 0===Yh||0>Yh||255<Yh)a.J("invalid vector: %s\n",nn);else{var Au="&",Bu=!!(a.G.ta&1),Cu=!1,dk=a.G.Zb+(Yh<<(Bu?3:2)),Du=a.G.qa(dk+0),uz=a.G.qa(dk+2);Bu&&(Au="#",a.G.qa(dk+4)&2048&&(Cu=!0,Du|=a.G.qa(dk+6)<<
16));a.J("dumpIDT(%#06x): %s%04x:%0*x\n",Yh,Au,uz,Cu?8:4,Du)}}else a.J("no IDT vector\n")}else if("dt"==Ib)xb.shift(),a.J("%s\n","no information");else if(Ib[1]&&0>"abwd".indexOf(Ib[1]))a.J("unrecognized dump command\n");else{a.Zb=Ib;var oe=hw(a,ad);if(oe&&(null!=oe.W||null!=oe.Ca)){var pe=0;if(Ze){if("l"==Ze.charAt(0))Ze=Ze.substr(1)||qu,pe=nv(a,Ze);else{var on=hw(a,Ze);if(!on)break a;pe=oe.type!=jw?on.Sa-oe.Sa+1:on.Ca-oe.Ca+1}if(0>pe||65536<pe)pe=0}var Mf="",pn=!1,ek=0,$e="d"==Ib[1]?4:"w"==Ib[1]?
2:1,Nf=$e*pe||128,fk=Nf+15>>4||1,Zh=4==$e?16:a.I;"a"==Ib[1]?(pn=!0,Zh=160,fk=1>=pe?25:Math.ceil(pe/Zh),Nf=fk*Zh):"y"==Ib[2]&&(Zh=$e,pe||(Nf=8),fk=Nf,ek=8*$e);for(;fk--&&0<Nf;){var $h=0,qn=0,ai=void 0,rn="",bi="";ad=Yv(oe);for(ai=Zh;0<ai&&0<Nf;ai--){var gk=a.Ia(oe,1);$h|=gk<<(qn++<<3);qn==$e&&(rn+=8==a.I?Va($h,3*$e):Xa($h,2*$e),rn+=1==$e?9==ai?"-":" ":"  ",ek&&(bi+=Ta($h,ek)),$h=qn=0);ek||(bi+=32<=gk&&127>gk?String.fromCharCode(gk):pn?"":".");Nf--}Mf&&(Mf+="\n");Mf=pn?Mf+bi:Mf+(ad+"  "+rn+eb(bi,bi.length+
3*ai+1))}Mf&&a.print(Mf.replace(/\s*$/,"")+"\n");a.Oa=oe}}}}}break;case "e":if("else"==g[0])break;var Eu=g[1];if(null==Eu)a.J("edit memory commands:\n"),a.J("\teb [a] [...]  edit bytes at address a\n"),a.J("\tew [a] [...]  edit words at address a\n");else{var af=hw(a,Eu);if(af)if("ev"==g[0])for(var qe=0;256>qe;qe++){var Fu=Xa(qe,2);!qe||qe&15||cw(a,af,64);a.Zj(af,qe<<8|Fu.charCodeAt(0),2,!0);a.Zj(af,qe<<8|Fu.charCodeAt(1),2,!0);a.Zj(af,qe<<8|32,2,255>qe)}else{var hk=1,Gu=255,Hu=a.Ia,Iu=a.Ob;"ew"==
g[0]&&(hk=2,Gu=65535,Hu=a.he,Iu=a.Zj);for(var Ju=hk<<1,sn=!1,ci=2;ci<g.length;ci++){var re=g[ci];if('"'==re[0]||"'"==re[0]){for(var tn=[],un=1;un<re.length;un++){var Ku=re[un];if(Ku==re[0])break;tn.push(Ya(Ku.charCodeAt(0)))}tn.push("");g.splice.apply(g,[ci,1].concat(ca(tn)));re=g[ci];sn=!0}if(re){var Of=tv(a,re);if(void 0===Of){a.J("unrecognized value: %s\n",re);break}Of&~Gu&&a.J("warning: %x exceeds %s-byte value\n",Of,hk);var Lu=Hu.call(a,af);sn&&(Of=Lu&-256|Of&127);a.J("changing %s from %#0*x to %#0*x\n",
Yv(af),Ju,Lu,Ju,Of);Iu.call(a,af,Of,hk)}else sn=!1}}}break;case "f":vy(a,g[1]);break;case "g":a:{var Mu=g[1],vz=b;"gt"==g[0]&&(a.Qa=!0);if(void 0!==Mu){var vn=hw(a,Mu,!0);if(!vn)break a;kw(a,vn,vz);a.Ce(a.A,vn,!0)}fx(a,c)&&Ge(a.G,!0,c)}break;case "h":El(a)||Dc(a,!0)||c||a.J("already halted\n");break;case "i":if("if"==g[0]){var di=b.substr(2);di=gb(di);if(tv(a,di)){c||a.J("true: %s\n",di);var Nu=!0}else c||a.J("false: %s\n",di),Nu=!1;Nu||(d=!1);break}if("int"==g[0]){a:switch(nv(a,g[1])){case 19:rm(a,
19,a.G.Z,!0);a.ya=a.ia;var wn=!0;break a;case 33:rm(a,33,a.G.Z,!0);a.ya=a.ia;wn=!0;break a;default:wn=!1}wn||(d=!1);break}var xn=g[1];if(xn&&"?"!=xn){var yn=nv(a,xn);if(void 0!==yn){var wz=Rd(a.ra,yn,1);a.J("%#06x: %#04x\n",yn,wz)}}else a.J("input commands:\n"),a.J("\ti [p]\tread port [p]\n"),a.J("warning: port accesses can affect hardware state\n");break;case "k":var xz=g[0];if("?"==g[1])a.J("stack trace commands:\n"),a.J("\tk\tshow frame addresses\n"),a.J("\tks\tshow symbol information\n");else{var zn=
0,Ou=a.G.ca.W,Lg=zv(a),bf=zv(a,dg(a.G),a.G.U.W);for(a.J("stack trace for %s\n",Yv(bf));10>zn;){for(var Kd=null,Pu=null,yz=256;bf.Sa>>>0<a.G.Zf;){Lg.Sa=a.Nb(bf,!0);if(null==bf.Ca||!yz--)break;Lg.W=Ou;if(Kd=Cy(a,Lg))break;Lg.W=a.Nb(bf);if(Kd=Cy(a,Lg,!0)){Ou=a.Nb(bf,!0);0<Kd.indexOf("INT")&&a.Nb(bf,!0);break}}if(!Kd||Kd==Pu)break;var Qu=null;if("ks"==xz){var Ru=Kd.match(/[0-9A-F]+$/);Ru&&(Qu=xy(a,Ru[0]))}Kd=eb(Kd,Lg.zc?-74:-62)+";"+(Qu||"stack="+Yv(bf));a.J("%s\n",Kd);Pu=Kd;zn++}zn||a.J("no return addresses found\n")}break;
case "l":if("ln"==g[0]){xy(a,g[1],!0);break}yy(a,g);break;case "m":if("mouse"==g[0]){a:{var An=g[1],ei=g[2];if(a.H){var cf=0,Su=1;if(ei){"-"==ei.charAt(0)&&(Su=-1,ei=ei.substr(1));cf=nv(a,ei,An);if(void 0===cf)break a;cf=cf*Su|0}switch(An){case "x":a.H.Ah(cf,0);break;case "y":a.H.Ah(0,cf);break;case "click":a.H.Ze(cf,!0);a.H.Ze(cf,!1);break;default:a.J("unknown action: %s\n",An)}}else a.J("no mouse\n")}break}a:{var Pf,se=null,Ac=g[1],Qf=a.Zc;"?"==Ac&&(Ac=void 0);if(void 0!==Ac){var df=0;if("all"==
Ac)df=-0xbff000000002,Ac=null;else if("on"==Ac)se=!0,Ac=null;else if("off"==Ac)se=!1,Ac=null;else{for(Pf in ya)if(Ac==Pf){df=ya[Pf];se=Hc(Qf,df);break}if(!df){a.J("unknown message category: %s\n",Ac);break a}}df&&("on"==g[2]?(Qf=Gc(Qf,df),se=!0):"off"==g[2]&&(Qf=Fc(Qf,df),se=!1,0x800000000000==df&&(a.J("%s\n",a.Va.join("")),a.Va=[])))}var zz=0,fi="";for(Pf in ya)if(!Ac||Ac==Pf){var Az=Hc(Qf,ya[Pf]);if(null===se||se==Az)fi&&(fi+=","),++zz%10||(fi+="\n\t"),fi+=Pf}void 0===Ac&&a.J("message commands:\n\tm [category] [on|off]\tturn categories on/off\n");
a.J("%s%s\n",null!==se?se?"messages on:  ":"messages off: ":"message categories:\n\t",fi||"none");a.Zc=Qf;Bv(a)}break;case "o":var Bn=g[1],Bz=g[2];if(Bn&&"?"!=Bn){var Cn=nv(a,Bn,"port #"),Dn=nv(a,Bz);void 0!==Cn&&void 0!==Dn&&(Ud(a.ra,Cn,1,Dn),a.J("%#06x: %#04x\n",Cn,Dn))}else a.J("output commands:\n"),a.J("\to [p] [b]\twrite byte [b] to port [p]\n"),a.J("warning: port accesses can affect hardware state\n");break;case "p":if("print"==g[0]){By(a,b.substr(5));break}var Tu="pr"==g[0]?1:0,Rf=1+Tu;if(a.K)a.J("step in progress\n");
else{var Uu=!1,Jb=zv(a,kg(a.G),Og(a.G));do{var En=!1;var Fn=void 0;switch(a.Ia(Jb)){case 38:case 46:case 54:case 62:case 100:case 101:case 102:case 103:case 240:cw(a,Jb,1);En=!0;break;case 204:case 206:a.K=Rf;cw(a,Jb,1);break;case 205:a.K=Rf;cw(a,Jb,1);Fn=a.Ia(Jb);cw(a,Jb,1);if(50==Fn){var Vu=a.G.D>>8&255;if(4<=Vu&&6>=Vu){for(var Cz=128;(Fn=a.Ia(Jb))&&Cz--;)cw(a,Jb,1);cw(a,Jb,1)}}break;case 224:case 225:case 226:a.K=Rf;cw(a,Jb,Jb.lc?4:2);break;case 232:a.K=Rf;cw(a,Jb,Jb.lc?5:3);break;case 154:a.K=
Rf;cw(a,Jb,Jb.lc?7:5);break;case 255:var Wu=a.Nb(Jb)&14591;if(4351==Wu||6399==Wu)a.K=Rf,sx(a,Jb);break;case 243:case 242:cw(a,Jb,1);Uu=En=!0;break;case 108:case 109:case 110:case 111:case 164:case 165:case 166:case 167:case 170:case 171:case 172:case 173:case 174:case 175:Uu&&(a.K=Rf,cw(a,Jb,1))}}while(En);a.K?(a.Ce(a.A,Jb,!0),fx(a)&&Ge(a.G)||(a.Ea&&a.Ea.Ed(),a.K=0)):Dy(a,Tu?"tr":"t")}break;case "r":if("reset"==b){a.Ea&&a.Ea.reset();break}gx(a,g);break;case "t":Dy(a,g[0],g[1]);break;case "u":hx(a,
g[1],g[2],8);break;case "v":if("var"==g[0]){wy(a,b.substr(3))||(d=!1);break}a.J("%s version %s (%s%s%s%s%s)\n","PCx86","2.23",a.G.model,",RELEASE",",NOPREFETCH",",TYPEDARRAYS",",NOBACKTRACK");a.J("%s\n",Bb());break;case "x":a:if(1<g[0].length&&(g.splice(1,0,g[0].slice(1)),g[0]=g[0].charAt(0)),g[1]&&"?"!=g[1]){var gi;switch(g[1]){case "bv":switch(g[2]){case "halt":a.va=!0;break;case "trace":a.va=!1;break;default:if(g[2]){a.J("unknown vector option: %s\n",g[2]);break a}}a.J("vector breakpoints: %s\n",
a.va?"halt":"trace");break;case "cs":void 0!==g[3]&&(gi=+g[3]);switch(g[2]){case "int":a.G.Pe=gi;break;case "start":a.G.Yf=gi;break;case "stop":a.G.Re=gi;break;default:a.J("unknown cs option\n");break a}void 0!==gi&&De(a.G);a.J("checksums %s\n",a.G.flags.lh?"enabled":"disabled");break;case "sp":void 0!==g[2]&&(Ke(a.G,+g[2])||a.J("warning: using 1x multiplier, previous target not reached\n"));a.J("target speed: %s (%dx)\n",Le(a.G),a.G.wd);break;default:a.J("unknown option: %s\n",g[1])}}else a.J("execution options:\n"),
a.J("\tbv [halt|trace]\n"),a.J("\tcs int #\tset checksum cycle interval to #\n"),a.J("\tcs start #\tset checksum cycle start count to #\n"),a.J("\tcs stop #\tset checksum cycle stop count to #\n"),a.J("\tsp #\t\tset speed multiplier to #\n");break;case "?":if(g[1]){By(a,b.substr(1));break}var Gn="debugger commands:",Hn;for(Hn in Fy)Gn+="\n  "+eb(Hn,-7)+Fy[Hn];Th(a)||(Gn+="\nnote: frequency/history disabled if no exec breakpoints");a.J("%s\n",Gn);break;default:c||a.J("unknown command: %s\n",b),d=!1}}}catch(Yu){a.J("debugger error: %s\n",
Yu.stack||Yu.message),d=!1}return d}function Dv(a,b,c){var d=void 0===d?!1:d;b=a.uj(b,void 0===c?!1:c);for(var e in b)if(!px(a,b[+e],d))return!1;return!0}
var cx={16:536870912,19:32768,21:268435456,22:8388608,28:524288,33:4294967296,51:67108864},bx=[26,28,40,42,109],Fy={"?":"help/print","a [#]":"assemble","b [#]":"breakpoint",c:"clear output","d [#]":"dump memory","e [#]":"edit memory",f:"frequencies","g [#]":"go [to #]",h:"halt","i [#]":"input port #","if":"eval expression",k:"stack trace",l:"load sector(s)",ln:"list nearest symbol(s)",m:"messages",mouse:"mouse action","o [#]":"output port #",p:"step over",print:"print expression",r:"dump/set registers",
reset:"reset machine","t [#]":"trace","u [#]":"unassemble",x:"execution options",v:"print version","var":"assign variable"},iw=0,aw=1,Jv=2,lw=3,jw=4,bw=5,Bx=18,Cx=28,xx=36,Gx=81,Dx=105,Ex=108,vx=177,tx="INVALID AAA AAD AAM AAS ADC ADD AND ARPL AS: BOUND BSF BSR BT BTC BTR BTS CALL CBW CLC CLD CLI CLTS CMC CMP CMPSB CMPSW CS: CWD DAA DAS DEC DIV DS: ENTER ES: ESC FS: GS: HLT IBTS IDIV IMUL IN INC INS INT INT1 INT3 INTO IRET JBE JC JCXZ JG JGE JL JLE JMP JA JNC JNO JNP JNS JNZ JO JP JS JZ LAHF LAR LDS LEA LEAVE LES LFS LGDT LGS LIDT LLDT LMSW LOADALL LOCK LODSB LODSW LOOP LOOPNZ LOOPZ LSL LSS LTR MOV MOVSB MOVSW MOVSX MOVZX MUL NEG NOP NOT OR OS: OUT OUTS POP POPA POPF PUSHF PUSHA PUSH RCL RCR REPNZ REPZ RET RETF ROL ROR SAHF SALC SAR SBB SCASB SCASW SETBE SETC SETG SETGE SETL SETLE SETNBE SETNC SETNO SETNP SETNS SETNZ SETO SETP SETS SETZ SGDT SHL SHLD SHR SHRD SIDT SLDT SMSW SS: STC STD STI STOSB STOSW STR SUB TEST VERR VERW WAIT XBTS XCHG XLAT XOR".split(" "),
zx="FLD FST FSTP FXCH FILD FIST FISTP FBLD FBSTP FADD FADDP FIADD FSUB FSUBP FISUB FSUBR FSUBRP FISUBR FMUL FMULP FIMUL FDIV FDIVP FIDIV FDIVR FDIVRP FIDIVR FSQRT FSCALE FPREM FRNDINT FXTRACT FABS FCHS FCOM FCOMP FCOMPP FICOM FICOMP FTST FXAM FPTAN FPATAN F2XM1 FYL2X FYL2XP1 FLDZ FLD1 FLDPI FLDL2T FLDL2E FLDLG2 FLDLN2 FINIT FNINIT FDISI FNDISI FENI FNENI FLDCW FSTCW FNSTCW FSTSW FNSTSW FCLEX FNCLEX FSTENV FNSTENV FLDENV FSAVE FNSAVE FRSTOR FINCSTP FDECSTP FFREE FFREEP FNOP FWAIT FSETPM FSINCOS FSTSWAX".split(" "),
Ay=["VALID","ZERO ","SPEC ","EMPTY"],Hx=2,Ix=3,jy=[8086,80186,80286,80386],pw=0,qw=1,rw=2,sw=3,tw=4,uw=5,vw=6,ww=7,xw=8,yw=9,zw=10,Aw=11,Bw=12,Cw=13,Dw=14,Ew=15,Gw=16,Fw=22,$w=23,Nw=24,Ow=25,Pw=26,Qw=27,Rw=28,Sw=29,Tw=30,Uw=31,Vw=32,Ww=33,Xw=34,Yw=35,ny=40,py=48,Zw=56,nw=["AL","CL","DL","BL","AH","CH","DH","BH","AX","CX","DX","BX","SP","BP","SI","DI","ES","CS","SS","DS","FS","GS","IP","PS","EAX","ECX","EDX","EBX","ESP","EBP","ESI","EDI","CR0","CR1","CR2","CR3",null,null,null,null,"DR0","DR1","DR2",
"DR3",null,null,"DR6","DR7",null,null,null,null,null,null,"TR6","TR7","EIP"],Hw=0,Iw=1,Jw=2,Kw=3,Lw=4,Mw=5,Nx="BX+SI BX+DI BP+SI BP+DI SI DI BP BX EAX ECX EDX EBX ESP EBP ESI EDI".split(" "),Jx=15,Lx=240,ey=3840,Kx=0,W=1,Zx=2,Px=3,V=4,Ox=5,Qx=7,ux=8,cy=9,dy=10,Rx=11,Sx=11,Tx=12,Ux=12,Vx=13,Wx=14,X=0,Yx=16,ay=32,by=48,hy=64,iy=80,Z=96,fy=112,U=128,Mx=160,gy=192,ly=208,my=224,oy=240,Gy=pw<<8|Z|W,Hy=qw<<8|Z|W,Iy=xw<<8|Z|V,Jy=yw<<8|Z|V,Ky=zw<<8|Z|V,Ly=Aw<<8|Z|V,My=Bw<<8|Z|V,Ny=Cw<<8|Z|V,Oy=Dw<<8|Z|V,
Py=Ew<<8|Z|V,Qy=Hw<<8|fy|Px,Ry=Iw<<8|fy|Px,Sy=Jw<<8|fy|Px,Ty=Kw<<8|fy|Px,Uy=Lw<<8|fy|Px,Vy=Mw<<8|fy|Px,Y=12288,Wy=Hx<<14,T=Ix<<14,Fx=14,ex=1E3,Fv=[0,Kx],Gv=[vx,Px|Y],Ev=[[6,U|W|Y,W|4272],[6,U|V|Y,V|4272],[6,176|W|Y,U|W|4096],[6,176|V|Y,U|V|4096],[6,Gy|Y,X|W|4096],[6,Iy|Y,X|V|4096],[109,Qy|4096],[104,Qy|8192],[100,U|W|Y,W|4272],[100,U|V|Y,V|4272],[100,176|W|Y,U|W|4096],[100,176|V|Y,U|V|4096],[100,Gy|Y,X|W|4096],[100,Iy|Y,X|V|4096],[109,Ry|4096],[104,Ry|8192],[5,U|W|Y,W|4272],[5,U|V|Y,V|4272],[5,176|
W|Y,U|W|4096],[5,176|V|Y,U|V|4096],[5,Gy|Y,X|W|4096],[5,Iy|Y,X|V|4096],[109,Sy|4096],[104,Sy|8192],[121,U|W|Y,W|4272],[121,U|V|Y,V|4272],[121,176|W|Y,U|W|4096],[121,176|V|Y,U|V|4096],[121,Gy|Y,X|W|4096],[121,Iy|Y,X|V|4096],[109,Ty|4096],[104,Ty|8192],[7,U|W|Y,W|4272],[7,U|V|Y,V|4272],[7,176|W|Y,U|W|4096],[7,176|V|Y,U|V|4096],[7,Gy|Y,X|W|4096],[7,Iy|Y,X|V|4096],[35,ux],[29],[155,U|W|Y,W|4272],[155,U|V|Y,V|4272],[155,176|W|Y,U|W|4096],[155,176|V|Y,U|V|4096],[155,Gy|Y,X|W|4096],[155,Iy|Y,X|V|4096],[27,
ux],[30],[163,U|W|Y,W|4272],[163,U|V|Y,V|4272],[163,176|W|Y,U|W|4096],[163,176|V|Y,U|V|4096],[163,Gy|Y,X|W|4096],[163,Iy|Y,X|V|4096],[148,ux],[1],[24,U|W|4096,W|4272],[24,U|V|4096,V|4272],[24,W|4272,U|W|4096],[24,V|4272,U|V|4096],[24,Gy|4096,X|W|4096],[24,Iy|4096,X|V|4096],[33,ux],[4],[44,Iy|Y],[44,Jy|Y],[44,Ky|Y],[44,Ly|Y],[44,My|Y],[44,Ny|Y],[44,Oy|Y],[44,Py|Y],[31,Iy|Y],[31,Jy|Y],[31,Ky|Y],[31,Ly|Y],[31,My|Y],[31,Ny|Y],[31,Oy|Y],[31,Py|Y],[109,Iy|4096],[109,Jy|4096],[109,Ky|4096],[109,Ly|4096],
[109,My|4096],[109,Ny|4096],[109,Oy|4096],[109,Py|4096],[104,Iy|8192],[104,Jy|8192],[104,Ky|8192],[104,Ly|8192],[104,My|8192],[104,Ny|8192],[104,Oy|8192],[104,Py|8192],[Ex,Kx|16384],[Dx,Kx|16384],[10,V|20656,U|V|4096],[8,U|Px|8192|Wy,Px|4272],[37,ux|T],[38,ux|T],[101,ux|T],[9,ux|T],[109,X|V|20480],[42,176|Px|Y|16384,U|V|4096,X|V|4096],[109,X|Zx|20480],[42,Px|24752,U|V|4096,X|W|4096],[45,iy|W|24576,Ky|4096],[45,iy|V|24576,Ky|4096],[103,Ky|20480,hy|W|4096],[103,Ky|20480,hy|V|4096],[65,by|W|4096],[61,
by|W|4096],[52,by|W|4096],[60,by|W|4096],[68,by|W|4096],[64,by|W|4096],[51,by|W|4096],[59,by|W|4096],[67,by|W|4096],[63,by|W|4096],[66,by|W|4096],[62,by|W|4096],[56,by|W|4096],[55,by|W|4096],[57,by|W|4096],[54,by|W|4096],[164,U|W|Y,X|W|4096],[165,U|V|Y,X|V|4096],[164,U|W|Y,X|W|4096],[166,U|V|Y,X|W|4096],[156,U|W|4096,W|4272],[156,U|V|4096,V|4272],[161,176|W|Y,U|W|Y],[161,176|V|Y,U|V|Y],[91,U|W|8192,W|4272],[91,U|V|8192,V|4272],[91,W|8368,U|W|4096],[91,V|8368,U|V|4096],[91,U|V|8192,gy|Px|4096],[72,
V|8368,144|V],[91,gy|Px|8192,U|V|4096],[104,U|V|8192],[98],[161,Iy|Y,Jy|Y],[161,Iy|Y,Ky|Y],[161,Iy|Y,Ly|Y],[161,Iy|Y,My|Y],[161,Iy|Y,Ny|Y],[161,Iy|Y,Oy|Y],[161,Iy|Y,Py|Y],[Bx],[Cx],[17,X|Qx|4096],[159],[107],[106],[118],[69],[91,Gy|8192,ay|W|4096],[91,Iy|8192,ay|V|4096],[91,ay|W|8192,Gy|4096],[91,ay|V|8192,Iy|4096],[92,iy|W|8192,hy|W|4096],[93,iy|V|8192,hy|V|4096],[25,iy|W|4096,hy|W|4096],[26,iy|V|4096,hy|V|4096],[156,Gy|4096,X|W|4096],[156,Iy|4096,X|V|4096],[152,iy|W|8192,Gy|4096],[153,iy|V|8192,
Iy|4096],[83,Gy|8192,hy|W|4096],[84,Iy|8192,hy|V|4096],[122,Gy|4096,iy|W|4096],[123,Iy|4096,iy|V|4096],[91,Gy|8192,X|W|4096],[91,Hy|8192,X|W|4096],[91,rw<<8|Z|W|8192,X|W|4096],[91,sw<<8|Z|W|8192,X|W|4096],[91,tw<<8|Z|W|8192,X|W|4096],[91,uw<<8|Z|W|8192,X|W|4096],[91,vw<<8|Z|W|8192,X|W|4096],[91,ww<<8|Z|W|8192,X|W|4096],[91,Iy|8192,X|V|4096],[91,Jy|8192,X|V|4096],[91,Ky|8192,X|V|4096],[91,Ly|8192,X|V|4096],[91,My|8192,X|V|4096],[91,Ny|8192,X|V|4096],[91,Oy|8192,X|V|4096],[91,Py|8192,X|V|4096],[167,
U|W|Y|16384,X|W|4096],[168,U|V|Y|16384,X|W|4096],[114,X|Px|4096],[114],[74,V|8368,4246],[71,V|8368,4246],[91,U|W|8192,X|W|4096],[91,U|V|8192,X|V|4096],[34,X|Px|20480,X|W|4096],[73,Kx|16384],[115,X|Px|4096],[115],[48],[46,X|W|4096],[49],[50],[169,U|W|Y,Yx|W|4096],[170,U|V|Y,Yx|W|4096],[171,U|W|Y,Hy|4096],[172,U|V|Y,Hy|4096],[3,X|W],[2,X|W],[119],[162],[xx,U|V|4096],[xx,U|V|4096],[xx,U|V|4096],[xx,U|V|4096],[xx,U|V|4096],[xx,U|V|4096],[xx,U|V|4096],[xx,U|V|4096],[86,by|W|4096],[87,by|W|4096],[85,by|
W|4096],[53,by|W|4096],[43,Gy|8192,X|W|4096],[43,Iy|8192,X|W|4096],[102,X|W|4096,Gy|4096],[102,X|W|4096,Iy|4096],[17,by|V|4096],[58,by|V|4096],[58,X|Qx|4096],[58,by|W|4096],[43,Gy|8192,Ky|Px|4096],[43,Iy|8192,Ky|Px|4096],[102,Ky|Px|4096,Gy|4096],[102,Ky|Px|4096,Iy|4096],[82,ux],[47,Kx|T],[112,ux],[113,ux],[39],[23],[173,U|W|Y],[174,U|V|Y],[19],[149],[21],[151],[20],[150],[175,U|W|Y],[176,U|V|Y]],wx={0:[178,U|Px|Y],1:[179,U|Px|Y],2:[70,Px|8368|Wy,Px|4240],3:[88,Px|8368|Wy,Px|4240],5:[Gx,Wy],6:[22,
Wy],7:[Gx,T],32:[91,Mx|Ox|8192|T,ly|Ox|4096],33:[91,Mx|Ox|8192|T,my|Ox|4096],34:[91,ly|Ox|8192|T,Mx|Ox|4096],35:[91,my|Ox|8192|T,Mx|Ox|4096],36:[91,Mx|Ox|8192|T,oy|Ox|4096],38:[91,oy|Ox|8192|T,Mx|Ox|4096],128:[65,by|V|4096|T],129:[61,by|V|4096|T],130:[52,by|V|4096|T],131:[60,by|V|4096|T],132:[68,by|V|4096|T],133:[64,by|V|4096|T],134:[51,by|V|4096|T],135:[59,by|V|4096|T],136:[67,by|V|4096|T],137:[63,by|V|4096|T],138:[66,by|V|4096|T],139:[62,by|V|4096|T],140:[56,by|V|4096|T],141:[55,by|V|4096|T],142:[57,
by|V|4096|T],143:[54,by|V|4096|T],144:[136,U|W|8192|T],145:[132,U|W|8192|T],146:[125,U|W|8192|T],147:[131,U|W|8192|T],148:[139,U|W|8192|T],149:[135,U|W|8192|T],150:[124,U|W|8192|T],151:[130,U|W|8192|T],152:[138,U|W|8192|T],153:[134,U|W|8192|T],154:[137,U|W|8192|T],155:[133,U|W|8192|T],156:[128,U|W|8192|T],157:[127,U|W|8192|T],158:[129,U|W|8192|T],159:[126,U|W|8192|T],160:[109,Uy|4096|T],161:[104,Uy|8192|T],163:[13,U|V|4096|T,V|4272],164:[142,U|V|8192|T,V|4272,X|W|4096],165:[142,U|V|8192|T,V|4272,
Hy|4096],166:[160,V|8368|T,U|V|4096,Iy|4096,Hy|4096],167:[40,U|V|8192|T,Iy|4096,Hy|4096,V|4272],168:[109,Vy|4096|T],169:[104,Vy|8192|T],171:[16,U|V|8192|T,V|4272],172:[144,U|V|8192|T,V|4272,X|W|4096],173:[144,U|V|8192|T,V|4272,Hy|4096],175:[42,U|V|Y|T,V|4272],178:[89,V|8368,4246],179:[15,U|V|8192|T,V|4272],180:[75,V|8368,4246],181:[77,V|8368,4246],182:[95,V|8368|T,U|W|4096],183:[95,Ox|8368|T,U|Px|4096],186:[180,U|V|Y|T,X|W|4096],187:[14,U|V|8192|T,V|4272],188:[11,V|8368|T,U|V|4096],189:[12,V|8368|
T,U|V|4096],190:[94,V|8368|T,U|W|4096],191:[94,Ox|8368|T,U|Px|4096]},yx={216:{0:[9,U|Sx|4096],1:[18,U|Sx|4096],2:[34,U|Sx|4096],3:[35,U|Sx|4096],4:[12,U|Sx|4096],5:[15,U|Sx|4096],6:[21,U|Sx|4096],7:[24,U|Sx|4096],48:[9,Z|cy|8192,Z|dy|4096],49:[18,Z|cy|8192,Z|dy|4096],50:[34,Z|cy|8192,Z|dy|4096],51:[35,Z|cy|8192,Z|dy|4096],52:[12,Z|cy|8192,Z|dy|4096],53:[15,Z|cy|8192,Z|dy|4096],54:[21,Z|cy|8192,Z|dy|4096],55:[24,Z|cy|8192,Z|dy|4096]},217:{0:[0,U|Sx|4096],2:[1,U|Sx|8192],3:[2,U|Sx|8192],4:[68,U|4111],
5:[59,U|Px|4096],6:[66,U|8207],7:[60,U|Px|8192],48:[0,Z|dy|8192],49:[3,Z|dy|8192],50:[76],51:[2,Z|dy|8192],64:[33],65:[32],68:[39],69:[40],80:[47],81:[49],82:[50],83:[48],84:[51],85:[52],86:[46],96:[43],97:[44],98:[41],99:[42],100:[31],102:[73],103:[72],112:[29],113:[45],114:[27],116:[30],117:[28]},218:{0:[11,U|Rx|4096],1:[20,U|Rx|4096],2:[37,U|Rx|4096],3:[38,U|Rx|4096],4:[14,U|Rx|4096],5:[17,U|Rx|4096],6:[23,U|Rx|4096],7:[26,U|Rx|4096]},219:{0:[4,U|Rx|4096],2:[5,U|Rx|8192],3:[6,U|Rx|8192],5:[0,U|
Vx|4096],7:[2,U|Vx|8192],64:[57],65:[55],66:[64],67:[53],68:[78,Wy],115:[79,T]},220:{0:[9,U|Ux|4096],1:[18,U|Ux|4096],2:[34,U|Ux|4096],3:[35,U|Ux|4096],4:[12,U|Ux|4096],5:[15,U|Ux|4096],6:[21,U|Ux|4096],7:[24,U|Ux|4096],48:[9,Z|dy|8192,Z|cy|4096],49:[18,Z|dy|8192,Z|cy|4096],50:[34,Z|dy|4096],51:[35,Z|dy|4096],52:[15,Z|dy|8192,Z|cy|4096],53:[12,Z|dy|8192,Z|cy|4096],54:[24,Z|dy|8192,Z|cy|4096],55:[21,Z|dy|8192,Z|cy|4096]},221:{0:[0,U|Ux|4096],2:[1,U|Ux|8192],3:[2,U|Ux|8192],4:[71,U|4111],6:[69,U|8207],
7:[62,U|Px|8192],48:[74,Z|dy|4096],49:[3,Z|dy|8192],50:[1,Z|dy|4096],51:[2,Z|dy|4096]},222:{0:[11,U|Px|4096],1:[20,U|Px|4096],2:[37,U|Px|4096],3:[38,U|Px|4096],4:[14,U|Px|4096],5:[17,U|Px|4096],6:[23,U|Px|4096],7:[26,U|Px|4096],48:[10,Z|dy|8192,Z|cy|4096],49:[19,Z|dy|8192,Z|cy|4096],50:[35,Z|dy|4096],51:[36,Z|dy|4096],52:[16,Z|dy|8192,Z|cy|4096],53:[13,Z|dy|8192,Z|cy|4096],54:[25,Z|dy|8192,Z|cy|4096],55:[22,Z|dy|8192,Z|cy|4096]},223:{0:[4,U|Px|4096],2:[5,U|Px|8192],3:[6,U|Px|8192],4:[7,U|Wx|4096],
5:[4,U|Tx|4096],6:[8,U|Wx|8192],7:[6,U|Tx|8192],48:[75,Z|dy|4096],49:[3,Z|dy|8192],50:[2,Z|dy|4096],51:[2,Z|dy|4096],52:[80,Wy]}},Ax=[[[6,U|W|Y,X|W|4096],[100,U|W|Y,X|W|4096],[5,U|W|Y,X|W|4096],[121,U|W|Y,X|W|4096],[7,U|W|Y,X|W|4096],[155,U|W|Y,X|W|4096],[163,U|W|Y,X|W|4096],[24,U|W|4096,X|W|4096]],[[6,U|V|Y,X|V|4096],[100,U|V|Y,X|V|4096],[5,U|V|Y,X|V|4096],[121,U|V|Y,X|V|4096],[7,U|V|Y,X|V|4096],[155,U|V|Y,X|V|4096],[163,U|V|Y,X|V|4096],[24,U|V|4096,X|V|4096]],[[6,U|V|Y,X|Zx|4096],[100,U|V|Y,X|Zx|
4096],[5,U|V|Y,X|Zx|4096],[121,U|V|Y,X|Zx|4096],[7,U|V|Y,X|Zx|4096],[155,U|V|Y,X|Zx|4096],[163,U|V|Y,X|Zx|4096],[24,U|V|4096,X|Zx|4096]],[[116,U|W|Y|Wy,X|W|4096],[117,U|W|Y|Wy,X|W|4096],[110,U|W|Y|Wy,X|W|4096],[111,U|W|Y|Wy,X|W|4096],[141,U|W|Y|Wy,X|W|4096],[143,U|W|Y|Wy,X|W|4096],Fv,[120,U|W|Y|Wy,X|W|4096]],[[116,U|V|Y|Wy,X|W|4096],[117,U|V|Y|Wy,X|W|4096],[110,U|V|Y|Wy,X|W|4096],[111,U|V|Y|Wy,X|W|4096],[141,U|V|Y|Wy,X|W|4096],[143,U|V|Y|Wy,X|W|4096],Fv,[120,U|V|Y|Wy,X|W|4096]],[[116,U|W|Y,Yx|W|4096],
[117,U|W|Y,Yx|W|4096],[110,U|W|Y,Yx|W|4096],[111,U|W|Y,Yx|W|4096],[141,U|W|Y,Yx|W|4096],[143,U|W|Y,Yx|W|4096],Fv,[120,U|W|Y,Yx|W|4096]],[[116,U|V|Y,Yx|W|4096],[117,U|V|Y,Yx|W|4096],[110,U|V|Y,Yx|W|4096],[111,U|V|Y,Yx|W|4096],[141,U|V|Y,Yx|W|4096],[143,U|V|Y,Yx|W|4096],Fv,[120,U|V|Y,Yx|W|4096]],[[116,U|W|Y,Hy|4096],[117,U|W|Y,Hy|4096],[110,U|W|Y,Hy|4096],[111,U|W|Y,Hy|4096],[141,U|W|Y,Hy|4096],[143,U|W|Y,Hy|4096],Fv,[120,U|W|Y,Hy|4096]],[[116,U|V|Y,Hy|4096],[117,U|V|Y,Hy|4096],[110,U|V|Y,Hy|4096],
[111,U|V|Y,Hy|4096],[141,U|V|Y,Hy|4096],[143,U|V|Y,Hy|4096],Fv,[120,U|V|Y,Hy|4096]],[[156,U|W|4096,X|W|4096],Fv,[99,U|W|Y],[97,U|W|Y],[96,U|W|4096],[42,U|W|Y],[32,U|W|4096],[41,U|W|Y]],[[156,U|V|4096,X|V|4096],Fv,[99,U|V|Y],[97,U|V|Y],[96,U|V|4096],[42,U|V|Y],[32,U|V|4096],[41,U|V|Y]],[[44,U|W|Y],[31,U|W|Y],Fv,Fv,Fv,Fv,Fv,Fv],[[44,U|V|Y],[31,U|V|Y],[17,U|V|4096],[17,U|Qx|4096],[58,U|V|4096],[58,U|Qx|4096],[109,U|V|4096],Fv],[],[[146,U|Px|8192|Wy],[154,U|Px|8192|Wy],[79,U|Px|4096|Wy],[90,U|Px|4096|
Wy],[157,U|Px|4096|Wy],[158,U|Px|4096|Wy],Fv,Fv],[[140,U|Px|8192|Wy],[145,U|Px|8192|Wy],[76,U|Px|4096|Wy],[78,U|Px|4096|Wy],[147,U|Px|8192|Wy],Fv,[80,U|Px|4096|Wy],Fv],[Fv,Fv,Fv,Fv,[13,U|V|4096|T,X|W|4096],[16,U|V|8192|T,X|W|4096],[15,U|V|8192|T,X|W|4096],[14,U|V|8192|T,X|W|4096]]],Kv={256:["tss286",!1],512:["ldt",!1],768:["busy tss286",!1],1024:["call gate",!0],1280:["task gate",!0],1536:["int gate286",!0],1792:["trap gate286",!0],2304:["tss386",!1],2816:["busy tss386",!1],3072:["call gate386",!0],
3584:["int gate386",!0],3840:["trap gate386",!0]},Ov={PREV_TSS:0,CPL0_SP:2,CPL0_SS:4,CPL1_SP:6,CPL1_SS:8,CPL2_SP:10,CPL2_SS:12,TASK_IP:14,TASK_PS:16,TASK_AX:18,TASK_CX:20,TASK_DX:22,TASK_BX:24,TASK_SP:26,TASK_BP:28,TASK_SI:30,TASK_DI:32,TASK_ES:34,TASK_CS:36,TASK_SS:38,TASK_DS:40,TASK_LDT:42},Pv={PREV_TSS:0,CPL0_ESP:4,CPL0_SS:8,CPL1_ESP:12,CPL1_SS:16,CPL2_ESP:20,CPL2_SS:24,TASK_CR3:28,TASK_EIP:32,TASK_PS:36,TASK_EAX:40,TASK_ECX:44,TASK_EDX:48,TASK_EBX:52,TASK_ESP:56,TASK_EBP:60,TASK_ESI:64,TASK_EDI:68,
TASK_ES:72,TASK_CS:76,TASK_SS:80,TASK_DS:84,TASK_FS:88,TASK_GS:92,TASK_LDT:96,TASK_IOPM:100};Vb(function(){for(var a=pc("pcx86","debugger"),b=0;b<a.length;b++){var c=a[b],d=qc(c);d=new yv(d);oc(d,c)}});
function Xy(a,b,c){dc.call(this,"Computer",a,1073741824);var d=this;Yy(this,b);this.U=Be(this,"autoPower",a);this.A=+Be(this,"diagnostics",a);0<=this.A&&2>=this.A||(this.A=1);this.F=0;this.la=a.busWidth||a.buswidth;this.B=Zy;this.O=null;this.L=this.ca=!1;this.url=Be(this,"url")||"";this.pa=(Math.random()+.1).toString(36).substr(2,12);this.D=$y(this);if(this.G=nc("CPU",this.id)){(this.bl=nc("FPU",this.id))||new ki({id:this.pd+".fpu"});this.fa=nc("Debugger",this.id);this.C=[];for(b=null;b=Yc(this,"Video",
b);)this.C.push(b);this.ra=new ud({id:this.pd+".bus",busWidth:this.la},this.G,this.fa);var e=rc(this.id);this.K=(this.ia=nc("Panel",this.id))&&this.ia.oa.print;this.ka=this.print;this.K&&(this.ka=this.ia.print);for(b=0;b<e.length;b++){var f=e[b];f.print=function(h,k){var l=k;l=void 0===l?0:l;if(d.I)for(var p=0;p<d.C.length;p++){var n=d.C[p];n&&(n=n.el)&&(4398046511104==l&&"...\n"==h.slice(-4)?kc(n,h.slice(0,-1),h.slice(0,-1)+"."):jc(n,h))}return d.ka.call(this,h,k)}.bind(f)}this.I=0;!this.K&&this.A&&
az(this);this.J(0,"%s v%s\n%s\n%s\n","PCx86","2.23","Copyright \u00a9 2012-2025 Jeff Parsons <Jeff@pcjs.org>","License: MIT <https://www.pcjs.org/LICENSE.txt>");for(b=0;b<e.length;b++)f=e[b],f.bd&&f.bd(this,this.ra,this.G,this.fa);ed(this.G,this.id,function(){ef(d)},1E3/bz);b=null;f=Be(this,"resume");void 0!==f&&(1<f.length?b=this.N=f:this.B=parseInt(f,10));f=!1;e=Mb("state");e||(f=!0,e=Be(this,"state",a));e&&(b=this.P=e,f||(this.L=!0,this.B=Zy),this.B&&(this.V=new Wg(this,"2.23"),this.V.load()?b=
null:delete this.V));!b&&this.B&&(b=cz(this))&&(this.L=!0);if(this.Z=b){var g="Loading "+this.Z+"...";sb(this.Z,null,!0,function(h,k,l){l?(d.N=null,d.L=!1,d.J(274877906944,"Unable to load machine state (%s) from server (error %d%s)\n",h,l,k?": "+gb(k):"")):(fc(d.pd,h,k),d.O=k,d.ca=!0);Cc(d)},function(){d.J(4398046511104,"%s\n",g)})}else Cc(this);this.oa.power||(this.U=!0);!c&&this.U&&this.wait(this.Eh)}else hc("Unable to find CPU component")}oa(Xy,dc);function zy(a){a.K&&(a.K.value="")}
function az(a){if(!a.I)for(var b=0;b<a.C.length;b++){var c=a.C[b];c&&(c=c.el)&&(c.style.opacity="1",c.style.lineHeight="1",a.I++)}}function dz(a){if(a.I){for(var b=0;b<a.C.length;b++){var c=a.C[b];c&&(c=c.el)&&(c.style.opacity="0",c.style.lineHeight="0",Kb("MSIE")&&(c.style.fontSize="0"))}a.I=0}a.A=0}
function ez(a,b){if(a.I&&(1==a.A&&(a.A+=2,setTimeout(function(c){return function(){Tp(c)}}(a),2E3),a.J(0,"Initialization complete\n")),2==a.A&&(a.A+=2,a.J(0,"Initialization complete, press a key to continue...\n")),3==a.A||4==a.A))return Cc(a,!1),a.wait(a.Gn,b),!1;dz(a);return!0}function Tp(a,b,c){var d=a.A;b&&16==b.keyCode&&3==a.A&&(a.A++,a.J(0,"Machine paused, press another key to continue...\n"),b=null);if(!b&&3==a.A||b&&c&&4==a.A)a.A=5,Cc(a);return!d}
function Yy(a,b){if(!b){var c,d,e=r.resources;if("object"==typeof e&&(c=e.parms)||(d=xa.machines[a.pd])&&(c=d.parms))try{b=eval("("+c+")")}catch(f){hc(f.message+" ("+c+")")}}a.M=b}function Ae(a,b,c){a=Be(a,b);void 0!=a&&(c="true"==a?!0:"false"==a?!1:!!a);return c}
function Be(a,b,c){var d=Mb(b);if(d)try{d=d.replace(/([^\\])"/g,'$1\\"'),d=eval('"'+d+'"')}catch(e){hc(e.message+" ("+d+")"),d=void 0}void 0===d&&a.M&&(d=a.M[b]);void 0===d&&c&&(d=c[b]);a=r.resources;if(!d&&"object"==typeof a)if(a[b])d=b;else try{d=JSON.parse(a.parms)[b]}catch(e){hc(e.message+" ("+a.parms+")")}return d}m=Xy.prototype;m.wait=function(a,b){for(var c=this,d=rc(this.id),e=0;e<=d.length;e++){var f=e<d.length?d[e]:this;if(!Bc(f)){Bc(f,function(){c.wait(a,b)});return}}a.call(this,b)};
function fz(a,b){var c=new Wg(a,"2.23",gz);if(c.load()&&hz(c)){var d=c.get(iz),e=b?b.get(iz):"unknown";d!=e&&(a.J(274877906944,"Machine state may be out-of-date\n(%s vs. %s)\nCheck your browser's local storage limits\n",d,e),b||c.clear())}}
m.Eh=function(a){void 0===a&&(a=this.B||(this.O?jz:Zy));if(!this.F){this.F++;var b=!1,c=!1;this.ba=!1;var d=this.V||new Wg(this,"2.23");if(a==Je)b=!0;else if(a>Zy){if(d.load(this.O)){this.H=new Wg(this,"2.23",kz);this.H.load()&&(a!=jz&&lz(this)&&(a=mz),nz(this.H));this.H.set(iz,fb("%T",new Date));this.H.store();var e=this.B&&!this.L;if(a==jz||ic("Click OK to restore the previous PCx86 machine state.")){if(c=hz(d)){var f=d.get("code"),g=d.get("data");f&&("ok"==f?d.load(g):("error"==f&&"no machine state"!=
g?(this.J(274877906944,"Error: %s\n",g),"unable to verify user"==g&&(Hb(oz,""),this.D=null)):this.J(2199023255552,"%s: %s\n",f,g),nz(d),d.load()?(c=hz(d),e=!0):c=!1))}e&&fz(this,c?d:null)}else a==mz&&d.clear()}else fz(this);delete this.O;delete this.V}e=rc(this.id);for(f=0;f<e.length;f++)if(g=e[f],g!==this&&g!=this.G)try{c=pz(this,g,d,b,c)}catch(h){hc(g.type+" restore failure: "+h.message)}b=[d,a,c];a!=Je?this.wait(this.Gn,b):this.Gn(b)}};
function pz(a,b,c,d,e){if(!b.flags.Hc){b.flags.Hc=!0;if(b.Gc){var f=null;e&&((f=c.get(b.id))||(f=c.get(b.id.replace(/-[0-9]+\./i,"."))));"string"===typeof f&&(f=null);!b.Gc(f,d)&&f&&(a.flags.Dg||(a.J(274877906944,"Unable to restore hardware state\n"),a.P&&!a.ca?(c.clear(),a.B=Zy,r.location&&r.location.reload()):a.ba=!0),b.Gc(null),e=!1)}b.flags.hj=!0;if(!d&&b.lq)for(a=b.lq.split("|"),c=0;c<a.length;c++)b.J(137438953472,"%s\n",a[c])}return e}
m.Gn=function(a){if(!this.flags.hj){if(!ez(this,a))return;this.flags.hj=!0}var b=a[0],c=0>a[1];a=a[2];var d=this.oa.power;d&&(d.textContent="Shutdown");this.flags.Hc=!0;this.G&&(pz(this,this.G,b,c,a),this.G.Ue());this.ba&&(lz(this),b.clear());!c&&this.H&&(this.H.clear(),delete this.H);this.F=0;tc(this.pd,Be(this,"autoScript"))};function lz(a){return a.flags.Dg?!1:(Yb("There may be a problem with your PCx86 machine."),!0)}
function Ey(a,b,c){var d="none";if(a.F)return null;a.F--;var e=new Wg(a,"2.23"),f=new Wg(a,"2.23",gz),g=fb("%T",new Date);f.set(iz,g);e.set(iz,g);e.set(qz,"2.23");e.set(rz,r.location?r.location.href:null);e.set(Dz,Bb());if(a.G&&a.G.Fc){var h=a.G.Fc(b,c);"object"===typeof h&&e.set(a.G.id,h);c&&(a.G.flags.Hc=!1,!1===h&&(d=null))}g=rc(a.id);for(var k=0;k<g.length;k++){var l=g[k];l.flags.Hc&&(l.Fc&&(h=l.Fc(b,c),"object"===typeof h&&e.set(l.id,h)),c&&(l.flags.Hc=!1,!1===h&&(d=null)))}d&&(c?(g=h=!1,b?(a.D&&
Ez(a,a.D,e.toString()),f.store()&&e.store()||(d=null,h=g=!0)):a.B&&(h=!0,g=a.B==Fz),h&&e.clear(g)):d=e.toString());c&&(a.flags.Hc=!1,b=a.oa.power)&&(b.textContent="Power");a.F=0;return d}m.reset=function(){this.ra&&this.ra.reset&&(this.J("Resetting %s\n",this.ra.type),this.ra.reset());for(var a=rc(this.id),b=0;b<a.length;b++){var c=a[b];c!==this&&c!==this.ra&&c.reset&&(this.J("Resetting %s\n",c.type),c.reset())}};
m.start=function(a,b){for(var c=rc(this.id),d=0;d<c.length;d++){var e=c[d];"CPU"!=e.type&&e!==this&&e.start&&e.start(a,b)}};m.stop=function(a,b){for(var c=rc(this.id),d=0;d<c.length;d++){var e=c[d];"CPU"!=e.type&&e!==this&&e.stop&&e.stop(a,b)}};
m.Sb=function(a,b,c){var d=this;switch(b){case "power":return this.oa[b]=c,c.onclick=function(){d.F||(d.flags.Hc?Ey(d,!1,!0):d.wait(d.Eh))},!0;case "reset":return this.oa[b]=c,c.onclick=function(){a:if(d.flags.Hc&&!d.F){d.G&&(d.G.flags.Ue=d.G.flags.vb);if(d.B&&!d.N){var e=d.flags.Dg||!ic("Click OK to reset this machine and discard all disk modifications.");Ey(d,e,!0);if(!e&&d.P){r.location&&r.location.reload();break a}e||(d.X=!0);d.Eh(Zy);d.X=!1}else d.reset(),d.G&&d.G.Ue();d.Ed(!0)}},!0;case "save":if(bb(yb(),
"pcjs.org"))c.parentNode.removeChild(c);else return this.oa[b]=c,c.onclick=function(){var e=$y(d,!0);if(e){var f=!!(d.B&&!d.N||d.P),g=Ey(d,f);f?Ez(d,e,g):d.J(274877906944,"Resume disabled, machine state not saved\n")}},!0}return!1};
function $y(a,b){var c=a.D;c||((c=Fb(oz),void 0!==c)?!c&&b&&(b=null,r.prompt&&(b=r.prompt("Saving machine states on the pcjs.org server is currently unsupported.\n\nIf you're running your own server, enter your user ID below.","")),c=b)&&((c=Gz(a,c))||a.J(274877906944,"The user ID is invalid.\n")):b&&a.J(274877906944,"Browser local storage is not available\n"));return c}
function Gz(a,b){a.D=null;b=sb(wb()+"/api/v1/user?req=verify&user="+b);var c=b[1];if(!b[0]&&c)try{b=eval("("+c+")"),b.code&&"ok"==b.code&&(Hb(oz,b.data),a.D=b.data)}catch(d){hc(d.message+" ("+c+")")}return a.D}function cz(a){var b=null;a.D&&(b=wb()+"/api/v1/user?req=load&user="+a.D+"&state="+Hz(a,"2.23"));return b}
function Ez(a,b,c){if(c){var d={req:"store"};d.user=b;d.state=Hz(a,"2.23");d.data=c;b=sb(wb()+"/api/v1/user",d);d=b[0];if(b[1]){if(d){var e=d.indexOf("\n");0<e&&(d=d.substr(0,e));d.indexOf("Error: ")||(d=d.substr(7))}d='{"code":'+b[1]+',"data":"'+d+'"}'}b=JSON.parse(d);b&&"ok"==b.code?a.J(274877906944,"Machine state saved to server\n"):c&&(c=b&&b.data||"unable to save machine state",c="error"==b.code?"Error: "+c:"Error "+b.code+": "+c,a.J(274877906944,"%s\n",c),Hb(oz,""),a.D=null)}}
function Yc(a,b,c){c=void 0===c?null:c;a=rc(a.id);for(var d=0;d<a.length;d++){var e=a[d];if(c)c==e&&(c=null);else if(e.type==b)return e}return null}m.Ed=function(a){if(ua&&this.C.length){var b=0,c=0;a||(b=r.scrollX,c=r.scrollY);dr(this.C[0],a);!a&&r.scrollTo&&r.scrollTo(b,c)}};
function ef(a,b){if(a.G){var c=a.G;if(c.$p&&(b||!c.flags.vb||c.flags.fs)){Sh(c,"EAX",c.D);Sh(c,"EBX",c.H);Sh(c,"ECX",c.I);Sh(c,"EDX",c.M);Sh(c,"ESP",dg(c));Sh(c,"EBP",c.N);Sh(c,"ESI",c.L);Sh(c,"EDI",c.K);Sh(c,"CS",Og(c));Sh(c,"DS",c.Ha.W);Sh(c,"SS",c.U.W);Sh(c,"ES",c.ka.W);Sh(c,"EIP",kg(c));var d=Pg(c);Sh(c,"PS",d);Sh(c,"V",d&2048);Sh(c,"D",d&1024);Sh(c,"I",d&512);Sh(c,"T",d&256);Sh(c,"S",d&128);Sh(c,"Z",d&64);Sh(c,"A",d&16);Sh(c,"P",d&4);Sh(c,"C",d&1);80386==c.model&&(Sh(c,"FS",c.Qa.W),Sh(c,"GS",
c.Ta.W),Sh(c,"CR0",c.ta),Sh(c,"CR2",c.ee),Sh(c,"CR3",c.Lc))}if(d=c.oa.speed)d.textContent=Pe(c)}if(a.ia&&(c=a.ia,c.canvas)){if(c.context&&c.B&&c.L){d=c.G;var e=c.B.width,f=c.B.height;c.L.fillStyle=cd.COLOR;c.L.fillRect(0,0,e,f);ld(c,bd.Ng.Vb,c.B,c.L,c.canvas.style.color);qd(c,3);pd(c,"CPU");pd(c,"Target");pd(c,"Current");rd(c);pd(c,d.model);pd(c,Le(d));pd(c,Pe(d));rd(c,2);qd(c,8);var g=80386>d.model?4:8;c.Qa=16;c.xa=g;pd(c,"AX",d.D,2);pd(c,"DS",d.Ha.W,0,1);pd(c,"DX",d.M,2);pd(c,"SI",d.L,0,1.5);pd(c,
"BX",d.H,2);pd(c,"ES",d.ka.W,0,1);pd(c,"CX",d.I,2);pd(c,"DI",d.K,0,1.5);pd(c,"CS",Og(d),2);pd(c,"SS",d.U.W,0,1);pd(c,"IP",kg(d),2);pd(c,"SP",dg(d),0,1.5);pd(c,"PS",g=Pg(d),2);pd(c,"BP",d.N,0,1.5);80386<=d.model&&(pd(c,"FS",d.Qa.W,2),pd(c,"CR0",d.ta,0,1),pd(c,"GS",d.Ta.W,2),pd(c,"CR3",d.Lc,0,1.5));qd(c,9);pd(c,"V"+(g&2048?1:0));pd(c,"D"+(g&1024?1:0));pd(c,"I"+(g&512?1:0));pd(c,"T"+(g&256?1:0));pd(c,"S"+(g&128?1:0));pd(c,"Z"+(g&64?1:0));pd(c,"A"+(g&16?1:0));pd(c,"P"+(g&4?1:0));pd(c,"C"+(g&1?1:0),0,
2);kd(c,c.ca);c.context.drawImage(c.B,0,0,e,f,c.Ba,c.jb,c.ka,c.Oa)}fd(c)}if(void 0!==b)for(c=0;c<a.C.length;c++)er(a.C[c],b)}var kz="failsafe",gz="validate",iz="timestamp",qz="version",rz="url",Dz="browser",oz="user",Je=-1,Zy=0,jz=1,mz=2,Fz=3,bz=2;Vb(function(){for(var a=pc("pcx86","machine"),b=0;b<a.length;b++){var c=a[b],d=qc(c);c=pc("pcx86","computer",c);for(var e=0;e<c.length;e++){var f=c[e],g=qc(f);g=new Xy(g,d,!0);oc(g,f);g.U&&g.wait(g.Eh)}}});
Xb.show.push(function(){for(var a=pc("pcx86","computer"),b=0;b<a.length;b++){var c=qc(a[b]);if(c=nc("Computer",c.id))c.flags.Dg=!1,c.flags.hj&&!c.flags.Hc&&c.Eh(Je)}});Xb.exit.push(function(){for(var a=pc("pcx86","computer"),b=0;b<a.length;b++){var c=qc(a[b]);if(c=nc("Computer",c.id))c.flags.Dg=!0,c.flags.Hc&&Ey(c,!(!c.B||c.N),!0)}});function Wg(a,b,c){this.id=a.id;this.fa=a.fa;this.A="";this.state={};this.B=this.G=!1;this.key=Hz(a,b,c);nz(this,a.Go)}m=Wg.prototype;
m.set=function(a,b){try{this.state[a]=b}catch(c){tb(1099511627776,c.message)}};m.get=function(a){return this.state[a]||null};m.data=function(){return this.state};m.load=function(a){return a?(this.A=a,this.B=!0,this.G=!1,!0):this.B?!0:Cb()&&(a=Fb(this.key))?(this.A=a,this.B=!0,tb(2199023255552,"localStorage(%s): %d bytes loaded\n",this.key,a.length),!0):!1};function hz(a){var b=!0;if(!a.G)try{a.state=JSON.parse(a.A),a.G=!0}catch(c){hc(c.message||c),b=!1}return b}
m.store=function(){var a=!0;if(Cb()){var b=JSON.stringify(this.state);Hb(this.key,b)?tb(2199023255552,"localStorage(%s): %d bytes stored\n",this.key,b.length):(tb(1099511627776,"Unable to store %d bytes in browser local storage\n",b.length),a=!1)}return a};m.toString=function(){return this.state?JSON.stringify(this.state):this.A};function nz(a,b){a.A="";a.state={};a.B=a.G=!1;b&&a.set("parms",b)}
m.clear=function(a){nz(this);var b=[];if(Cb())try{for(var c=0,d=r.localStorage.length;c<d;c++)b.push(r.localStorage.key(c))}catch(f){Eb(f)}for(c=0;c<b.length;c++)if((d=b[c])&&(a||d.substr(0,this.key.length)==this.key)){var e=d;if(Cb())try{r.localStorage.removeItem(e)}catch(f){Eb(f)}tb(2199023255552,"localStorage(%s) removed\n",d);b.splice(c,1);c=0}};function Hz(a,b,c){a=a.id;if(b){var d=b.indexOf(".");0<d&&(a+=".v"+b.substr(0,d))}c&&(a+="."+c);return a}
function Cq(a){if(a){var b=0,c=[];if(void 0!==a[0])for(var d=0;2>d;d++)for(var e=d;e<a.length;){for(var f=a[e],g=e+2;g<a.length&&a[g]===f;)g+=2;c[b++]=g-e>>1;c[b++]=f;e=g}if(c.length<a.length)return c}return a}var Iz=0;function Jz(a,b,c,d,e,f,g,h,k){h("Loading "+a+"...");sb(a,null,!0,function(l,p,n){n?(p||(p="unable to load "+a+" ("+n+")"),k(l,p,null)):Kz(p,a,b,c,d,e,f,g,h,k)})}
function Kz(a,b,c,d,e,f,g,h,k,l){function p(n,q,u){if(u)l(n,u,null);else{c&&(fc(c,b,q),(u=b)&&0>u.indexOf("/")&&"/"==window.location.pathname.slice(-1)&&(u=window.location.pathname+u),f?"}"==f.slice(-1)?(f=f.slice(0,-1),1<f.length&&(f+=",")):f='{state:"'+f+'",':f="{",f+='url:"'+u+'"}',"object"==typeof resources&&(u=null),f=f.replace(/\$/g,"$$$$").replace(/'/g,"&apos;"),g&&(n=q.match(/(<machine[^>]*\sclass=)(['"])(.*?)(\2[^>]*>)/))&&(q=q.replace(n[0],n[1]+n[2]+g+n[4]),g=""),(n=q.match(/(<machine[^>]*\sdebugger=)(['"])(available)(\2[^>]*>)/))&&
(q=q.replace(n[0],n[1]+n[2]+"optional"+n[4])),q=q.replace(/(<machine[^>]*\sid=)(['"]).*?\2/,"$1$2"+c+"$2"+(g?' class="'+g+'"':"")+(f?" parms='"+f+"'":"")+(u?' url="'+u+'"':"")));h||(q=q.replace(/(<xsl:variable name="APPNAME">).*?(<\/xsl:variable>)/,"$1"+d+"$2"),q=q.replace(/(<xsl:variable name="APPCLASS">).*?(<\/xsl:variable>)/,"$1"+e+"$2"),q=q.replace(/<xsl:variable name="APPVERSION"(\/>|>[^<]*<\/xsl:variable>)/,'<xsl:variable name="APPVERSION">2.23</xsl:variable>'));n=null;if("<"==q.charAt(0))try{h||
(q=q.replace(/<!DOCTYPE(.|[\r\n])*]>\s*/g,"")),window.ActiveXObject||"ActiveXObject"in window?(n=new window.ActiveXObject("Microsoft.XMLDOM"),n.async=!1,n.loadXML(q)):n=(new window.DOMParser).parseFromString(q,"text/xml")}catch(y){n=null,q=y.message}else q="unrecognized XML: "+(255<q.length?q.substr(0,255)+"...":q);l(b,q,n)}}a?h?Lz(b,a,k,p):p(b,a,""):l(b,"no data",null)}
function Lz(a,b,c,d){var e;if(e=/<([a-z]+)\s+ref="(.*?)"(.*?)\/>/g.exec(b)){var f=e[2];c("Loading "+f+"...");sb(f,null,!0,function(g,h,k){if(k||!h)d(g,b,"unable to resolve XML reference: "+e[0]+" ("+k+")");else{if(k=e[3]){var l=h.match(new RegExp("<"+e[1]+"[^>]*>"));if(l){for(var p=l[0],n,q=/( [a-z]+=)(['"])(.*?)\2/gi;n=q.exec(k);)p=0>p.toLowerCase().indexOf(n[1].toLowerCase())?p.replace(">",n[0]+">"):p.replace(new RegExp(n[1]+"(['\"])(.*?)\\1"),n[0]);l[0]!=p&&(h=h.replace(l[0],p))}else{d(g,b,"missing <"+
e[1]+"> in "+f);return}}h=h.replace(/<\?xml[^>]*>[\r\n]*/,"");b=b.replace(e[0],h);Lz(g,b,c,d)}})}else d(a,b,"")}
function Mz(a,b,c,d,e,f,g){function h(G){if(void 0===n){var K=p&&pc("machine-warning","",p);n=K&&K[0]||p}n&&(n.innerHTML=cb(G))}function k(G,K){if("string"==typeof K&&0<=K.indexOf("<!DOCTYPE html>")){var B=K.match(/<title>(?:PCjs: |)(.*?)<\/title>/);B&&(K=B[1])}tb(1099511627776,"%s\n",K);h("Error: "+K+(G?" ("+G+")":""));q&&l();q=!1}function l(){--Iz||ac(!0)}var p,n,q=!0;Iz++;xa.machines[c]={};if(!d)return f&&fc(c,"parms",f),l(),q;"true"==Mb("debugger")&&0>d.indexOf("/debugger")&&(d=d.replace("/machine.xml",
"/debugger/machine.xml"));try{if(p=document.getElementById(c)){var u,y=r.resources;if("object"==typeof y&&(u=y.css)){var N=document.head||document.getElementsByTagName("head")[0],E=document.createElement("style");E.type="text/css";E.styleSheet?E.styleSheet.cssText=u:E.appendChild(document.createTextNode(u));N.appendChild(E)}e||(e="/machines/"+b+"/xsl/components.xsl");b=b.split("/").pop();u=function(G,K,B){B?Jz(e||"","",a,b,"","",!1,h,function(qa,Ba,Aa){if(Aa)if(fc(c,e||"",Ba),h("Processing "+d+"..."),
window.ActiveXObject||"ActiveXObject"in window)(Aa=B.transformNode(Aa))?(p.outerHTML=Aa,l()):k(qa,"transformNodeToObject failed");else if(document.implementation&&document.implementation.createDocument)if(Ba=new XSLTProcessor,Ba.importStylesheet(Aa),Aa=Ba.transformToFragment(B,document))if(Ba=p.parentNode){var Ha=qa=0,Ua=p.getBoundingClientRect();0>Ua.bottom&&(qa=window.scrollX,Ha=window.scrollY);Ba.replaceChild(Aa,p);(p=document.getElementById(c))&&0>Ua.bottom&&(Aa=p.getBoundingClientRect(),Ha=window.performance&&
window.performance.navigation.type==window.performance.navigation.TYPE_RELOAD?0:Ha+Math.ceil(Aa.height-Ua.height),window.scrollTo(qa,Ha));l()}else k(qa,"invalid machine element: "+c);else k(qa,"transformToFragment failed");else k(qa,"unable to transform XML: unsupported browser");else k(qa,Ba)}):k(G,K)};"<"!=d.charAt(0)?Jz(d,c,a,b,f||"",g||"",!0,h,u):Kz(d,"",c,a,b,f||"",g||"",!1,h,u)}else k(d,"missing machine element: "+c)}catch(G){k(d,G.message)}return q}
function Nz(a,b,c,d,e){ac(!1);return Mz("PCx86","pcx86",a,b,c,d,e)}r.embedC1P=function(a,b,c,d,e){ac(!1);return Mz("C1Pjs","osi/c1p",a,b,c,void 0,e)};r.embedPC=Nz;r.embedPCx86=Nz;r.embedPCx80=function(a,b,c,d,e){ac(!1);return Mz("PCx80","pcx80",a,b,c,d,e)};r.embedPDP10=function(a,b,c,d,e){ac(!1);return Mz("PDPjs","dec/pdp10",a,b,c,d,e)};r.embedPDP11=function(a,b,c,d,e){ac(!1);return Mz("PDPjs","dec/pdp11",a,b,c,d,e)};
r.commandMachine=function(a,b,c,d,e,f){if("script"==e)return tc(c,f)?(b&&(a.disabled=!0),!0):!1;if(d){var g=nc(d,c+".machine");if(g){var h=g.exports;if(h&&(h=h[e]))return h.call(g,f)?(b&&(a.disabled=!0),!0):!1}}console.log("unimplemented: commandMachine('"+c+"','"+d+"','"+e+"','"+f+"')");return!1};r.enableEvents=ac;r.sendEvent=Zb;
function Oz(a,b,c,d){if(!c&&b){d.push(b);a=xa.machines[d[0]];b=null;for(var e in a)if(bb(e,"components.xsl")){b=e.replace(".xsl",".css");break}b?sb(b,null,!0,function(f,g){Pz(g,d)}):Pz("",d)}else vb("Error ("+c+") requesting "+a)}
function Pz(a,b){var c,d,e=b[0],f=b[1];var g=b[4];if(g=g.match(/^(\s*\(function\(\){)([\s\S]*)(}\)\(\);?)/)){var h=xa.machines[e],k={},l;for(l in h){var p=h[l],n=ab(l);if("xml"==n){for(n=/[ \t]*<disk [^>]*path=(['"])(.*?)\1.*?<\/disk>\n?/g;c=n.exec(h[l]);){var q=c[2];q&&(h[q]?tb('recording disk: "%s"\n',q):p=p.replace(c[0],""))}c=l=$a(l)}else"xsl"==n&&(d=l=$a(l));tb('saving resource: "%s" (%d bytes)\n',l,p.length);k[l]=p}a&&(k[l="css"]=a,tb('saving resource: "%s" (%d bytes)\n',l,a.length));b[2]&&
(a=k[l="parms"]=b[2],tb('saving resource: "%s" (%d bytes)\n',l,a.length));b[3]&&(a=k[l="state"]=b[3],tb('saving resource: "%s" (%d bytes)\n',l,a.length));c&&d?(b=JSON.stringify(k),f+=".js",g=g[1]+"var resources="+b+";"+g[2]+g[3],tb('saving machine: "%s" (%d bytes)\n',e,g.length),b=Rb(g,"javascript",!1,f),b=b+(', copy it to your web server as "'+f+'", and then add the following to your web page:\n\n<div id="')+(e+'"></div>\n<script src="')+(f+'">\x3c/script>\n<script>embedPCx86("')+(e+'","'+(c+'","')+
(d+'");\x3c/script>\n\nThe machine should appear where the <div> is located.')),vb(b)):vb("This feature is not currently available for machines created directly from XML files.")}else vb("Unsupported script")}r.savePC=function(a,b,c){var d=nc("Computer",a);if(d){var e=Ey(d,!0),f=d.M?JSON.stringify(d.M):null;b||(b="/machines/pcx86/releases/2.23/pcx86.js");if(c&&c({state:e,Go:f}))return!0;sb(b,null,!0,function(g,h,k){Oz(g,h,k,[a,$a(b,!0),f,e])});return!0}vb("Unable to identify machine '"+a+"'");return!1};})()

//# sourceMappingURL=pcx86.js.map
